var pe={},tl=(So,Yc,el)=>(pe.__chunk_9036=(ye,j,y)=>{function v(M,k,T,x){return new(T||(T=Promise))(function(b,l){function h(N){try{S(x.next(N))}catch(R){l(R)}}function m(N){try{S(x.throw(N))}catch(R){l(R)}}function S(N){var R;N.done?b(N.value):((R=N.value)instanceof T?R:new T(function(K){K(R)})).then(h,m)}S((x=x.apply(M,k||[])).next())})}function C(M,k){var T,x,b,l={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]},h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(S){return function(N){return function(R){if(T)throw TypeError("Generator is already executing.");for(;h&&(h=0,R[0]&&(l=0)),l;)try{if(T=1,x&&(b=2&R[0]?x.return:R[0]?x.throw||((b=x.return)&&b.call(x),0):x.next)&&!(b=b.call(x,R[1])).done)return b;switch(x=0,b&&(R=[2&R[0],b.value]),R[0]){case 0:case 1:b=R;break;case 4:return l.label++,{value:R[1],done:!1};case 5:l.label++,x=R[1],R=[0];continue;case 7:R=l.ops.pop(),l.trys.pop();continue;default:if(!(b=(b=l.trys).length>0&&b[b.length-1])&&(R[0]===6||R[0]===2)){l=0;continue}if(R[0]===3&&(!b||R[1]>b[0]&&R[1]<b[3])){l.label=R[1];break}if(R[0]===6&&l.label<b[1]){l.label=b[1],b=R;break}if(b&&l.label<b[2]){l.label=b[2],l.ops.push(R);break}b[2]&&l.ops.pop(),l.trys.pop();continue}R=k.call(M,l)}catch(K){R=[6,K],x=0}finally{T=b=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([S,N])}}}function f(M){var k=typeof Symbol=="function"&&Symbol.iterator,T=k&&M[k],x=0;if(T)return T.call(M);if(M&&typeof M.length=="number")return{next:function(){return M&&x>=M.length&&(M=void 0),{value:M&&M[x++],done:!M}}};throw TypeError(k?"Object is not iterable.":"Symbol.iterator is not defined.")}y.d(j,{Ju:()=>f,YH:()=>C,sH:()=>v}),typeof SuppressedError=="function"&&SuppressedError},pe.__chunk_5480=(ye,j,y)=>{y.d(j,{Nsl:()=>oo,iKp:()=>co,lHz:()=>lo});var v=y(2150),C=y(772);class f extends C.T{constructor(Ae){super(Ae),Object.setPrototypeOf(this,f.prototype)}}class M extends f{name="NoSuchUpload";$fault="client";constructor(Ae){super({name:"NoSuchUpload",$fault:"client",...Ae}),Object.setPrototypeOf(this,M.prototype)}}class k extends f{name="AccessDenied";$fault="client";constructor(Ae){super({name:"AccessDenied",$fault:"client",...Ae}),Object.setPrototypeOf(this,k.prototype)}}class T extends f{name="ObjectNotInActiveTierError";$fault="client";constructor(Ae){super({name:"ObjectNotInActiveTierError",$fault:"client",...Ae}),Object.setPrototypeOf(this,T.prototype)}}class x extends f{name="BucketAlreadyExists";$fault="client";constructor(Ae){super({name:"BucketAlreadyExists",$fault:"client",...Ae}),Object.setPrototypeOf(this,x.prototype)}}class b extends f{name="BucketAlreadyOwnedByYou";$fault="client";constructor(Ae){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...Ae}),Object.setPrototypeOf(this,b.prototype)}}class l extends f{name="NoSuchBucket";$fault="client";constructor(Ae){super({name:"NoSuchBucket",$fault:"client",...Ae}),Object.setPrototypeOf(this,l.prototype)}}class h extends f{name="InvalidObjectState";$fault="client";StorageClass;AccessTier;constructor(Ae){super({name:"InvalidObjectState",$fault:"client",...Ae}),Object.setPrototypeOf(this,h.prototype),this.StorageClass=Ae.StorageClass,this.AccessTier=Ae.AccessTier}}class m extends f{name="NoSuchKey";$fault="client";constructor(Ae){super({name:"NoSuchKey",$fault:"client",...Ae}),Object.setPrototypeOf(this,m.prototype)}}class S extends f{name="NotFound";$fault="client";constructor(Ae){super({name:"NotFound",$fault:"client",...Ae}),Object.setPrototypeOf(this,S.prototype)}}class N extends f{name="EncryptionTypeMismatch";$fault="client";constructor(Ae){super({name:"EncryptionTypeMismatch",$fault:"client",...Ae}),Object.setPrototypeOf(this,N.prototype)}}class R extends f{name="InvalidRequest";$fault="client";constructor(Ae){super({name:"InvalidRequest",$fault:"client",...Ae}),Object.setPrototypeOf(this,R.prototype)}}class K extends f{name="InvalidWriteOffset";$fault="client";constructor(Ae){super({name:"InvalidWriteOffset",$fault:"client",...Ae}),Object.setPrototypeOf(this,K.prototype)}}class F extends f{name="TooManyParts";$fault="client";constructor(Ae){super({name:"TooManyParts",$fault:"client",...Ae}),Object.setPrototypeOf(this,F.prototype)}}class A extends f{name="IdempotencyParameterMismatch";$fault="client";constructor(Ae){super({name:"IdempotencyParameterMismatch",$fault:"client",...Ae}),Object.setPrototypeOf(this,A.prototype)}}class H extends f{name="ObjectAlreadyInActiveTierError";$fault="client";constructor(Ae){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...Ae}),Object.setPrototypeOf(this,H.prototype)}}let G="AccessControlList",se="AccessControlTranslation",ee="AbortIncompleteMultipartUpload",ce="AccessKeyId",we="AccessPointArn",Ee="AccessTier",ke="Bucket",_e="BlockedEncryptionTypes",it="BucketKeyEnabled",Tt="BytesProcessed",Vt="BlockPublicAcls",jt="BlockPublicPolicy",Yt="BytesReturned",qt="BytesScanned",L="Body",ae="ChecksumAlgorithm",De="CacheControl",be="ChecksumCRC32",Ue="ChecksumCRC32C",nt="ChecksumCRC64NVME",mt="Cache-Control",Et="Content-Disposition",Xe="ContentDisposition",J="Content-Encoding",O="ContentEncoding",W="ContentLanguage",te="Content-Language",ie="Content-Length",oe="ContentLength",ve="CORSRules",He="CORSRule",qe="ChecksumSHA1",Be="ChecksumSHA256",Ye="ConfigurationState",Je="ChecksumType",Ct="Content-Type",Ft="ContentType",V="Condition",q="Credentials",Z="Days",re="DeleteMarker",le="DeleteMarkerReplication",xe="DisplayName",Ie="DefaultRetention",Ce="DestinationResult",Oe="Date",Me="Destination",We="Details",ct="Expiration",lt="EventBridgeConfiguration",yt="ExpectedBucketOwner",Rt="EncryptionConfiguration",Gt="ErrorDocument",Pt="ExistingObjectReplication",Jt="ExpiresString",Kt="EncryptionType",Ze="ETag",fr="Encryption",hr="Error",Mr="Events",xi="Event",Vr="Expires",er="Filter",En="FieldDelimiter",pr="FilterRule",Si="Format",ea="Grants",wi="GlacierJobParameters",vi="Grant",Ei="Grantee",Cn="HostName",ta="IndexDocument",Ci="IsLatest",Rn="IfMatch",An="If-Match",kn="IfNoneMatch",Tn="If-None-Match",wo="IsPublic",vo="IgnorePublicAcls",Pn="InputSerialization",In="InventoryTableConfigurationResult",ra="InventoryTableConfiguration",Mn="Initiator",Nn="JSON",ia="JournalTableConfiguration",On="JournalTableConfigurationResult",na="LoggingEnabled",Sr="LastModified",Kr="Metadata",sa="MetadataConfigurationResult",Wr="MetadataEntry",aa="MetadataTableConfigurationResult",Ri="Metrics",Dn="Mode",Gr="Name",Un="NoncurrentDays",Ai="NewerNoncurrentVersions",ki="NoncurrentVersionExpiration",bt="NoncurrentVersionTransition",ar="Owner",oa="OutputLocation",$n="ObjectLockLegalHoldStatus",_n="ObjectLockMode",Ln="ObjectLockRetainUntilDate",zn="ObjectSizeGreaterThan",Hn="ObjectSizeLessThan",Bn="OutputSerialization",ca="Object",xt="Prefix",la="PartsCount",Jr="PartNumber",Zr="PartitionedPrefix",ua="Parts",da="Part",Ti="Permission",fa="Progress",jn="Protocol",Pi="QuoteCharacter",ha="QueueConfiguration",qn="QuoteEscapeCharacter",Qr="Rules",or="RedirectAllRequestsTo",It="RequestCharged",Ii="RecordDelimiter",Xr="RecordExpiration",Yr="ReplicaModifications",Fn="RequestPayer",pa="RestrictPublicBuckets",ga="RoutingRules",Nr="RoutingRule",ei="RestoreStatus",Mi="ReplicationTime",Vn="Range",ti="Redirect",Eo="Rule",Zt="Status",Ni="SecretAccessKey",Oi="S3BucketDestination",Qt="StorageClass",Kn="StorageClassAnalysis",Di="SSE-KMS",Ui="SseKmsEncryptedObjects",Wn="SelectParameters",ri="SimplePrefix",ii="SSE-S3",o="SourceSelectionCriteria",I="ServerSideEncryption",d="SSECustomerAlgorithm",w="SSECustomerKey",fe="SSECustomerKeyMD5",Q="SSEKMS",$t="SSEKMSEncryptionContext",Ge="SSEKMSKeyId",et="SSES3",tt="SessionToken",St="S3TablesDestination",X="S3TablesDestinationResult",cr="Size",_t="Stats",je="Tags",Y="TableArn",wr="TableBucketArn",Ne="TopicConfiguration",Fe="TargetGrants",Ve="TableNamespace",$e="TableName",$i="TargetObjectKeyFormat",ni="TagSet",U="TableStatus",D="Tagging",si="Tier",Or="Tiering",_i="Transition",gr="Type",Li="UserMetadata",ai="Value",tr="VersionId",oi="WebsiteRedirectLocation",rt="client",wt="error",mr="eventPayload",ci="http",zi="httpChecksum",kt="httpError",$="httpHeader",Hi="httpPrefixHeaders",rr="httpQuery",li="http://www.w3.org/2001/XMLSchema-instance",Gn="streaming",ui="smithy.ts.sdk.synthetic.com.amazonaws.s3",st="xmlFlattened",ge="xmlName",Bi="xmlNamespace",di="x-amz-checksum-crc32",fi="x-amz-checksum-crc32c",hi="x-amz-checksum-crc64nvme",pi="x-amz-checksum-sha1",lr="x-amz-checksum-sha256",yr="x-amz-checksum-type",vr="x-amz-expiration",Lt="x-amz-expected-bucket-owner",ze="x-amz-meta-",Le="x-amz-object-lock-legal-hold",Qe="x-amz-object-lock-mode",ji="x-amz-object-lock-retain-until-date",qi="x-amz-request-charged",Er="x-amz-request-payer",Re="x-amz-storage-class",Cr="x-amz-server-side-encryption",Rr="x-amz-server-side-encryption-aws-kms-key-id",ut="x-amz-server-side-encryption-bucket-key-enabled",Ar="x-amz-server-side-encryption-context",Dr="x-amz-server-side-encryption-customer-algorithm",Fi="x-amz-server-side-encryption-customer-key",At="x-amz-server-side-encryption-customer-key-MD5",ue="x-amz-version-id",Vi="x-amz-website-redirect-location",p="com.amazonaws.s3";var Jn=[0,p,"NonEmptyKmsKeyArnString",8,0],Ki=[0,p,"SessionCredentialValue",8,0],he=[0,p,w,8,0],Se=[0,p,$t,8,0],de=[0,p,Ge,8,0],Ur=[0,p,"StreamingBlob",{[Gn]:1},42],Zn=[3,p,ee,0,["DaysAfterInitiation"],[1]],Qn=[3,p,se,0,[ar],[0],1],Xn=[-3,p,"AccessDenied",{[wt]:rt,[kt]:403},[],[]];v.O.for(p).registerError(Xn,k);var gi=[3,p,"AnalyticsAndOperator",0,[xt,je],[0,[()=>Tr,{[st]:1,[ge]:"Tag"}]]],Yn=[3,p,"AnalyticsConfiguration",0,["Id",Kn,er],[0,()=>js,[()=>Gs,0]],2],at=[3,p,"AnalyticsExportDestination",0,[Oi],[()=>dt],1],dt=[3,p,"AnalyticsS3BucketDestination",0,[Si,ke,"BucketAccountId",xt],[0,0,0,0],2],ht=[3,p,_e,0,[Kt],[[()=>to,{[st]:1}]]],Te=[3,p,ke,0,[Gr,"CreationDate","BucketRegion","BucketArn"],[0,4,0,0]],pt=[-3,p,"BucketAlreadyExists",{[wt]:rt,[kt]:409},[],[]];v.O.for(p).registerError(pt,x);var es=[-3,p,"BucketAlreadyOwnedByYou",{[wt]:rt,[kt]:409},[],[]];v.O.for(p).registerError(es,b);var ft=[3,p,"BucketInfo",0,["DataRedundancy",gr],[0,0]],vt=[3,p,"CommonPrefix",0,[xt],[0]],ts=[3,p,"CompletedPart",0,[Ze,be,Ue,nt,qe,Be,Jr],[0,0,0,0,0,0,1]],rs=[3,p,V,0,["HttpErrorCodeReturnedEquals","KeyPrefixEquals"],[0,0]],ma=[3,p,"ContinuationEvent",0,[],[]],Wi=[3,p,He,0,["AllowedMethods","AllowedOrigins","ID","AllowedHeaders","ExposeHeaders","MaxAgeSeconds"],[[64,{[st]:1,[ge]:"AllowedMethod"}],[64,{[st]:1,[ge]:"AllowedOrigin"}],0,[64,{[st]:1,[ge]:"AllowedHeader"}],[64,{[st]:1,[ge]:"ExposeHeader"}],1],2],Gi=[3,p,"CreateSessionOutput",{[ge]:"CreateSessionResult"},[q,I,Ge,$t,it],[[()=>Fa,{[ge]:q}],[0,{[$]:Cr}],[()=>de,{[$]:Rr}],[()=>Se,{[$]:Ar}],[2,{[$]:ut}]],1],Ji=[3,p,"CreateSessionRequest",0,[ke,"SessionMode",I,Ge,$t,it],[[0,1],[0,{[$]:"x-amz-create-session-mode"}],[0,{[$]:Cr}],[()=>de,{[$]:Rr}],[()=>Se,{[$]:Ar}],[2,{[$]:ut}]],1],is=[3,p,"CSVInput",0,["FileHeaderInfo","Comments",qn,Ii,En,Pi,"AllowQuotedRecordDelimiter"],[0,0,0,0,0,0,2]],Zi=[3,p,"CSVOutput",0,["QuoteFields",qn,Ii,En,Pi],[0,0,0,0,0]],ns=[3,p,Ie,0,[Dn,Z,"Years"],[0,1,1]],Qi=[3,p,"DeletedObject",0,["Key",tr,re,"DeleteMarkerVersionId"],[0,0,2,0]],zt=[3,p,"DeleteMarkerEntry",0,[ar,"Key",tr,Ci,Sr],[()=>mi,0,0,2,4]],ss=[3,p,le,0,[Zt],[0]],Xi=[3,p,Me,0,[ke,"Account",Qt,se,Rt,Mi,Ri],[0,0,0,()=>Qn,()=>os,()=>Ha,()=>Es],1],Yi=[3,p,Ce,0,["TableBucketType",wr,Ve],[0,0,0]],as=[3,p,fr,0,[Kt,"KMSKeyId","KMSContext"],[0,[()=>de,0],0],1],os=[3,p,Rt,0,["ReplicaKmsKeyID"],[0]],cs=[-3,p,"EncryptionTypeMismatch",{[wt]:rt,[kt]:400},[],[]];v.O.for(p).registerError(cs,N);var ls=[3,p,"EndEvent",0,[],[]],ya=[3,p,hr,0,["Key",tr,"Code","Message"],[0,0,0,0]],en=[3,p,"ErrorDetails",0,["ErrorCode","ErrorMessage"],[0,0]],us=[3,p,Gt,0,["Key"],[0],1],ba=[3,p,lt,0,[],[]],tn=[3,p,Pt,0,[Zt],[0],1],rn=[3,p,pr,0,[Gr,ai],[0,0]],nn=[3,p,"GetObjectOutput",0,[L,re,"AcceptRanges",ct,"Restore",Sr,oe,Ze,be,Ue,nt,qe,Be,Je,"MissingMeta",tr,De,Xe,O,W,"ContentRange",Ft,Vr,Jt,oi,I,Kr,d,fe,Ge,it,Qt,It,"ReplicationStatus",la,"TagCount",_n,Ln,$n],[[()=>Ur,16],[2,{[$]:"x-amz-delete-marker"}],[0,{[$]:"accept-ranges"}],[0,{[$]:vr}],[0,{[$]:"x-amz-restore"}],[4,{[$]:"Last-Modified"}],[1,{[$]:ie}],[0,{[$]:Ze}],[0,{[$]:di}],[0,{[$]:fi}],[0,{[$]:hi}],[0,{[$]:pi}],[0,{[$]:lr}],[0,{[$]:yr}],[1,{[$]:"x-amz-missing-meta"}],[0,{[$]:ue}],[0,{[$]:mt}],[0,{[$]:Et}],[0,{[$]:J}],[0,{[$]:te}],[0,{[$]:"Content-Range"}],[0,{[$]:Ct}],[4,{[$]:Vr}],[0,{[$]:Jt}],[0,{[$]:Vi}],[0,{[$]:Cr}],[128,{[Hi]:ze}],[0,{[$]:Dr}],[0,{[$]:At}],[()=>de,{[$]:Rr}],[2,{[$]:ut}],[0,{[$]:Re}],[0,{[$]:qi}],[0,{[$]:"x-amz-replication-status"}],[1,{[$]:"x-amz-mp-parts-count"}],[1,{[$]:"x-amz-tagging-count"}],[0,{[$]:Qe}],[5,{[$]:ji}],[0,{[$]:Le}]]],ds=[3,p,"GetObjectRequest",0,[ke,"Key",Rn,"IfModifiedSince",kn,"IfUnmodifiedSince",Vn,"ResponseCacheControl","ResponseContentDisposition","ResponseContentEncoding","ResponseContentLanguage","ResponseContentType","ResponseExpires",tr,d,w,fe,Fn,Jr,yt,"ChecksumMode"],[[0,1],[0,1],[0,{[$]:An}],[4,{[$]:"If-Modified-Since"}],[0,{[$]:Tn}],[4,{[$]:"If-Unmodified-Since"}],[0,{[$]:Vn}],[0,{[rr]:"response-cache-control"}],[0,{[rr]:"response-content-disposition"}],[0,{[rr]:"response-content-encoding"}],[0,{[rr]:"response-content-language"}],[0,{[rr]:"response-content-type"}],[6,{[rr]:"response-expires"}],[0,{[rr]:"versionId"}],[0,{[$]:Dr}],[()=>he,{[$]:Fi}],[0,{[$]:At}],[0,{[$]:Er}],[1,{[rr]:"partNumber"}],[0,{[$]:Lt}],[0,{[$]:"x-amz-checksum-mode"}]],2],xa=[3,p,wi,0,[si],[0],1],$r=[3,p,vi,0,[Ei,Ti],[[()=>sn,{[Bi]:["xsi",li]}],0]],sn=[3,p,Ei,0,[gr,xe,"EmailAddress","ID","URI"],[[0,{xmlAttribute:1,[ge]:"xsi:type"}],0,0,0,0],1],fs=[-3,p,"IdempotencyParameterMismatch",{[wt]:rt,[kt]:400},[],[]];v.O.for(p).registerError(fs,A);var Sa=[3,p,ta,0,["Suffix"],[0],1],hs=[3,p,Mn,0,["ID",xe],[0,0]],ps=[3,p,Pn,0,["CSV","CompressionType",Nn,"Parquet"],[()=>is,0,()=>_r,()=>Na]],an=[3,p,"IntelligentTieringAndOperator",0,[xt,je],[0,[()=>Tr,{[st]:1,[ge]:"Tag"}]]],wa=[3,p,"IntelligentTieringConfiguration",0,["Id",Zt,"Tierings",er],[0,0,[()=>Sn,{[st]:1,[ge]:Or}],[()=>gs,0]],3],gs=[3,p,"IntelligentTieringFilter",0,[xt,"Tag","And"],[0,()=>Ht,[()=>an,0]]],on=[-3,p,"InvalidObjectState",{[wt]:rt,[kt]:403},[Qt,Ee],[0,0]];v.O.for(p).registerError(on,h);var ms=[-3,p,"InvalidRequest",{[wt]:rt,[kt]:400},[],[]];v.O.for(p).registerError(ms,R);var ys=[-3,p,"InvalidWriteOffset",{[wt]:rt,[kt]:400},[],[]];v.O.for(p).registerError(ys,K);var va=[3,p,"InventoryConfiguration",0,[Me,"IsEnabled","Id","IncludedObjectVersions","Schedule",er,"OptionalFields"],[[()=>cn,0],2,0,0,()=>kr,()=>ln,[()=>no,0]],5],cn=[3,p,"InventoryDestination",0,[Oi],[[()=>un,0]],1],bs=[3,p,"InventoryEncryption",0,[et,Q],[[()=>Ga,{[ge]:ii}],[()=>Ka,{[ge]:Di}]]],ln=[3,p,"InventoryFilter",0,[xt],[0],1],un=[3,p,"InventoryS3BucketDestination",0,[ke,Si,"AccountId",xt,fr],[0,0,0,0,[()=>bs,0]],2],kr=[3,p,"InventorySchedule",0,["Frequency"],[0],1],Ea=[3,p,ra,0,[Ye,Rt],[0,()=>hn],1],dn=[3,p,In,0,[Ye,U,hr,$e,Y],[0,0,()=>en,0,0],1],Wt=[3,p,ia,0,[Xr,Rt],[()=>bn,()=>hn],1],fn=[3,p,On,0,[U,$e,Xr,hr,Y],[0,0,()=>bn,()=>en,0],3],_r=[3,p,"JSONInput",0,[gr],[0]],Lr=[3,p,"JSONOutput",0,[Ii],[0]],zr=[3,p,"LambdaFunctionConfiguration",0,["LambdaFunctionArn",Mr,"Id",er],[[0,{[ge]:"CloudFunction"}],[64,{[st]:1,[ge]:xi}],0,[()=>Hr,0]],2],xs=[3,p,"LifecycleExpiration",0,[Oe,Z,"ExpiredObjectDeleteMarker"],[5,1,2]],Xt=[3,p,"LifecycleRule",0,[Zt,ct,"ID",xt,er,"Transitions","NoncurrentVersionTransitions",ki,ee],[0,()=>xs,0,0,[()=>ws,0],[()=>dr,{[st]:1,[ge]:_i}],[()=>so,{[st]:1,[ge]:bt}],()=>Rs,()=>Zn],1],Ss=[3,p,"LifecycleRuleAndOperator",0,[xt,je,zn,Hn],[0,[()=>Tr,{[st]:1,[ge]:"Tag"}],1,1]],ws=[3,p,"LifecycleRuleFilter",0,[xt,"Tag",zn,Hn,"And"],[0,()=>Ht,1,1,[()=>Ss,0]]],Ca=[3,p,"LocationInfo",0,[gr,Gr],[0,0]],Ra=[3,p,na,0,["TargetBucket","TargetPrefix",Fe,$i],[0,0,[()=>Ks,0],[()=>Za,0]],2],ir=[3,p,sa,0,[Ce,On,In],[()=>Yi,()=>fn,()=>dn],1],vs=[3,p,Wr,0,[Gr,ai],[0,0]],Aa=[3,p,aa,0,[X],[()=>sr],1],hn=[3,p,"MetadataTableEncryptionConfiguration",0,["SseAlgorithm","KmsKeyArn"],[0,0],1],Es=[3,p,Ri,0,[Zt,"EventThreshold"],[0,()=>_s],1],Cs=[3,p,"MetricsAndOperator",0,[xt,je,we],[0,[()=>Tr,{[st]:1,[ge]:"Tag"}],0]],ka=[3,p,"MetricsConfiguration",0,["Id",er],[0,[()=>ao,0]],1],Ta=[3,p,"MultipartUpload",0,["UploadId","Key","Initiated",Qt,ar,Mn,ae,Je],[0,0,4,0,()=>mi,()=>hs,0,0]],Rs=[3,p,ki,0,[Un,Ai],[1,1]],As=[3,p,bt,0,[Un,Qt,Ai],[1,0,1]],ur=[-3,p,"NoSuchBucket",{[wt]:rt,[kt]:404},[],[]];v.O.for(p).registerError(ur,l);var pn=[-3,p,"NoSuchKey",{[wt]:rt,[kt]:404},[],[]];v.O.for(p).registerError(pn,m);var ks=[-3,p,"NoSuchUpload",{[wt]:rt,[kt]:404},[],[]];v.O.for(p).registerError(ks,M);var Ts=[-3,p,"NotFound",{[wt]:rt},[],[]];v.O.for(p).registerError(Ts,S);var Hr=[3,p,"NotificationConfigurationFilter",0,["Key"],[[()=>Ls,{[ge]:"S3Key"}]]],Pa=[3,p,ca,0,["Key",Sr,Ze,ae,Je,cr,Qt,ar,ei],[0,4,0,[64,{[st]:1}],0,1,0,()=>mi,()=>nr]],gn=[-3,p,"ObjectAlreadyInActiveTierError",{[wt]:rt,[kt]:403},[],[]];v.O.for(p).registerError(gn,H);var Ps=[3,p,"ObjectIdentifier",0,["Key",tr,Ze,"LastModifiedTime",cr],[0,0,0,6,1],1],Is=[3,p,"ObjectLockRule",0,[Ie],[()=>ns]],mn=[-3,p,"ObjectNotInActiveTierError",{[wt]:rt,[kt]:403},[],[]];v.O.for(p).registerError(mn,T);var Ms=[3,p,"ObjectPart",0,[Jr,cr,be,Ue,nt,qe,Be],[1,1,0,0,0,0,0]],yn=[3,p,"ObjectVersion",0,[Ze,ae,Je,cr,Qt,"Key",tr,Ci,Sr,ar,ei],[0,[64,{[st]:1}],0,1,0,0,0,2,4,()=>mi,()=>nr]],Ia=[3,p,oa,0,["S3"],[[()=>ja,0]]],Ma=[3,p,Bn,0,["CSV",Nn],[()=>Zi,()=>Lr]],mi=[3,p,ar,0,[xe,"ID"],[0,0]],Ns=[3,p,"OwnershipControlsRule",0,["ObjectOwnership"],[0],1],Na=[3,p,"ParquetInput",0,[],[]],Oa=[3,p,da,0,[Jr,Sr,Ze,cr,be,Ue,nt,qe,Be],[1,4,0,1,0,0,0,0,0]],Os=[3,p,Zr,{[ge]:Zr},["PartitionDateSource"],[0]],Da=[3,p,fa,0,[qt,Tt,Yt],[1,1,1]],Co=[3,p,"ProgressEvent",0,[We],[[()=>Da,{[mr]:1}]]],Ua=[3,p,"PutObjectOutput",0,[ct,Ze,be,Ue,nt,qe,Be,Je,I,tr,d,fe,Ge,$t,it,cr,It],[[0,{[$]:vr}],[0,{[$]:Ze}],[0,{[$]:di}],[0,{[$]:fi}],[0,{[$]:hi}],[0,{[$]:pi}],[0,{[$]:lr}],[0,{[$]:yr}],[0,{[$]:Cr}],[0,{[$]:ue}],[0,{[$]:Dr}],[0,{[$]:At}],[()=>de,{[$]:Rr}],[()=>Se,{[$]:Ar}],[2,{[$]:ut}],[1,{[$]:"x-amz-object-size"}],[0,{[$]:qi}]]],$a=[3,p,"PutObjectRequest",0,[ke,"Key","ACL",L,De,Xe,O,W,oe,"ContentMD5",Ft,ae,be,Ue,nt,qe,Be,Vr,Rn,kn,"GrantFullControl","GrantRead","GrantReadACP","GrantWriteACP","WriteOffsetBytes",Kr,I,Qt,oi,d,w,fe,Ge,$t,it,Fn,D,_n,Ln,$n,yt],[[0,1],[0,1],[0,{[$]:"x-amz-acl"}],[()=>Ur,16],[0,{[$]:mt}],[0,{[$]:Et}],[0,{[$]:J}],[0,{[$]:te}],[1,{[$]:ie}],[0,{[$]:"Content-MD5"}],[0,{[$]:Ct}],[0,{[$]:"x-amz-sdk-checksum-algorithm"}],[0,{[$]:di}],[0,{[$]:fi}],[0,{[$]:hi}],[0,{[$]:pi}],[0,{[$]:lr}],[4,{[$]:Vr}],[0,{[$]:An}],[0,{[$]:Tn}],[0,{[$]:"x-amz-grant-full-control"}],[0,{[$]:"x-amz-grant-read"}],[0,{[$]:"x-amz-grant-read-acp"}],[0,{[$]:"x-amz-grant-write-acp"}],[1,{[$]:"x-amz-write-offset-bytes"}],[128,{[Hi]:ze}],[0,{[$]:Cr}],[0,{[$]:Re}],[0,{[$]:Vi}],[0,{[$]:Dr}],[()=>he,{[$]:Fi}],[0,{[$]:At}],[()=>de,{[$]:Rr}],[()=>Se,{[$]:Ar}],[2,{[$]:ut}],[0,{[$]:Er}],[0,{[$]:"x-amz-tagging"}],[0,{[$]:Qe}],[5,{[$]:ji}],[0,{[$]:Le}],[0,{[$]:Lt}]],2],_a=[3,p,ha,0,["QueueArn",Mr,"Id",er],[[0,{[ge]:"Queue"}],[64,{[st]:1,[ge]:xi}],0,[()=>Hr,0]],2],bn=[3,p,Xr,0,[ct,Z],[0,1],1],Ro=[3,p,"RecordsEvent",0,["Payload"],[[21,{[mr]:1}]]],La=[3,p,ti,0,[Cn,"HttpRedirectCode",jn,"ReplaceKeyPrefixWith","ReplaceKeyWith"],[0,0,0,0,0]],Ao=[3,p,or,0,[Cn,jn],[0,0],1],za=[3,p,Yr,0,[Zt],[0],1],Ds=[3,p,"ReplicationRule",0,[Zt,Me,"ID","Priority",xt,er,o,Pt,le],[0,()=>Xi,0,1,0,[()=>$s,0],()=>Bs,()=>tn,()=>ss],2],Us=[3,p,"ReplicationRuleAndOperator",0,[xt,je],[0,[()=>Tr,{[st]:1,[ge]:"Tag"}]]],$s=[3,p,"ReplicationRuleFilter",0,[xt,"Tag","And"],[0,()=>Ht,[()=>Us,0]]],Ha=[3,p,Mi,0,[Zt,"Time"],[0,()=>_s],2],_s=[3,p,"ReplicationTimeValue",0,["Minutes"],[1]],nr=[3,p,ei,0,["IsRestoreInProgress","RestoreExpiryDate"],[2,4]],Ba=[3,p,Nr,0,[ti,V],[()=>La,()=>rs],1],Ls=[3,p,"S3KeyFilter",0,["FilterRules"],[[()=>ro,{[st]:1,[ge]:pr}]]],ja=[3,p,"S3Location",0,["BucketName",xt,fr,"CannedACL",G,D,Li,Qt],[0,0,[()=>as,0],0,[()=>io,0],[()=>Br,0],[()=>Pr,0],0],2],qa=[3,p,St,0,[wr,$e],[0,0],2],sr=[3,p,X,0,[wr,$e,Y,Ve],[0,0,0,0],4],ko=[3,p,Wn,0,[Pn,"ExpressionType","Expression",Bn],[()=>ps,0,0,()=>Ma],4],zs=[3,p,"ServerSideEncryptionByDefault",0,["SSEAlgorithm","KMSMasterKeyID"],[0,[()=>de,0]],1],Hs=[3,p,"ServerSideEncryptionRule",0,["ApplyServerSideEncryptionByDefault",it,_e],[[()=>zs,0],2,[()=>ht,0]]],Fa=[3,p,"SessionCredentials",0,[ce,Ni,tt,ct],[[0,{[ge]:ce}],[()=>Ki,{[ge]:Ni}],[()=>Ki,{[ge]:tt}],[4,{[ge]:ct}]],4],Va=[3,p,ri,{[ge]:ri},[],[]],Bs=[3,p,o,0,[Ui,Yr],[()=>Wa,()=>za]],Ka=[3,p,Q,{[ge]:Di},["KeyId"],[[()=>de,0]],1],Wa=[3,p,Ui,0,[Zt],[0],1],xn=[3,p,"SSEKMSEncryption",{[ge]:Di},["KMSKeyArn",it],[[()=>Jn,0],2],1],Ga=[3,p,et,{[ge]:ii},[],[]],Ja=[3,p,_t,0,[qt,Tt,Yt],[1,1,1]],To=[3,p,"StatsEvent",0,[We],[[()=>Ja,{[mr]:1}]]],js=[3,p,Kn,0,["DataExport"],[()=>qs]],qs=[3,p,"StorageClassAnalysisDataExport",0,["OutputSchemaVersion",Me],[0,()=>at],2],Ht=[3,p,"Tag",0,["Key",ai],[0,0],2],Br=[3,p,D,0,[ni],[[()=>Tr,0]],1],Fs=[3,p,"TargetGrant",0,[Ei,Ti],[[()=>sn,{[Bi]:["xsi",li]}],0]],Za=[3,p,$i,0,[ri,Zr],[[()=>Va,{[ge]:ri}],[()=>Os,{[ge]:Zr}]]],Vs=[3,p,Or,0,[Z,Ee],[1,0],2],Qa=[-3,p,"TooManyParts",{[wt]:rt,[kt]:400},[],[]];v.O.for(p).registerError(Qa,F);var Xa=[3,p,Ne,0,["TopicArn",Mr,"Id",er],[[0,{[ge]:"Topic"}],[64,{[st]:1,[ge]:xi}],0,[()=>Hr,0]],2],Ya=[3,p,_i,0,[Oe,Z,Qt],[5,1,0]],eo=[-3,ui,"S3ServiceException",0,[],[]];v.O.for(ui).registerError(eo,f);var Po=[1,p,"CompletedPartList",0,()=>ts],Io=[1,p,ve,0,[()=>Wi,0]],to=[1,p,"EncryptionTypeList",0,[0,{[ge]:Kt}]],ro=[1,p,"FilterRuleList",0,()=>rn],io=[1,p,ea,0,[()=>$r,{[ge]:vi}]],no=[1,p,"InventoryOptionalFields",0,[0,{[ge]:"Field"}]],Mo=[1,p,"LambdaFunctionConfigurationList",0,[()=>zr,0]],No=[1,p,"LifecycleRules",0,[()=>Xt,0]],so=[1,p,"NoncurrentVersionTransitionList",0,()=>As],Oo=[1,p,"ObjectIdentifierList",0,()=>Ps],Do=[1,p,"OwnershipControlsRules",0,()=>Ns],Uo=[1,p,"PartsList",0,()=>Ms],$o=[1,p,"QueueConfigurationList",0,[()=>_a,0]],_o=[1,p,"ReplicationRules",0,[()=>Ds,0]],Lo=[1,p,ga,0,[()=>Ba,{[ge]:Nr}]],zo=[1,p,"ServerSideEncryptionRules",0,[()=>Hs,0]],Tr=[1,p,ni,0,[()=>Ht,{[ge]:"Tag"}]],Ks=[1,p,Fe,0,[()=>Fs,{[ge]:vi}]],Sn=[1,p,"TieringList",0,()=>Vs],Ws=[1,p,"TopicConfigurationList",0,[()=>Xa,0]],dr=[1,p,"TransitionList",0,()=>Ya],Pr=[1,p,Li,0,[()=>vs,{[ge]:Wr}]],Gs=[4,p,"AnalyticsFilter",0,[xt,"Tag","And"],[0,()=>Ht,[()=>gi,0]]],ao=[4,p,"MetricsFilter",0,[xt,"Tag",we,"And"],[0,()=>Ht,0,[()=>Cs,0]]],oo=[9,p,"CreateSession",{[ci]:["GET","/?session",200]},()=>Ji,()=>Gi],co=[9,p,"GetObject",{[zi]:"-",[ci]:["GET","/{Key+}?x-id=GetObject",200]},()=>ds,()=>nn],lo=[9,p,"PutObject",{[zi]:"-",[ci]:["PUT","/{Key+}?x-id=PutObject",200]},()=>$a,()=>Ua]},pe.__chunk_3101=(ye,j,y)=>{y.d(j,{S:()=>C,v:()=>v});let v=f=>Object.assign(f,{useFipsEndpoint:f.useFipsEndpoint??!1,useDualstackEndpoint:f.useDualstackEndpoint??!1,forcePathStyle:f.forcePathStyle??!1,useAccelerateEndpoint:f.useAccelerateEndpoint??!1,useGlobalEndpoint:f.useGlobalEndpoint??!1,disableMultiregionAccessPoints:f.disableMultiregionAccessPoints??!1,defaultSigningName:"s3",clientContextParams:f.clientContextParams??{}}),C={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}},pe.__chunk_8251=(ye,j,y)=>{let v,C;y.d(j,{Y:()=>Xc});var f,M,k,T,x,b,l=y(5168);let h={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},m=t=>({applyToStack:e=>{e.add(function(r){return i=>async n=>{let{request:s}=n;if(r.expectContinueHeader!==!1&&l.K.isInstance(s)&&s.body&&r.runtime==="node"&&r.requestHandler?.constructor?.name!=="FetchHttpHandler"){let a=!0;if(typeof r.expectContinueHeader=="number")try{a=(Number(s.headers?.["content-length"])??r.bodyLengthChecker?.(s.body)??1/0)>=r.expectContinueHeader}catch{}else a=!!r.expectContinueHeader;a&&(s.headers.Expect="100-continue")}return i({...n,request:s})}}(t),h)}});var S=y(7691),N=y(8826);let R=t=>{let{requestChecksumCalculation:e,responseChecksumValidation:r,requestStreamBufferSize:i}=t;return Object.assign(t,{requestChecksumCalculation:(0,S.t)(e??N.WK),responseChecksumValidation:(0,S.t)(r??N.In),requestStreamBufferSize:Number(i??0)})},K=t=>e=>async r=>{if(!l.K.isInstance(r.request))return e(r);let{request:i}=r,{handlerProtocol:n=""}=t.requestHandler.metadata||{};if(n.indexOf("h2")>=0&&!i.headers[":authority"])delete i.headers.host,i.headers[":authority"]=i.hostname+(i.port?":"+i.port:"");else if(!i.headers.host){let s=i.hostname;i.port!=null&&(s+=`:${i.port}`),i.headers.host=s}return e(r)},F={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},A=t=>({applyToStack:e=>{e.add(K(t),F)}}),H=()=>(t,e)=>async r=>{try{let i=await t(r),{clientName:n,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u,overrideOutputFilterSensitiveLog:g}=c,P=u??e.inputFilterSensitiveLog,E=g??e.outputFilterSensitiveLog,{$metadata:z,..._}=i.output;return a?.info?.({clientName:n,commandName:s,input:P(r.input),output:E(_),metadata:z}),i}catch(i){let{clientName:n,commandName:s,logger:a,dynamoDbDocumentClientOptions:c={}}=e,{overrideInputFilterSensitiveLog:u}=c,g=u??e.inputFilterSensitiveLog;throw a?.error?.({clientName:n,commandName:s,input:g(r.input),error:i,metadata:i.$metadata}),i}},G={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},se=t=>({applyToStack:e=>{e.add(H(),G)}}),ee={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},ce=()=>t=>async e=>t(e),we=t=>({applyToStack:e=>{e.add(ce(),ee)}});class Ee{data;lastPurgeTime=Date.now();static EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4;constructor(e={}){this.data=e}get(e){let r=this.data[e];if(r)return r}set(e,r){return this.data[e]=r,r}delete(e){delete this.data[e]}async purgeExpired(){let e=Date.now();if(!(this.lastPurgeTime+Ee.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>e))for(let r in this.data){let i=this.data[r];if(!i.isRefreshing){let n=await i.identity;n.expiration&&n.expiration.getTime()<e&&delete this.data[r]}}}}class ke{_identity;isRefreshing;accessed;constructor(e,r=!1,i=Date.now()){this._identity=e,this.isRefreshing=r,this.accessed=i}get identity(){return this.accessed=Date.now(),this._identity}}class _e{createSessionFn;cache;static REFRESH_WINDOW_MS=6e4;constructor(e,r=new Ee){this.createSessionFn=e,this.cache=r}async getS3ExpressIdentity(e,r){let i=r.Bucket,{cache:n}=this,s=n.get(i);return s?s.identity.then(a=>(a.expiration?.getTime()??0)<Date.now()?n.set(i,new ke(this.getIdentity(i))).identity:((a.expiration?.getTime()??0)<Date.now()+_e.REFRESH_WINDOW_MS&&!s.isRefreshing&&(s.isRefreshing=!0,this.getIdentity(i).then(c=>{n.set(i,new ke(Promise.resolve(c)))})),a)):n.set(i,new ke(this.getIdentity(i))).identity}async getIdentity(e){await this.cache.purgeExpired().catch(i=>{console.warn(`Error while clearing expired entries in S3ExpressIdentityCache: 
`+i)});let r=await this.createSessionFn(e);if(!r.Credentials?.AccessKeyId||!r.Credentials?.SecretAccessKey)throw Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:r.Credentials.AccessKeyId,secretAccessKey:r.Credentials.SecretAccessKey,sessionToken:r.Credentials.SessionToken,expiration:r.Credentials.Expiration?new Date(r.Credentials.Expiration):void 0}}}let it=(t,{session:e})=>{let[r,i]=e,{forcePathStyle:n,useAccelerateEndpoint:s,disableMultiregionAccessPoints:a,followRegionRedirects:c,s3ExpressIdentityProvider:u,bucketEndpoint:g,expectContinueHeader:P}=t;return Object.assign(t,{forcePathStyle:n??!1,useAccelerateEndpoint:s??!1,disableMultiregionAccessPoints:a??!1,followRegionRedirects:c??!1,s3ExpressIdentityProvider:u??new _e(async E=>r().send(new i({Bucket:E}))),bucketEndpoint:g??!1,expectContinueHeader:P??2097152})},Tt=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6,Vt={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},jt={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},Yt=t=>({applyToStack:e=>{e.add(function({bucketEndpoint:r}){return i=>async n=>{let{input:{Bucket:s}}=n;if(!r&&typeof s=="string"&&!Tt(s)&&s.indexOf("/")>=0){let a=Error(`Bucket name shouldn't contain '/', received '${s}'`);throw a.name="InvalidBucketName",a}return i({...n})}}(t),jt),e.addRelativeTo((r,i)=>async n=>{if(t.bucketEndpoint){let s=i.endpointV2;if(s){let a=n.input.Bucket;if(typeof a=="string")try{let c=new URL(a);i.endpointV2={...s,url:c}}catch(c){let u=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${a} could not be parsed as URL.`;throw i.logger?.constructor?.name==="NoOpLogger"?console.warn(u):i.logger?.warn?.(u),c}}}return r(n)},Vt)}}),qt=t=>(e,r)=>async i=>{let n=await t.region(),s=t.region,a=()=>{};r.__s3RegionRedirect&&(Object.defineProperty(t,"region",{writable:!1,value:async()=>r.__s3RegionRedirect}),a=()=>Object.defineProperty(t,"region",{writable:!0,value:s}));try{let c=await e(i);if(r.__s3RegionRedirect){a();let u=await t.region();if(n!==u)throw Error("Region was not restored following S3 region redirect.")}return c}catch(c){throw a(),c}},L={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},ae={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},De=t=>({applyToStack:e=>{e.add(function(r){return(i,n)=>async s=>{try{return await i(s)}catch(a){if(r.followRegionRedirects){let c=a?.$metadata?.httpStatusCode,u=n.commandName==="HeadBucketCommand",g=a?.$response?.headers?.["x-amz-bucket-region"];if(g&&(c===301||c===400&&(a?.name==="IllegalLocationConstraintException"||u))){try{n.logger?.debug(`Redirecting from ${await r.region()} to ${g}`),n.__s3RegionRedirect=g}catch(P){throw Error("Region redirect failed: "+P)}return i(s)}}throw a}}}(t),ae),e.addRelativeTo(qt(t),L)}});var be=y(7319),Ue=y(3231);let nt=t=>(e,r)=>async i=>{if(r.endpointV2){let n=r.endpointV2,s=n.properties?.authSchemes?.[0]?.name===Ue.Lm;if((n.properties?.backend===Ue.TS||n.properties?.bucketType===Ue.WC)&&((0,be.J)(r,"S3_EXPRESS_BUCKET","J"),r.isS3ExpressBucket=!0),s){let a=i.input.Bucket;if(a){let c=await t.s3ExpressIdentityProvider.getS3ExpressIdentity(await t.credentials(),{Bucket:a});r.s3ExpressIdentity=c,l.K.isInstance(i.request)&&c.sessionToken&&(i.request.headers[Ue.Zl]=c.sessionToken)}}}return e(i)},mt={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},Et=t=>({applyToStack:e=>{e.add(nt(t),mt)}});var Xe=y(1208);let J=t=>e=>{throw e},O=(t,e)=>{},W=t=>(e,r)=>async i=>{if(!l.K.isInstance(i.request))return e(i);let n=(0,Xe.u)(r).selectedHttpAuthScheme;if(!n)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:s={}},identity:a,signer:c}=n,u=await e({...i,request:await c.sign(i.request,a,s)}).catch((c.errorHandler||J)(s));return(c.successHandler||O)(u.response,s),u},te={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ie=t=>({applyToStack:e=>{e.addRelativeTo(W(t),te)}}),oe=async(t,e,r,i)=>{let n=await i.signWithCredentials(r,t,{});if(n.headers["X-Amz-Security-Token"]||n.headers["x-amz-security-token"])throw Error("X-Amz-Security-Token must not be set for s3-express requests.");return n},ve=t=>e=>{throw e},He=(t,e)=>{},qe=t=>(e,r)=>async i=>{let n;if(!l.K.isInstance(i.request))return e(i);let s=(0,Xe.u)(r).selectedHttpAuthScheme;if(!s)throw Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:a={}},identity:c,signer:u}=s;n=r.s3ExpressIdentity?await oe(r.s3ExpressIdentity,a,i.request,await t.signer()):await u.sign(i.request,c,a);let g=await e({...i,request:n}).catch((u.errorHandler||ve)(a));return(u.successHandler||He)(g.response,a),g},Be=t=>({applyToStack:e=>{e.addRelativeTo(qe(t),te)}}),Ye=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e},Je,Ct={},Ft=RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),V=(t,e=!1)=>{if(!e)return Ft.test(t);for(let r of t.split("."))if(!V(r))return!1;return!0},q=RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Z=t=>q.test(t)||t.startsWith("[")&&t.endsWith("]"),re=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!re(r))return!1;return!0}return!(!V(t)||t.length<3||t.length>63||t!==t.toLowerCase()||Z(t))},le=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il|mx)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-east-2":{"description":"Asia Pacific (Taipei)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"ap-southeast-5":{"description":"Asia Pacific (Malaysia)"},"ap-southeast-6":{"description":"Asia Pacific (New Zealand)"},"ap-southeast-7":{"description":"Asia Pacific (Thailand)"},"aws-global":{"description":"aws global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"mx-central-1":{"description":"Mexico (Central)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"aws-cn global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-eusc","outputs":{"dnsSuffix":"amazonaws.eu","dualStackDnsSuffix":"api.amazonwebservices.eu","implicitGlobalRegion":"eusc-de-east-1","name":"aws-eusc","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eusc\\\\-(de)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eusc-de-east-1":{"description":"AWS European Sovereign Cloud (Germany)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"api.aws.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"aws-iso global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"api.aws.scloud","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"aws-iso-b global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"},"us-isob-west-1":{"description":"US ISOB West"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"api.cloud-aws.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-e-global":{"description":"aws-iso-e global region"},"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"api.aws.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-f-global":{"description":"aws-iso-f global region"},"us-isof-east-1":{"description":"US ISOF EAST"},"us-isof-south-1":{"description":"US ISOF SOUTH"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"aws-us-gov global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}}],"version":"1.1"}'),xe=()=>"",Ie={isVirtualHostableS3Bucket:re,parseArn:t=>{let e=t.split(":");if(e.length<6)return null;let[r,i,n,s,a,...c]=e;return r!=="arn"||i===""||n===""||c.join(":")===""?null:{partition:i,service:n,region:s,accountId:a,resourceId:c.map(u=>u.split("/")).flat()}},partition:t=>{let{partitions:e}=le;for(let i of e){let{regions:n,outputs:s}=i;for(let[a,c]of Object.entries(n))if(a===t)return{...s,...c}}for(let i of e){let{regionRegex:n,outputs:s}=i;if(new RegExp(n).test(t))return{...s}}let r=e.find(i=>i.id==="aws");if(!r)throw Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}}};Ct.aws=Ie;let Ce=/\d{12}\.ddb/;async function Oe(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,be.J)(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=await e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,be.J)(t,"RETRY_MODE_ADAPTIVE","F"):(0,be.J)(t,"RETRY_MODE_STANDARD","E"):(0,be.J)(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(Ce)&&(0,be.J)(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":(0,be.J)(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,be.J)(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,be.J)(t,"ACCOUNT_ID_MODE_REQUIRED","R")}}let n=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(n?.$source)for(let[s,a]of(n.accountId&&(0,be.J)(t,"RESOLVED_ACCOUNT_ID","T"),Object.entries(n.$source??{})))(0,be.J)(t,s,a)}let Me="user-agent",We="x-amz-user-agent",ct=/[^!$%&'*+\-.^_`|~\w]/g,lt=/[^!$%&'*+\-.^_`|~\w#]/g,yt=t=>(e,r)=>async i=>{let{request:n}=i;if(!l.K.isInstance(n))return e(i);let{headers:s}=n,a=r?.userAgent?.map(Rt)||[],c=(await t.defaultUserAgentProvider()).map(Rt);await Oe(r,t,i),c.push(`m/${function(_){let B="";for(let ne in _){let Pe=_[ne];if(B.length+Pe.length+1<=1024){B.length?B+=","+Pe:B+=Pe;continue}break}return B}(Object.assign({},r.__smithy_context?.features,r.__aws_sdk_context?.features))}`);let u=t?.customUserAgent?.map(Rt)||[],g=await t.userAgentAppId();g&&c.push(Rt(["app",`${g}`]));let P=xe(),E=(P?[P]:[]).concat([...c,...a,...u]).join(" "),z=[...c.filter(_=>_.startsWith("aws-sdk-")),...u].join(" ");return t.runtime!=="browser"?(z&&(s[We]=s[We]?`${s[Me]} ${z}`:z),s[Me]=E):s[We]=E,e({...i,request:n})},Rt=t=>{let e=t[0].split("/").map(a=>a.replace(ct,"-")).join("/"),r=t[1]?.replace(lt,"-"),i=e.indexOf("/"),n=e.substring(0,i),s=e.substring(i+1);return n==="api"&&(s=s.toLowerCase()),[n,s,r].filter(a=>a&&a.length>0).reduce((a,c,u)=>{switch(u){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},Gt={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Pt=t=>({applyToStack:e=>{e.add(yt(t),Gt)}}),Jt=new Set,Kt=(t,e=V)=>{if(Jt.has(t)||e(t))Jt.add(t);else if(t==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw Error(`Region not accepted: region="${t}" is not a valid hostname component.`)},Ze=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),fr=t=>Ze(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,hr=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw Error("Region is missing");return Object.assign(t,{region:async()=>{let i=fr(typeof e=="function"?await e():e);return Kt(i),i},useFipsEndpoint:async()=>!!Ze(typeof e=="string"?e:await e())||(typeof r!="function"?Promise.resolve(!!r):r())})},Mr=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let i of e)for(let n of t)n.schemeId.split("#")[1]===i&&r.push(n);for(let i of t)r.find(({schemeId:n})=>n===i.schemeId)||r.push(i);return r},xi=(t,e)=>(r,i)=>async n=>{let s=Mr(t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,i,n.input)),t.authSchemePreference?await t.authSchemePreference():[]),a=function(g){let P=new Map;for(let E of g)P.set(E.schemeId,E);return P}(t.httpAuthSchemes),c=(0,Xe.u)(i),u=[];for(let g of s){let P=a.get(g.schemeId);if(!P){u.push(`HttpAuthScheme \`${g.schemeId}\` was not enabled for this service.`);continue}let E=P.identityProvider(await e.identityProviderConfigProvider(t));if(!E){u.push(`HttpAuthScheme \`${g.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:z={},signingProperties:_={}}=g.propertiesExtractor?.(t,i)||{};g.identityProperties=Object.assign(g.identityProperties||{},z),g.signingProperties=Object.assign(g.signingProperties||{},_),c.selectedHttpAuthScheme={httpAuthOption:g,identity:await E(g.identityProperties),signer:P.signer};break}if(!c.selectedHttpAuthScheme)throw Error(u.join(`
`));return r(n)},Vr={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},er=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:i=>{i.addRelativeTo(xi(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Vr)}});class En{authSchemes=new Map;constructor(e){for(let[r,i]of Object.entries(e))i!==void 0&&this.authSchemes.set(r,i)}getIdentityProvider(e){return this.authSchemes.get(e)}}var pr=y(9390);let Si=(t,e,r,i,n)=>({name:e,namespace:t,traits:r,input:i,output:n}),ea=t=>(e,r)=>async i=>{let{response:n}=await e(i),{operationSchema:s}=(0,Xe.u)(r),[,a,c,u,g,P]=s??[];try{let E=await t.protocol.deserializeResponse(Si(a,c,u,g,P),{...t,...r},n);return{response:n,output:E}}catch(E){if(Object.defineProperty(E,"$response",{value:n,enumerable:!1,writable:!1,configurable:!1}),!("$metadata"in E)){let z="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{E.message+=`
  `+z}catch{r.logger&&r.logger?.constructor?.name!=="NoOpLogger"?r.logger?.warn?.(z):console.warn(z)}E.$responseBodyText!==void 0&&E.$response&&(E.$response.body=E.$responseBodyText);try{if(pr.c.isInstance(n)){let{headers:_={}}=n,B=Object.entries(_);E.$metadata={httpStatusCode:n.statusCode,requestId:wi(/^x-[\w-]+-request-?id$/,B),extendedRequestId:wi(/^x-[\w-]+-id-2$/,B),cfId:wi(/^x-[\w-]+-cf-id$/,B)}}}catch{}}throw E}},wi=(t,e)=>(e.find(([r])=>r.match(t))||[void 0,void 0])[1],vi=t=>(e,r)=>async i=>{let{operationSchema:n}=(0,Xe.u)(r),[,s,a,c,u,g]=n??[],P=r.endpointV2?.url&&t.urlParser?async()=>t.urlParser(r.endpointV2.url):t.endpoint,E=await t.protocol.serializeRequest(Si(s,a,c,u,g),i.input,{...t,...r,endpoint:P});return e({...i,request:E})},Ei={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Cn={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0},ta=t=>Object.assign(t,{eventStreamMarshaller:t.eventStreamSerdeProvider(t)}),Ci="content-length",Rn={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},An=t=>({applyToStack:e=>{var r;e.add((r=t.bodyLengthChecker,i=>async n=>{let s=n.request;if(l.K.isInstance(s)){let{body:a,headers:c}=s;if(a&&Object.keys(c).map(u=>u.toLowerCase()).indexOf(Ci)===-1)try{let u=r(a);s.headers={...s.headers,[Ci]:String(u)}}catch{}}return i({...n,request:s})}),Rn)}});var kn=y(8062),Tn=y(2222);let wo=t=>{let e,r=t.tls??!0,{endpoint:i,useDualstackEndpoint:n,useFipsEndpoint:s}=t,a=Object.assign(t,{endpoint:i!=null?async()=>(0,Tn.a)(await(0,S.t)(i)()):void 0,tls:r,isCustomEndpoint:!!i,useDualstackEndpoint:(0,S.t)(n??!1),useFipsEndpoint:(0,S.t)(s??!1)});return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!e&&(e=(0,kn.k)(t.serviceId)),e),a};(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(k||(k={}));let vo=k.STANDARD,Pn=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],In=["TimeoutError","RequestTimeout","RequestTimeoutException"],ra=[500,502,503,504],Mn=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Nn=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],ia=t=>t?.$retryable!==void 0,On=t=>t.$metadata?.clockSkewCorrected,na=t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return!!(t&&t instanceof TypeError)&&e.has(t.message)},Sr=t=>t.$metadata?.httpStatusCode===429||Pn.includes(t.name)||t.$retryable?.throttling==!0,Kr=(t,e=0)=>ia(t)||On(t)||In.includes(t.name)||Mn.includes(t?.code||"")||Nn.includes(t?.code||"")||ra.includes(t.$metadata?.httpStatusCode||0)||na(t)||t.cause!==void 0&&e<=10&&Kr(t.cause,e+1),sa=t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;if(500<=e&&e<=599&&!Kr(t))return!0}return!1};class Wr{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(e){this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(i=>Wr.setTimeoutFn(i,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Sr(e)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let i=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(i)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,.3333333333333333))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=Math.floor(2*this.getCurrentTimeInSeconds())/2;if(this.requestCount++,e>this.lastTxRateBucket){let r=this.requestCount/(e-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=e}}getPrecise(e){return parseFloat(e.toFixed(8))}}let aa=()=>{let t=100;return{computeNextBackoffDelay:e=>Math.floor(Math.min(2e4,Math.random()*2**e*t)),setDelayBase:e=>{t=e}}},Ri=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(2e4,t),getRetryCost:()=>r});class Dn{maxAttempts;mode=k.STANDARD;capacity=500;retryBackoffStrategy=aa();maxAttemptsProvider;constructor(e){this.maxAttempts=e,this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return Ri({retryDelay:100,retryCount:0})}async refreshRetryTokenForRetry(e,r){let i=await this.getMaxAttempts();if(this.shouldRetry(e,r,i)){let n=r.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?500:100);let s=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),a=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,s):s,c=this.getCapacityCost(n);return this.capacity-=c,Ri({retryDelay:a,retryCount:e.getRetryCount()+1,retryCost:c})}throw Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(500,this.capacity+(e.getRetryCost()??1))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn("Max attempts provider could not resolve. Using default of 3"),3}}shouldRetry(e,r,i){return e.getRetryCount()+1<i&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?10:5}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class Gr{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=k.ADAPTIVE;constructor(e,r){this.maxAttemptsProvider=e;let{rateLimiter:i}=r??{};this.rateLimiter=i??new Wr,this.standardRetryStrategy=new Dn(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}let Un=t=>{let{retryStrategy:e,retryMode:r,maxAttempts:i}=t,n=(0,S.t)(i??3);return Object.assign(t,{maxAttempts:n,retryStrategy:async()=>e||(await(0,S.t)(r)()===k.ADAPTIVE?new Gr(n):new Dn(n))})};var Ai=y(5618);let ki=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bt=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0")),ar=()=>{if(ki)return ki();let t=new Uint8Array(16);return crypto.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128,bt[t[0]]+bt[t[1]]+bt[t[2]]+bt[t[3]]+"-"+bt[t[4]]+bt[t[5]]+"-"+bt[t[6]]+bt[t[7]]+"-"+bt[t[8]]+bt[t[9]]+"-"+bt[t[10]]+bt[t[11]]+bt[t[12]]+bt[t[13]]+bt[t[14]]+bt[t[15]]},oa=t=>t?.body instanceof ReadableStream,$n=t=>t instanceof Error?t:t instanceof Object?Object.assign(Error(),t):Error(typeof t=="string"?t:`AWS SDK error wrapper for ${t}`),_n=t=>(e,r)=>async i=>{let n=await t.retryStrategy(),s=await t.maxAttempts();if(!Ln(n))return n?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(e,i);{let a=await n.acquireInitialRetryToken(r.partition_id),c=Error(),u=0,g=0,{request:P}=i,E=l.K.isInstance(P);for(E&&(P.headers["amz-sdk-invocation-id"]=ar());;)try{E&&(P.headers["amz-sdk-request"]=`attempt=${u+1}; max=${s}`);let{response:z,output:_}=await e(i);return n.recordSuccess(a),_.$metadata.attempts=u+1,_.$metadata.totalRetryDelay=g,{response:z,output:_}}catch(z){let _=zn(z);if(c=$n(z),E&&oa(P))throw(r.logger instanceof Ai.N?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),c;try{a=await n.refreshRetryTokenForRetry(a,_)}catch{throw c.$metadata||(c.$metadata={}),c.$metadata.attempts=u+1,c.$metadata.totalRetryDelay=g,c}u=a.getRetryCount();let B=a.getRetryDelay();g+=B,await new Promise(ne=>setTimeout(ne,B))}}},Ln=t=>t.acquireInitialRetryToken!==void 0&&t.refreshRetryTokenForRetry!==void 0&&t.recordSuccess!==void 0,zn=t=>{let e={error:t,errorType:Hn(t)},r=xt(t.$response);return r&&(e.retryAfterHint=r),e},Hn=t=>Sr(t)?"THROTTLING":Kr(t)?"TRANSIENT":sa(t)?"SERVER_ERROR":"CLIENT_ERROR",Bn={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ca=t=>({applyToStack:e=>{e.add(_n(t),Bn)}}),xt=t=>{if(!pr.c.isInstance(t))return;let e=Object.keys(t.headers).find(n=>n.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],i=Number(r);return new Date(Number.isNaN(i)?r:1e3*i)};var la=y(8727);class Jr{config;middlewareStack=(0,la.o)();initConfig;handlers;constructor(e){this.config=e;let{protocol:r,protocolSettings:i}=e;i&&typeof r=="function"&&(e.protocol=new r(i))}send(e,r,i){let n,s=typeof r!="function"?r:void 0,a=typeof r=="function"?r:i;if(s===void 0&&this.config.cacheMiddleware===!0){this.handlers||(this.handlers=new WeakMap);let c=this.handlers;c.has(e.constructor)?n=c.get(e.constructor):(n=e.resolveMiddleware(this.middlewareStack,this.config,s),c.set(e.constructor,n))}else delete this.handlers,n=e.resolveMiddleware(this.middlewareStack,this.config,s);if(!a)return n(e).then(c=>c.output);n(e).then(c=>a(null,c.output),c=>a(c)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}let Zr=function(t){return ua(t)&&t.expiration.getTime()-Date.now()<3e5},ua=t=>t.expiration!==void 0,da=(t,e,r)=>{let i,n,s;if(t===void 0)return;let a=typeof t!="function"?async()=>Promise.resolve(t):t,c=!1,u=async g=>{n||(n=a(g));try{i=await n,s=!0,c=!1}finally{n=void 0}return i};return e===void 0?async g=>((!s||g?.forceRefresh)&&(i=await u(g)),i):async g=>((!s||g?.forceRefresh)&&(i=await u(g)),c||(r(i)?e(i)&&await u(g):c=!0),i)};var Ti=y(4915);let fa=t=>{let e,r,i=t.credentials,n=!!t.credentials;Object.defineProperty(t,"credentials",{set(u){u&&u!==i&&u!==e&&(n=!0);let g=function(E,{credentials:z,credentialDefaultProvider:_}){let B;return(B=z?z?.memoized?z:da(z,Zr,ua):_?Ye(_(Object.assign({},E,{parentClientConfig:E}))):async()=>{throw Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")}).memoized=!0,B}(t,{credentials:i=u,credentialDefaultProvider:t.credentialDefaultProvider}),P=function(E,z){if(z.configBound)return z;let _=async B=>z({...B,callerClientConfig:E});return _.memoized=z.memoized,_.configBound=!0,_}(t,g);if(n&&!P.attributed){let E=typeof i=="object"&&i!==null;(e=async z=>{let _=await P(z);return E&&(!_.$source||Object.keys(_.$source).length===0)&&(_.$source||(_.$source={}),_.$source.CREDENTIALS_CODE="e"),_}).memoized=P.memoized,e.configBound=P.configBound,e.attributed=!0}else e=P},get:()=>e,enumerable:!0,configurable:!0}),t.credentials=i;let{signingEscapePath:s=!0,systemClockOffset:a=t.systemClockOffset||0,sha256:c}=t;return r=t.signer?Ye(t.signer):t.regionInfoProvider?()=>Ye(t.region)().then(async u=>[await t.regionInfoProvider(u,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},u]).then(([u,g])=>{let{signingRegion:P,signingService:E}=u;t.signingRegion=t.signingRegion||P||g,t.signingName=t.signingName||E||t.serviceId;let z={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:s};return new(t.signerConstructor||Ti.B)(z)}):async u=>{let g=(u=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ye(t.region)(),properties:{}},u)).signingRegion,P=u.signingName;t.signingRegion=t.signingRegion||g,t.signingName=t.signingName||P||t.serviceId;let E={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:s};return new(t.signerConstructor||Ti.B)(E)},Object.assign(t,{systemClockOffset:a,signingEscapePath:s,signer:r})},jn=t=>(t.sigv4aSigningRegionSet=Ye(t.sigv4aSigningRegionSet),t);var Pi=y(2228),ha=y(1843);class qn{capacity;data=new Map;parameters=[];constructor({size:e,params:r}){this.capacity=e??50,r&&(this.parameters=r)}get(e,r){let i=this.hash(e);if(i===!1)return r();if(!this.data.has(i)){if(this.data.size>this.capacity+10){let n=this.data.keys(),s=0;for(;;){let{value:a,done:c}=n.next();if(this.data.delete(a),c||++s>10)break}}this.data.set(i,r())}return this.data.get(i)}size(){return this.data.size}hash(e){let r="",{parameters:i}=this;if(i.length===0)return!1;for(let n of i){let s=String(e[n]??"");if(s.includes("|;"))return!1;r+=s+"|;"}return r}}let Qr="endpoints";function or(t){return typeof t!="object"||t==null?t:"ref"in t?`$${or(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(or).join(", ")})`:JSON.stringify(t,null,2)}class It extends Error{constructor(e){super(e),this.name="EndpointError"}}let Ii=t=>{let e=t.split("."),r=[];for(let i of e){let n=i.indexOf("[");if(n!==-1){if(i.indexOf("]")!==i.length-1)throw new It(`Path: '${t}' does not end with ']'`);let s=i.slice(n+1,-1);if(Number.isNaN(parseInt(s)))throw new It(`Invalid array index: '${s}' in path: '${t}'`);n!==0&&r.push(i.slice(0,n)),r.push(s)}else r.push(i)}return r},Xr=(t,e)=>Ii(e).reduce((r,i)=>{if(typeof r!="object")throw new It(`Index '${i}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(i)]:r[i]},t);(function(t){t.HTTP="http",t.HTTPS="https"})(T||(T={}));let Yr={[T.HTTP]:80,[T.HTTPS]:443},Fn={booleanEquals:(t,e)=>t===e,getAttr:Xr,isSet:t=>t!=null,isValidHostLabel:V,not:t=>!t,parseURL:t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:z,port:_,protocol:B="",path:ne="",query:Pe={}}=t,me=new URL(`${B}//${z}${_?`:${_}`:""}${ne}`);return me.search=Object.entries(Pe).map(([ot,Ke])=>`${ot}=${Ke}`).join("&"),me}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:i,hostname:n,pathname:s,protocol:a,search:c}=e;if(c)return null;let u=a.slice(0,-1);if(!Object.values(T).includes(u))return null;let g=Z(n),P=r.includes(`${i}:${Yr[u]}`)||typeof t=="string"&&t.includes(`${i}:${Yr[u]}`),E=`${i}${P?`:${Yr[u]}`:""}`;return{scheme:u,authority:E,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:g}},stringEquals:(t,e)=>t===e,substring:(t,e,r,i)=>e>=r||t.length<r?null:i?t.substring(t.length-r,t.length-e):t.substring(e,r),uriEncode:t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},pa=(t,e)=>{let r=[],i={...e.endpointParams,...e.referenceRecord},n=0;for(;n<t.length;){let s=t.indexOf("{",n);if(s===-1){r.push(t.slice(n));break}r.push(t.slice(n,s));let a=t.indexOf("}",s);if(a===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[a+1]==="}"&&(r.push(t.slice(s+1,a)),n=a+2);let c=t.substring(s+1,a);if(c.includes("#")){let[u,g]=c.split("#");r.push(Xr(i[u],g))}else r.push(i[c]);n=a+1}return r.join("")},ga=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Nr=(t,e,r)=>{if(typeof t=="string")return pa(t,r);if(t.fn)return Mi.callFunction(t,r);if(t.ref)return ga(t,r);throw new It(`'${e}': ${String(t)} is not a string, function or reference.`)},ei=({fn:t,argv:e},r)=>{let i=e.map(s=>["boolean","number"].includes(typeof s)?s:Mi.evaluateExpression(s,"arg",r)),n=t.split(".");return n[0]in Ct&&n[1]!=null?Ct[n[0]][n[1]](...i):Fn[t](...i)},Mi={evaluateExpression:Nr,callFunction:ei},Vn=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new It(`'${t}' is already defined in Reference Record.`);let i=ei(e,r);return r.logger?.debug?.(`${Qr} evaluateCondition: ${or(e)} = ${or(i)}`),{result:i===""||!!i,...t!=null&&{toAssign:{name:t,value:i}}}},ti=(t=[],e)=>{let r={};for(let i of t){let{result:n,toAssign:s}=Vn(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!n)return{result:n};s&&(r[s.name]=s.value,e.logger?.debug?.(`${Qr} assign: ${s.name} := ${or(s.value)}`))}return{result:!0,referenceRecord:r}},Eo=(t,e)=>Object.entries(t).reduce((r,[i,n])=>({...r,[i]:n.map(s=>{let a=Nr(s,"Header value entry",e);if(typeof a!="string")throw new It(`Header '${i}' value '${a}' is not a string`);return a})}),{}),Zt=(t,e)=>Object.entries(t).reduce((r,[i,n])=>({...r,[i]:Oi.getEndpointProperty(n,e)}),{}),Ni=(t,e)=>{if(Array.isArray(t))return t.map(r=>Ni(r,e));switch(typeof t){case"string":return pa(t,e);case"object":if(t===null)throw new It(`Unexpected endpoint property: ${t}`);return Oi.getEndpointProperties(t,e);case"boolean":return t;default:throw new It(`Unexpected endpoint property type: ${typeof t}`)}},Oi={getEndpointProperty:Ni,getEndpointProperties:Zt},Qt=(t,e)=>{let r=Nr(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(i){throw console.error(`Failed to construct URL with ${r}`,i),i}throw new It(`Endpoint URL must be a string, got ${typeof r}`)},Kn=(t,e)=>{let{conditions:r,endpoint:i}=t,{result:n,referenceRecord:s}=ti(r,e);if(!n)return;let a={...e,referenceRecord:{...e.referenceRecord,...s}},{url:c,properties:u,headers:g}=i;return e.logger?.debug?.(`${Qr} Resolving endpoint from template: ${or(i)}`),{...g!=null&&{headers:Eo(g,a)},...u!=null&&{properties:Zt(u,a)},url:Qt(c,a)}},Di=(t,e)=>{let{conditions:r,error:i}=t,{result:n,referenceRecord:s}=ti(r,e);if(n)throw new It(Nr(i,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))},Ui=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let i=Kn(r,e);if(i)return i}else if(r.type==="error")Di(r,e);else if(r.type==="tree"){let i=Wn.evaluateTreeRule(r,e);if(i)return i}else throw new It(`Unknown endpoint rule: ${r}`);throw new It("Rules evaluation failed")},Wn={evaluateRules:Ui,evaluateTreeRule:(t,e)=>{let{conditions:r,rules:i}=t,{result:n,referenceRecord:s}=ti(r,e);if(n)return Wn.evaluateRules(i,{...e,referenceRecord:{...e.referenceRecord,...s}})}},ri=(t,e)=>{let{endpointParams:r,logger:i}=e,{parameters:n,rules:s}=t;e.logger?.debug?.(`${Qr} Initial EndpointParams: ${or(r)}`);let a=Object.entries(n).filter(([,u])=>u.default!=null).map(([u,g])=>[u,g.default]);if(a.length>0)for(let[u,g]of a)r[u]=r[u]??g;for(let u of Object.entries(n).filter(([,g])=>g.required).map(([g])=>g))if(r[u]==null)throw new It(`Missing required parameter: '${u}'`);let c=Ui(s,{endpointParams:r,logger:i,referenceRecord:{}});return e.logger?.debug?.(`${Qr} Resolved endpoint: ${or(c)}`),c},ii="required",o="type",I="rules",d="conditions",w="argv",fe="assign",Q="properties",$t="backend",Ge="authSchemes",et="disableDoubleEncoding",tt="signingName",St="signingRegion",X="headers",cr="signingRegionSet",_t="isSet",je="booleanEquals",Y="error",wr="aws.partition",Ne="stringEquals",Fe="getAttr",Ve="name",$e="substring",$i="bucketSuffix",ni="parseURL",U="endpoint",D="tree",si="aws.isVirtualHostableS3Bucket",Or="{url#scheme}://{Bucket}.{url#authority}{url#path}",_i="accessPointSuffix",gr="{url#scheme}://{url#authority}{url#path}",Li="hardwareType",ai="regionPrefix",tr="bucketAliasSuffix",oi="outpostId",rt="isValidHostLabel",wt="sigv4a",mr="s3-outposts",ci="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",zi="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",kt="https://{Bucket}.s3.{partitionResult#dnsSuffix}",$="aws.parseArn",Hi="bucketArn",rr="arnType",li="s3-object-lambda",Gn="accesspoint",ui="accessPointName",st="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",ge="mrapPartition",Bi="outpostType",di="arnPrefix",fi="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",hi="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",pi="https://s3.{partitionResult#dnsSuffix}",lr={[ii]:!1,[o]:"string"},yr={[ii]:!0,default:!1,[o]:"boolean"},vr={[ii]:!1,[o]:"boolean"},Lt={fn:je,[w]:[{ref:"Accelerate"},!0]},ze={fn:je,[w]:[{ref:"UseFIPS"},!0]},Le={fn:je,[w]:[{ref:"UseDualStack"},!0]},Qe={fn:_t,[w]:[{ref:"Endpoint"}]},ji={fn:wr,[w]:[{ref:"Region"}],[fe]:"partitionResult"},qi={fn:Ne,[w]:[{fn:Fe,[w]:[{ref:"partitionResult"},Ve]},"aws-cn"]},Er={fn:_t,[w]:[{ref:"Bucket"}]},Re={ref:"Bucket"},Cr={[d]:[Lt],[Y]:"S3Express does not support S3 Accelerate.",[o]:Y},Rr={[d]:[Qe,{fn:ni,[w]:[{ref:"Endpoint"}],[fe]:"url"}],[I]:[{[d]:[{fn:_t,[w]:[{ref:"DisableS3ExpressSessionAuth"}]},{fn:je,[w]:[{ref:"DisableS3ExpressSessionAuth"},!0]}],[I]:[{[d]:[{fn:je,[w]:[{fn:Fe,[w]:[{ref:"url"},"isIp"]},!0]}],[I]:[{[d]:[{fn:"uriEncode",[w]:[Re],[fe]:"uri_encoded_bucket"}],[I]:[{[U]:{url:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U}],[o]:D}],[o]:D},{[d]:[{fn:si,[w]:[Re,!1]}],[I]:[{[U]:{url:Or,[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U}],[o]:D},{[Y]:"S3Express bucket name is not a valid virtual hostable name.",[o]:Y}],[o]:D},{[d]:[{fn:je,[w]:[{fn:Fe,[w]:[{ref:"url"},"isIp"]},!0]}],[I]:[{[d]:[{fn:"uriEncode",[w]:[Re],[fe]:"uri_encoded_bucket"}],[I]:[{[U]:{url:"{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4-s3express",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U}],[o]:D}],[o]:D},{[d]:[{fn:si,[w]:[Re,!1]}],[I]:[{[U]:{url:Or,[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4-s3express",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U}],[o]:D},{[Y]:"S3Express bucket name is not a valid virtual hostable name.",[o]:Y}],[o]:D},ut={fn:ni,[w]:[{ref:"Endpoint"}],[fe]:"url"},Ar={fn:je,[w]:[{fn:Fe,[w]:[{ref:"url"},"isIp"]},!0]},Dr={ref:"url"},Fi={fn:"uriEncode",[w]:[Re],[fe]:"uri_encoded_bucket"},At={[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3express",[St]:"{Region}"}]},ue={},Vi={fn:si,[w]:[Re,!1]},p={[Y]:"S3Express bucket name is not a valid virtual hostable name.",[o]:Y},Jn={fn:_t,[w]:[{ref:"UseS3ExpressControlEndpoint"}]},Ki={fn:je,[w]:[{ref:"UseS3ExpressControlEndpoint"},!0]},he={fn:"not",[w]:[Qe]},Se={fn:je,[w]:[{ref:"UseDualStack"},!1]},de={fn:je,[w]:[{ref:"UseFIPS"},!1]},Ur={[Y]:"Unrecognized S3Express bucket name format.",[o]:Y},Zn={fn:"not",[w]:[Er]},Qn={ref:Li},Xn={[d]:[he],[Y]:"Expected a endpoint to be specified but no endpoint was found",[o]:Y},gi={[Ge]:[{[et]:!0,[Ve]:wt,[tt]:mr,[cr]:["*"]},{[et]:!0,[Ve]:"sigv4",[tt]:mr,[St]:"{Region}"}]},Yn={fn:je,[w]:[{ref:"ForcePathStyle"},!1]},at={fn:je,[w]:[{ref:"Accelerate"},!1]},dt={fn:Ne,[w]:[{ref:"Region"},"aws-global"]},ht={[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3",[St]:"us-east-1"}]},Te={fn:"not",[w]:[dt]},pt={fn:je,[w]:[{ref:"UseGlobalEndpoint"},!0]},es={url:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:{[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3",[St]:"{Region}"}]},[X]:{}},ft={[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3",[St]:"{Region}"}]},vt={fn:je,[w]:[{ref:"UseGlobalEndpoint"},!1]},ts={url:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},rs={url:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},ma={url:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},Wi={fn:je,[w]:[{fn:Fe,[w]:[Dr,"isIp"]},!1]},Gi={url:ci,[Q]:ft,[X]:{}},Ji={url:Or,[Q]:ft,[X]:{}},is={[U]:Ji,[o]:U},Zi={url:zi,[Q]:ft,[X]:{}},ns={url:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},Qi={[Y]:"Invalid region: region was not a valid DNS name.",[o]:Y},zt={ref:Hi},ss={ref:rr},Xi={fn:Fe,[w]:[zt,"service"]},Yi={ref:ui},as={[d]:[Le],[Y]:"S3 Object Lambda does not support Dual-stack",[o]:Y},os={[d]:[Lt],[Y]:"S3 Object Lambda does not support S3 Accelerate",[o]:Y},cs={[d]:[{fn:_t,[w]:[{ref:"DisableAccessPoints"}]},{fn:je,[w]:[{ref:"DisableAccessPoints"},!0]}],[Y]:"Access points are not supported for this operation",[o]:Y},ls={[d]:[{fn:_t,[w]:[{ref:"UseArnRegion"}]},{fn:je,[w]:[{ref:"UseArnRegion"},!1]},{fn:"not",[w]:[{fn:Ne,[w]:[{fn:Fe,[w]:[zt,"region"]},"{Region}"]}]}],[Y]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[o]:Y},ya={fn:Fe,[w]:[{ref:"bucketPartition"},Ve]},en={fn:Fe,[w]:[zt,"accountId"]},us={[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:li,[St]:"{bucketArn#region}"}]},ba={[Y]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[o]:Y},tn={[Y]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[o]:Y},rn={[Y]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[o]:Y},nn={[Y]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[o]:Y},ds={[Y]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[o]:Y},xa={[Y]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[o]:Y},$r={[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:"s3",[St]:"{bucketArn#region}"}]},sn={[Ge]:[{[et]:!0,[Ve]:wt,[tt]:mr,[cr]:["*"]},{[et]:!0,[Ve]:"sigv4",[tt]:mr,[St]:"{bucketArn#region}"}]},fs={fn:$,[w]:[Re]},Sa={url:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ft,[X]:{}},hs={url:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ft,[X]:{}},ps={url:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ft,[X]:{}},an={url:fi,[Q]:ft,[X]:{}},wa={url:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ft,[X]:{}},gs={ref:"UseObjectLambdaEndpoint"},on={[Ge]:[{[et]:!0,[Ve]:"sigv4",[tt]:li,[St]:"{Region}"}]},ms={url:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},ys={url:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},va={url:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},cn={url:gr,[Q]:ft,[X]:{}},bs={url:"https://s3.{Region}.{partitionResult#dnsSuffix}",[Q]:ft,[X]:{}},ln=[{ref:"Region"}],un=[Lt],kr=[Qe,ut],Ea=[{fn:_t,[w]:[{ref:"DisableS3ExpressSessionAuth"}]},{fn:je,[w]:[{ref:"DisableS3ExpressSessionAuth"},!0]}],dn=[Vi],Wt=[ji],fn=[ze,Le],_r=[ze,Se],Lr=[de,Le],zr=[de,Se],xs=[{fn:$e,[w]:[Re,6,14,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,14,16,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Xt=[{[d]:[ze,Le],[U]:{url:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:{}},[o]:U},{[d]:_r,[U]:{url:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:{}},[o]:U},{[d]:Lr,[U]:{url:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:{}},[o]:U},{[d]:zr,[U]:{url:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:{}},[o]:U}],Ss=[{fn:$e,[w]:[Re,6,15,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,15,17,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],ws=[{fn:$e,[w]:[Re,6,19,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,19,21,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Ca=[{fn:$e,[w]:[Re,6,20,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,20,22,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Ra=[{fn:$e,[w]:[Re,6,26,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,26,28,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],ir=[{[d]:[ze,Le],[U]:{url:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4-s3express",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U},{[d]:_r,[U]:{url:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4-s3express",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U},{[d]:Lr,[U]:{url:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4-s3express",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U},{[d]:zr,[U]:{url:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.{partitionResult#dnsSuffix}",[Q]:{[$t]:"S3Express",[Ge]:[{[et]:!0,[Ve]:"sigv4-s3express",[tt]:"s3express",[St]:"{Region}"}]},[X]:{}},[o]:U}],vs=[Re,0,7,!0],Aa=[{fn:$e,[w]:[Re,7,15,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,15,17,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],hn=[{fn:$e,[w]:[Re,7,16,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,16,18,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Es=[{fn:$e,[w]:[Re,7,20,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,20,22,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Cs=[{fn:$e,[w]:[Re,7,21,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,21,23,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],ka=[{fn:$e,[w]:[Re,7,27,!0],[fe]:"s3expressAvailabilityZoneId"},{fn:$e,[w]:[Re,27,29,!0],[fe]:"s3expressAvailabilityZoneDelim"},{fn:Ne,[w]:[{ref:"s3expressAvailabilityZoneDelim"},"--"]}],Ta=[{fn:rt,[w]:[{ref:oi},!1]}],Rs=[{fn:Ne,[w]:[{ref:ai},"beta"]}],As=[{fn:rt,[w]:[{ref:"Region"},!1]}],ur=[{fn:Ne,[w]:[{ref:"Region"},"us-east-1"]}],pn=[{fn:Ne,[w]:[ss,Gn]}],ks=[{fn:Fe,[w]:[zt,"resourceId[1]"],[fe]:ui},{fn:"not",[w]:[{fn:Ne,[w]:[Yi,""]}]}],Ts=[Le],Hr=[{fn:"not",[w]:[{fn:Ne,[w]:[{fn:Fe,[w]:[zt,"region"]},""]}]}],Pa=[{fn:"not",[w]:[{fn:_t,[w]:[{fn:Fe,[w]:[zt,"resourceId[2]"]}]}]}],gn=[{fn:wr,[w]:[{fn:Fe,[w]:[zt,"region"]}],[fe]:"bucketPartition"}],Ps=[{fn:Ne,[w]:[ya,{fn:Fe,[w]:[{ref:"partitionResult"},Ve]}]}],Is=[{fn:rt,[w]:[{fn:Fe,[w]:[zt,"region"]},!0]}],mn=[{fn:rt,[w]:[en,!1]}],Ms=[{fn:rt,[w]:[Yi,!1]}],yn=[ze],Ia=[{fn:rt,[w]:[{ref:"Region"},!0]}],Ma={version:"1.0",parameters:{Bucket:lr,Region:lr,UseFIPS:yr,UseDualStack:yr,Endpoint:lr,ForcePathStyle:yr,Accelerate:yr,UseGlobalEndpoint:yr,UseObjectLambdaEndpoint:vr,Key:lr,Prefix:lr,CopySource:lr,DisableAccessPoints:vr,DisableMultiRegionAccessPoints:yr,UseArnRegion:vr,UseS3ExpressControlEndpoint:vr,DisableS3ExpressSessionAuth:vr},[I]:[{[d]:[{fn:_t,[w]:ln}],[I]:[{[d]:[Lt,ze],error:"Accelerate cannot be used with FIPS",[o]:Y},{[d]:[Le,Qe],error:"Cannot set dual-stack in combination with a custom endpoint.",[o]:Y},{[d]:[Qe,ze],error:"A custom endpoint cannot be combined with FIPS",[o]:Y},{[d]:[Qe,Lt],error:"A custom endpoint cannot be combined with S3 Accelerate",[o]:Y},{[d]:[ze,ji,qi],error:"Partition does not support FIPS",[o]:Y},{[d]:[Er,{fn:$e,[w]:[Re,0,6,!0],[fe]:$i},{fn:Ne,[w]:[{ref:$i},"--x-s3"]}],[I]:[Cr,Rr,{[d]:[Jn,Ki],[I]:[{[d]:Wt,[I]:[{[d]:[Fi,he],[I]:[{[d]:fn,endpoint:{url:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:At,[X]:ue},[o]:U},{[d]:_r,endpoint:{url:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:At,[X]:ue},[o]:U},{[d]:Lr,endpoint:{url:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:At,[X]:ue},[o]:U},{[d]:zr,endpoint:{url:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:At,[X]:ue},[o]:U}],[o]:D}],[o]:D}],[o]:D},{[d]:dn,[I]:[{[d]:Wt,[I]:[{[d]:Ea,[I]:[{[d]:xs,[I]:Xt,[o]:D},{[d]:Ss,[I]:Xt,[o]:D},{[d]:ws,[I]:Xt,[o]:D},{[d]:Ca,[I]:Xt,[o]:D},{[d]:Ra,[I]:Xt,[o]:D},Ur],[o]:D},{[d]:xs,[I]:ir,[o]:D},{[d]:Ss,[I]:ir,[o]:D},{[d]:ws,[I]:ir,[o]:D},{[d]:Ca,[I]:ir,[o]:D},{[d]:Ra,[I]:ir,[o]:D},Ur],[o]:D}],[o]:D},p],[o]:D},{[d]:[Er,{fn:$e,[w]:vs,[fe]:_i},{fn:Ne,[w]:[{ref:_i},"--xa-s3"]}],[I]:[Cr,Rr,{[d]:dn,[I]:[{[d]:Wt,[I]:[{[d]:Ea,[I]:[{[d]:Aa,[I]:Xt,[o]:D},{[d]:hn,[I]:Xt,[o]:D},{[d]:Es,[I]:Xt,[o]:D},{[d]:Cs,[I]:Xt,[o]:D},{[d]:ka,[I]:Xt,[o]:D},Ur],[o]:D},{[d]:Aa,[I]:ir,[o]:D},{[d]:hn,[I]:ir,[o]:D},{[d]:Es,[I]:ir,[o]:D},{[d]:Cs,[I]:ir,[o]:D},{[d]:ka,[I]:ir,[o]:D},Ur],[o]:D}],[o]:D},p],[o]:D},{[d]:[Zn,Jn,Ki],[I]:[{[d]:Wt,[I]:[{[d]:kr,endpoint:{url:gr,[Q]:At,[X]:ue},[o]:U},{[d]:fn,endpoint:{url:"https://s3express-control-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:ue},[o]:U},{[d]:_r,endpoint:{url:"https://s3express-control-fips.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:ue},[o]:U},{[d]:Lr,endpoint:{url:"https://s3express-control.dualstack.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:ue},[o]:U},{[d]:zr,endpoint:{url:"https://s3express-control.{Region}.{partitionResult#dnsSuffix}",[Q]:At,[X]:ue},[o]:U}],[o]:D}],[o]:D},{[d]:[Er,{fn:$e,[w]:[Re,49,50,!0],[fe]:Li},{fn:$e,[w]:[Re,8,12,!0],[fe]:ai},{fn:$e,[w]:vs,[fe]:tr},{fn:$e,[w]:[Re,32,49,!0],[fe]:oi},{fn:wr,[w]:ln,[fe]:"regionPartition"},{fn:Ne,[w]:[{ref:tr},"--op-s3"]}],[I]:[{[d]:Ta,[I]:[{[d]:dn,[I]:[{[d]:[{fn:Ne,[w]:[Qn,"e"]}],[I]:[{[d]:Rs,[I]:[Xn,{[d]:kr,endpoint:{url:"https://{Bucket}.ec2.{url#authority}",[Q]:gi,[X]:ue},[o]:U}],[o]:D},{endpoint:{url:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Q]:gi,[X]:ue},[o]:U}],[o]:D},{[d]:[{fn:Ne,[w]:[Qn,"o"]}],[I]:[{[d]:Rs,[I]:[Xn,{[d]:kr,endpoint:{url:"https://{Bucket}.op-{outpostId}.{url#authority}",[Q]:gi,[X]:ue},[o]:U}],[o]:D},{endpoint:{url:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[Q]:gi,[X]:ue},[o]:U}],[o]:D},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[o]:Y}],[o]:D},{error:"Invalid Outposts Bucket alias - it must be a valid bucket name.",[o]:Y}],[o]:D},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[o]:Y}],[o]:D},{[d]:[Er],[I]:[{[d]:[Qe,{fn:"not",[w]:[{fn:_t,[w]:[{fn:ni,[w]:[{ref:"Endpoint"}]}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[o]:Y},{[d]:[Yn,Vi],[I]:[{[d]:Wt,[I]:[{[d]:As,[I]:[{[d]:[Lt,qi],error:"S3 Accelerate cannot be used in this region",[o]:Y},{[d]:[Le,ze,at,he,dt],endpoint:{url:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Le,ze,at,he,Te,pt],[I]:[{endpoint:es,[o]:U}],[o]:D},{[d]:[Le,ze,at,he,Te,vt],endpoint:es,[o]:U},{[d]:[Se,ze,at,he,dt],endpoint:{url:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,ze,at,he,Te,pt],[I]:[{endpoint:ts,[o]:U}],[o]:D},{[d]:[Se,ze,at,he,Te,vt],endpoint:ts,[o]:U},{[d]:[Le,de,Lt,he,dt],endpoint:{url:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Le,de,Lt,he,Te,pt],[I]:[{endpoint:rs,[o]:U}],[o]:D},{[d]:[Le,de,Lt,he,Te,vt],endpoint:rs,[o]:U},{[d]:[Le,de,at,he,dt],endpoint:{url:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Le,de,at,he,Te,pt],[I]:[{endpoint:ma,[o]:U}],[o]:D},{[d]:[Le,de,at,he,Te,vt],endpoint:ma,[o]:U},{[d]:[Se,de,at,Qe,ut,Ar,dt],endpoint:{url:ci,[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,de,at,Qe,ut,Wi,dt],endpoint:{url:Or,[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,de,at,Qe,ut,Ar,Te,pt],[I]:[{[d]:ur,endpoint:Gi,[o]:U},{endpoint:Gi,[o]:U}],[o]:D},{[d]:[Se,de,at,Qe,ut,Wi,Te,pt],[I]:[{[d]:ur,endpoint:Ji,[o]:U},is],[o]:D},{[d]:[Se,de,at,Qe,ut,Ar,Te,vt],endpoint:Gi,[o]:U},{[d]:[Se,de,at,Qe,ut,Wi,Te,vt],endpoint:Ji,[o]:U},{[d]:[Se,de,Lt,he,dt],endpoint:{url:zi,[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,de,Lt,he,Te,pt],[I]:[{[d]:ur,endpoint:Zi,[o]:U},{endpoint:Zi,[o]:U}],[o]:D},{[d]:[Se,de,Lt,he,Te,vt],endpoint:Zi,[o]:U},{[d]:[Se,de,at,he,dt],endpoint:{url:kt,[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,de,at,he,Te,pt],[I]:[{[d]:ur,endpoint:{url:kt,[Q]:ft,[X]:ue},[o]:U},{endpoint:ns,[o]:U}],[o]:D},{[d]:[Se,de,at,he,Te,vt],endpoint:ns,[o]:U}],[o]:D},Qi],[o]:D}],[o]:D},{[d]:[Qe,ut,{fn:Ne,[w]:[{fn:Fe,[w]:[Dr,"scheme"]},"http"]},{fn:si,[w]:[Re,!0]},Yn,de,Se,at],[I]:[{[d]:Wt,[I]:[{[d]:As,[I]:[is],[o]:D},Qi],[o]:D}],[o]:D},{[d]:[Yn,{fn:$,[w]:[Re],[fe]:Hi}],[I]:[{[d]:[{fn:Fe,[w]:[zt,"resourceId[0]"],[fe]:rr},{fn:"not",[w]:[{fn:Ne,[w]:[ss,""]}]}],[I]:[{[d]:[{fn:Ne,[w]:[Xi,li]}],[I]:[{[d]:pn,[I]:[{[d]:ks,[I]:[as,os,{[d]:Hr,[I]:[cs,{[d]:Pa,[I]:[ls,{[d]:gn,[I]:[{[d]:Wt,[I]:[{[d]:Ps,[I]:[{[d]:Is,[I]:[{[d]:[{fn:Ne,[w]:[en,""]}],error:"Invalid ARN: Missing account id",[o]:Y},{[d]:mn,[I]:[{[d]:Ms,[I]:[{[d]:kr,endpoint:{url:st,[Q]:us,[X]:ue},[o]:U},{[d]:yn,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:us,[X]:ue},[o]:U},{endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:us,[X]:ue},[o]:U}],[o]:D},ba],[o]:D},tn],[o]:D},rn],[o]:D},nn],[o]:D}],[o]:D}],[o]:D},ds],[o]:D},{error:"Invalid ARN: bucket ARN is missing a region",[o]:Y}],[o]:D},xa],[o]:D},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[o]:Y}],[o]:D},{[d]:pn,[I]:[{[d]:ks,[I]:[{[d]:Hr,[I]:[{[d]:pn,[I]:[{[d]:Hr,[I]:[cs,{[d]:Pa,[I]:[ls,{[d]:gn,[I]:[{[d]:Wt,[I]:[{[d]:[{fn:Ne,[w]:[ya,"{partitionResult#name}"]}],[I]:[{[d]:Is,[I]:[{[d]:[{fn:Ne,[w]:[Xi,"s3"]}],[I]:[{[d]:mn,[I]:[{[d]:Ms,[I]:[{[d]:un,error:"Access Points do not support S3 Accelerate",[o]:Y},{[d]:fn,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:$r,[X]:ue},[o]:U},{[d]:_r,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:$r,[X]:ue},[o]:U},{[d]:Lr,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:$r,[X]:ue},[o]:U},{[d]:[de,Se,Qe,ut],endpoint:{url:st,[Q]:$r,[X]:ue},[o]:U},{[d]:zr,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:$r,[X]:ue},[o]:U}],[o]:D},ba],[o]:D},tn],[o]:D},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[o]:Y}],[o]:D},rn],[o]:D},nn],[o]:D}],[o]:D}],[o]:D},ds],[o]:D}],[o]:D}],[o]:D},{[d]:[{fn:rt,[w]:[Yi,!0]}],[I]:[{[d]:Ts,error:"S3 MRAP does not support dual-stack",[o]:Y},{[d]:yn,error:"S3 MRAP does not support FIPS",[o]:Y},{[d]:un,error:"S3 MRAP does not support S3 Accelerate",[o]:Y},{[d]:[{fn:je,[w]:[{ref:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[o]:Y},{[d]:[{fn:wr,[w]:ln,[fe]:ge}],[I]:[{[d]:[{fn:Ne,[w]:[{fn:Fe,[w]:[{ref:ge},Ve]},{fn:Fe,[w]:[zt,"partition"]}]}],[I]:[{endpoint:{url:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[Q]:{[Ge]:[{[et]:!0,name:wt,[tt]:"s3",[cr]:["*"]}]},[X]:ue},[o]:U}],[o]:D},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[o]:Y}],[o]:D}],[o]:D},{error:"Invalid Access Point Name",[o]:Y}],[o]:D},xa],[o]:D},{[d]:[{fn:Ne,[w]:[Xi,mr]}],[I]:[{[d]:Ts,error:"S3 Outposts does not support Dual-stack",[o]:Y},{[d]:yn,error:"S3 Outposts does not support FIPS",[o]:Y},{[d]:un,error:"S3 Outposts does not support S3 Accelerate",[o]:Y},{[d]:[{fn:_t,[w]:[{fn:Fe,[w]:[zt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[o]:Y},{[d]:[{fn:Fe,[w]:[zt,"resourceId[1]"],[fe]:oi}],[I]:[{[d]:Ta,[I]:[ls,{[d]:gn,[I]:[{[d]:Wt,[I]:[{[d]:Ps,[I]:[{[d]:Is,[I]:[{[d]:mn,[I]:[{[d]:[{fn:Fe,[w]:[zt,"resourceId[2]"],[fe]:Bi}],[I]:[{[d]:[{fn:Fe,[w]:[zt,"resourceId[3]"],[fe]:ui}],[I]:[{[d]:[{fn:Ne,[w]:[{ref:Bi},Gn]}],[I]:[{[d]:kr,endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[Q]:sn,[X]:ue},[o]:U},{endpoint:{url:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[Q]:sn,[X]:ue},[o]:U}],[o]:D},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[o]:Y}],[o]:D},{error:"Invalid ARN: expected an access point name",[o]:Y}],[o]:D},{error:"Invalid ARN: Expected a 4-component resource",[o]:Y}],[o]:D},tn],[o]:D},rn],[o]:D},nn],[o]:D}],[o]:D}],[o]:D},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[o]:Y}],[o]:D},{error:"Invalid ARN: The Outpost Id was not set",[o]:Y}],[o]:D},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[o]:Y}],[o]:D},{error:"Invalid ARN: No ARN type specified",[o]:Y}],[o]:D},{[d]:[{fn:$e,[w]:[Re,0,4,!1],[fe]:di},{fn:Ne,[w]:[{ref:di},"arn:"]},{fn:"not",[w]:[{fn:_t,[w]:[fs]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[o]:Y},{[d]:[{fn:je,[w]:[{ref:"ForcePathStyle"},!0]},fs],error:"Path-style addressing cannot be used with ARN buckets",[o]:Y},{[d]:[Fi],[I]:[{[d]:Wt,[I]:[{[d]:[at],[I]:[{[d]:[Le,he,ze,dt],endpoint:{url:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Le,he,ze,Te,pt],[I]:[{endpoint:Sa,[o]:U}],[o]:D},{[d]:[Le,he,ze,Te,vt],endpoint:Sa,[o]:U},{[d]:[Se,he,ze,dt],endpoint:{url:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,he,ze,Te,pt],[I]:[{endpoint:hs,[o]:U}],[o]:D},{[d]:[Se,he,ze,Te,vt],endpoint:hs,[o]:U},{[d]:[Le,he,de,dt],endpoint:{url:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[Q]:ht,[X]:ue},[o]:U},{[d]:[Le,he,de,Te,pt],[I]:[{endpoint:ps,[o]:U}],[o]:D},{[d]:[Le,he,de,Te,vt],endpoint:ps,[o]:U},{[d]:[Se,Qe,ut,de,dt],endpoint:{url:fi,[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,Qe,ut,de,Te,pt],[I]:[{[d]:ur,endpoint:an,[o]:U},{endpoint:an,[o]:U}],[o]:D},{[d]:[Se,Qe,ut,de,Te,vt],endpoint:an,[o]:U},{[d]:[Se,he,de,dt],endpoint:{url:hi,[Q]:ht,[X]:ue},[o]:U},{[d]:[Se,he,de,Te,pt],[I]:[{[d]:ur,endpoint:{url:hi,[Q]:ft,[X]:ue},[o]:U},{endpoint:wa,[o]:U}],[o]:D},{[d]:[Se,he,de,Te,vt],endpoint:wa,[o]:U}],[o]:D},{error:"Path-style addressing cannot be used with S3 Accelerate",[o]:Y}],[o]:D}],[o]:D}],[o]:D},{[d]:[{fn:_t,[w]:[gs]},{fn:je,[w]:[gs,!0]}],[I]:[{[d]:Wt,[I]:[{[d]:Ia,[I]:[as,os,{[d]:kr,endpoint:{url:gr,[Q]:on,[X]:ue},[o]:U},{[d]:yn,endpoint:{url:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[Q]:on,[X]:ue},[o]:U},{endpoint:{url:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[Q]:on,[X]:ue},[o]:U}],[o]:D},Qi],[o]:D}],[o]:D},{[d]:[Zn],[I]:[{[d]:Wt,[I]:[{[d]:Ia,[I]:[{[d]:[ze,Le,he,dt],endpoint:{url:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[ze,Le,he,Te,pt],[I]:[{endpoint:ms,[o]:U}],[o]:D},{[d]:[ze,Le,he,Te,vt],endpoint:ms,[o]:U},{[d]:[ze,Se,he,dt],endpoint:{url:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[ze,Se,he,Te,pt],[I]:[{endpoint:ys,[o]:U}],[o]:D},{[d]:[ze,Se,he,Te,vt],endpoint:ys,[o]:U},{[d]:[de,Le,he,dt],endpoint:{url:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[Q]:ht,[X]:ue},[o]:U},{[d]:[de,Le,he,Te,pt],[I]:[{endpoint:va,[o]:U}],[o]:D},{[d]:[de,Le,he,Te,vt],endpoint:va,[o]:U},{[d]:[de,Se,Qe,ut,dt],endpoint:{url:gr,[Q]:ht,[X]:ue},[o]:U},{[d]:[de,Se,Qe,ut,Te,pt],[I]:[{[d]:ur,endpoint:cn,[o]:U},{endpoint:cn,[o]:U}],[o]:D},{[d]:[de,Se,Qe,ut,Te,vt],endpoint:cn,[o]:U},{[d]:[de,Se,he,dt],endpoint:{url:pi,[Q]:ht,[X]:ue},[o]:U},{[d]:[de,Se,he,Te,pt],[I]:[{[d]:ur,endpoint:{url:pi,[Q]:ft,[X]:ue},[o]:U},{endpoint:bs,[o]:U}],[o]:D},{[d]:[de,Se,he,Te,vt],endpoint:bs,[o]:U}],[o]:D},Qi],[o]:D}],[o]:D}],[o]:D},{error:"A region must be set when sending requests to S3.",[o]:Y}]},mi=new qn({size:50,params:["Accelerate","Bucket","DisableAccessPoints","DisableMultiRegionAccessPoints","DisableS3ExpressSessionAuth","Endpoint","ForcePathStyle","Region","UseArnRegion","UseDualStack","UseFIPS","UseGlobalEndpoint","UseObjectLambdaEndpoint","UseS3ExpressControlEndpoint"]}),Ns=(t,e={})=>mi.get(t,()=>ri(Ma,{endpointParams:t,logger:e.logger}));Ct.aws=Ie;let Na=(C=async(t,e,r)=>({operation:(0,Xe.u)(e).operation,region:await(0,S.t)(t.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),async(t,e,r)=>{if(!r)throw Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");let i=await C(t,e,r),n=Xe.u(e)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!n)throw Error(`getEndpointParameterInstructions() is not defined on '${e.commandName}'`);return Object.assign(i,await(0,ha.x)(r,{getEndpointParameterInstructions:n},t))});function Oa(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Os(t){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}let Da=(f=t=>{let e=[];return t.operation,e.push(Oa(t)),e.push(Os(t)),e},M={"aws.auth#sigv4":Oa,"aws.auth#sigv4a":Os},t=>{let e=Ns(t),r=e.properties?.authSchemes;if(!r)return f(t);let i=[];for(let n of r){let s,{name:a,properties:c={},...u}=n,g=a.toLowerCase();if(a!==g&&console.warn(`HttpAuthScheme has been normalized with lowercasing: '${a}' to '${g}'`),g==="sigv4a"){s="aws.auth#sigv4a";let z=r.find(_=>{let B=_.name.toLowerCase();return B!=="sigv4a"&&B.startsWith("sigv4")});if(Pi.W.sigv4aDependency()==="none"&&z)continue}else if(g.startsWith("sigv4"))s="aws.auth#sigv4";else throw Error(`Unknown HttpAuthScheme found in '@smithy.rules#endpointRuleSet': '${g}'`);let P=M[s];if(!P)throw Error(`Could not find HttpAuthOption create function for '${s}'`);let E=P(t);E.schemeId=s,E.signingProperties={...E.signingProperties||{},...u,...c},i.push(E)}return i}),Co=t=>Object.assign(jn(fa(t)),{authSchemePreference:(0,S.t)(t.authSchemePreference??[])});var Ua=y(4904),$a=y(3162),_a=y(661),bn=y(3101),Ro=y(5480);class La extends _a.u.classBuilder().ep({...bn.S,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(e,r,i,n){return[(0,$a.r)(i,e.getEndpointParameterInstructions()),(0,Ua.Cg)(i)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").sc(Ro.Nsl).build(){}let Ao={rE:"3.980.0"},za=t=>new TextEncoder().encode(t);function Ds(t){return typeof t=="string"?t.length===0:t.byteLength===0}var Us={name:"SHA-1"},$s={name:"HMAC",hash:Us},Ha=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);let _s={};function nr(){return typeof window<"u"?window:typeof So<"u"?So:_s}var Ba=function(){function t(e){this.toHash=new Uint8Array(0),e!==void 0&&(this.key=new Promise(function(r,i){nr().crypto.subtle.importKey("raw",Ls(e),$s,!1,["sign"]).then(r,i)}),this.key.catch(function(){}))}return t.prototype.update=function(e){if(!Ds(e)){var r=Ls(e),i=new Uint8Array(this.toHash.byteLength+r.byteLength);i.set(this.toHash,0),i.set(r,this.toHash.byteLength),this.toHash=i}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return nr().crypto.subtle.sign($s,r,e.toHash).then(function(i){return new Uint8Array(i)})}):Ds(this.toHash)?Promise.resolve(Ha):Promise.resolve().then(function(){return nr().crypto.subtle.digest(Us,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){this.toHash=new Uint8Array(0)},t}();function Ls(t){return typeof t=="string"?za(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}var ja=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function qa(t){var e;return typeof t=="object"&&typeof t.crypto=="object"&&typeof t.crypto.getRandomValues=="function"&&typeof t.crypto.subtle=="object"&&(e=t.crypto.subtle)&&ja.every(function(r){return typeof e[r]=="function"})}var sr=y(6288),ko=function(){function t(e){if(qa(nr()))this.hash=new Ba(e);else throw Error("SHA1 not supported")}return t.prototype.update=function(e,r){this.hash.update((0,sr.pP)(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}(),zs={name:"SHA-256"},Hs={name:"HMAC",hash:zs},Fa=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Va=function(){function t(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return t.prototype.update=function(e){if(!(0,sr.Kz)(e)){var r=(0,sr.pP)(e),i=new Uint8Array(this.toHash.byteLength+r.byteLength);i.set(this.toHash,0),i.set(r,this.toHash.byteLength),this.toHash=i}},t.prototype.digest=function(){var e=this;return this.key?this.key.then(function(r){return nr().crypto.subtle.sign(Hs,r,e.toHash).then(function(i){return new Uint8Array(i)})}):(0,sr.Kz)(this.toHash)?Promise.resolve(Fa):Promise.resolve().then(function(){return nr().crypto.subtle.digest(zs,e.toHash)}).then(function(r){return Promise.resolve(new Uint8Array(r))})},t.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(r,i){nr().crypto.subtle.importKey("raw",(0,sr.pP)(e.secret),Hs,!1,["sign"]).then(r,i)}),this.key.catch(function(){}))},t}(),Bs=y(9036),Ka=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wa=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],xn=function(){function t(){this.state=Int32Array.from(Wa),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return t.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var r=0,i=e.byteLength;if(this.bytesHashed+=i,8*this.bytesHashed>9007199254740991)throw Error("Cannot hash more than 2^53 - 1 bits");for(;i>0;)this.buffer[this.bufferLength++]=e[r++],i--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)},t.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,r=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),i=this.bufferLength;if(r.setUint8(this.bufferLength++,128),i%64>=56){for(var n=this.bufferLength;n<64;n++)r.setUint8(n,0);this.hashBuffer(),this.bufferLength=0}for(var n=this.bufferLength;n<56;n++)r.setUint8(n,0);r.setUint32(56,Math.floor(e/4294967296),!0),r.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var s=new Uint8Array(32),n=0;n<8;n++)s[4*n]=this.state[n]>>>24&255,s[4*n+1]=this.state[n]>>>16&255,s[4*n+2]=this.state[n]>>>8&255,s[4*n+3]=this.state[n]>>>0&255;return s},t.prototype.hashBuffer=function(){for(var e=this.buffer,r=this.state,i=r[0],n=r[1],s=r[2],a=r[3],c=r[4],u=r[5],g=r[6],P=r[7],E=0;E<64;E++){if(E<16)this.temp[E]=(255&e[4*E])<<24|(255&e[4*E+1])<<16|(255&e[4*E+2])<<8|255&e[4*E+3];else{var z=this.temp[E-2],_=(z>>>17|z<<15)^(z>>>19|z<<13)^z>>>10,B=((z=this.temp[E-15])>>>7|z<<25)^(z>>>18|z<<14)^z>>>3;this.temp[E]=(_+this.temp[E-7]|0)+(B+this.temp[E-16]|0)}var ne=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&u^~c&g)|0)+(P+(Ka[E]+this.temp[E]|0)|0)|0,Pe=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&n^i&s^n&s)|0;P=g,g=u,u=c,c=a+ne|0,a=s,s=n,n=i,i=ne+Pe|0}r[0]+=i,r[1]+=n,r[2]+=s,r[3]+=a,r[4]+=c,r[5]+=u,r[6]+=g,r[7]+=P},t}(),Ga=function(){function t(e){this.secret=e,this.hash=new xn,this.reset()}return t.prototype.update=function(e){if(!(0,sr.Kz)(e)&&!this.error)try{this.hash.update((0,sr.pP)(e))}catch(r){this.error=r}},t.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},t.prototype.digest=function(){return(0,Bs.sH)(this,void 0,void 0,function(){return(0,Bs.YH)(this,function(e){return[2,this.digestSync()]})})},t.prototype.reset=function(){if(this.hash=new xn,this.secret){this.outer=new xn;var e=function(n){var s=(0,sr.pP)(n);if(s.byteLength>64){var a=new xn;a.update(s),s=a.digest()}var c=new Uint8Array(64);return c.set(s),c}(this.secret),r=new Uint8Array(64);r.set(e);for(var i=0;i<64;i++)e[i]^=54,r[i]^=92;this.hash.update(e),this.outer.update(r);for(var i=0;i<e.byteLength;i++)e[i]=0}},t}(),Ja=function(){function t(e){qa(nr())?this.hash=new Va(e):this.hash=new Ga(e)}return t.prototype.update=function(e,r){this.hash.update((0,sr.pP)(e))},t.prototype.digest=function(){return this.hash.digest()},t.prototype.reset=function(){this.hash.reset()},t}();let To=({serviceId:t,clientVersion:e})=>async r=>{let i=typeof window<"u"?window.navigator:void 0,n=i?.userAgent??"",s=i?.userAgentData?.platform??js.os(n)??"other",a=i?.userAgentData?.brands??[],c=a[a.length-1],u=c?.brand??js.browser(n)??"unknown",g=c?.version??"unknown",P=[["aws-sdk-js",e],["ua","2.1"],[`os/${s}`,void 0],["lang/js"],["md/browser",`${u}_${g}`]];t&&P.push([`api/${t}`,e]);let E=await r?.userAgentAppId?.();return E&&P.push([`app/${E}`]),P},js={os:t=>/iPhone|iPad|iPod/.test(t)?"iOS":/Macintosh|Mac OS X/.test(t)?"macOS":/Windows NT/.test(t)?"Windows":/Android/.test(t)?"Android":/Linux/.test(t)?"Linux":void 0,browser:t=>/EdgiOS|EdgA|Edg\//.test(t)?"Microsoft Edge":/Firefox\//.test(t)?"Firefox":/Chrome\//.test(t)?"Chrome":/Safari\//.test(t)?"Safari":void 0};y(6722),y(2762);var qs=y(5068),Ht=y(9392);class Br{bytes;constructor(e){if(this.bytes=e,e.byteLength!==8)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let i=7,n=Math.abs(Math.round(e));i>-1&&n>0;i--,n/=256)r[i]=n;return e<0&&Fs(r),new Br(r)}valueOf(){let e=this.bytes.slice(0),r=128&e[0];return r&&Fs(e),parseInt((0,Ht.n)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Fs(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class Za{toUtf8;fromUtf8;constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let s of Object.keys(e)){let a=this.fromUtf8(s);r.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(e[s]))}let i=new Uint8Array(r.reduce((s,a)=>s+a.byteLength,0)),n=0;for(let s of r)i.set(s,n),n+=s.byteLength;return i}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,e.value,!1),new Uint8Array(i.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(e.value.bytes,1),n;case"binary":let s=new DataView(new ArrayBuffer(3+e.value.byteLength));s.setUint8(0,6),s.setUint16(1,e.value.byteLength,!1);let a=new Uint8Array(s.buffer);return a.set(e.value,3),a;case"string":let c=this.fromUtf8(e.value),u=new DataView(new ArrayBuffer(3+c.byteLength));u.setUint8(0,7),u.setUint16(1,c.byteLength,!1);let g=new Uint8Array(u.buffer);return g.set(c,3),g;case"timestamp":let P=new Uint8Array(9);return P[0]=8,P.set(Br.fromNumber(e.value.valueOf()).bytes,1),P;case"uuid":if(!io.test(e.value))throw Error(`Invalid UUID received: ${e.value}`);let E=new Uint8Array(17);return E[0]=9,E.set((0,Ht.a)(e.value.replace(/\-/g,"")),1),E}}parse(e){let r={},i=0;for(;i<e.byteLength;){let n=e.getUint8(i++),s=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+i,n));switch(i+=n,e.getUint8(i++)){case 0:r[s]={type:Vs,value:!0};break;case 1:r[s]={type:Vs,value:!1};break;case 2:r[s]={type:Qa,value:e.getInt8(i++)};break;case 3:r[s]={type:Xa,value:e.getInt16(i,!1)},i+=2;break;case 4:r[s]={type:Ya,value:e.getInt32(i,!1)},i+=4;break;case 5:r[s]={type:eo,value:new Br(new Uint8Array(e.buffer,e.byteOffset+i,8))},i+=8;break;case 6:let a=e.getUint16(i,!1);i+=2,r[s]={type:Po,value:new Uint8Array(e.buffer,e.byteOffset+i,a)},i+=a;break;case 7:let c=e.getUint16(i,!1);i+=2,r[s]={type:Io,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+i,c))},i+=c;break;case 8:r[s]={type:to,value:new Date(new Br(new Uint8Array(e.buffer,e.byteOffset+i,8)).valueOf())},i+=8;break;case 9:let u=new Uint8Array(e.buffer,e.byteOffset+i,16);i+=16,r[s]={type:ro,value:`${(0,Ht.n)(u.subarray(0,4))}-${(0,Ht.n)(u.subarray(4,6))}-${(0,Ht.n)(u.subarray(6,8))}-${(0,Ht.n)(u.subarray(8,10))}-${(0,Ht.n)(u.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return r}}(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(x||(x={}));let Vs="boolean",Qa="byte",Xa="short",Ya="integer",eo="long",Po="binary",Io="string",to="timestamp",ro="uuid",io=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class no{headerMarshaller;messageBuffer;isEndOfStream;constructor(e,r){this.headerMarshaller=new Za(e,r),this.messageBuffer=[],this.isEndOfStream=!1}feed(e){this.messageBuffer.push(this.decode(e))}endOfStream(){this.isEndOfStream=!0}getMessage(){let e=this.messageBuffer.pop(),r=this.isEndOfStream;return{getMessage:()=>e,isEndOfStream:()=>r}}getAvailableMessages(){let e=this.messageBuffer;this.messageBuffer=[];let r=this.isEndOfStream;return{getMessages:()=>e,isEndOfStream:()=>r}}encode({headers:e,body:r}){let i=this.headerMarshaller.format(e),n=i.byteLength+r.byteLength+16,s=new Uint8Array(n),a=new DataView(s.buffer,s.byteOffset,s.byteLength),c=new qs.s$;return a.setUint32(0,n,!1),a.setUint32(4,i.byteLength,!1),a.setUint32(8,c.update(s.subarray(0,8)).digest(),!1),s.set(i,12),s.set(r,i.byteLength+12),a.setUint32(n-4,c.update(s.subarray(8,n-4)).digest(),!1),s}decode(e){let{headers:r,body:i}=function({byteLength:n,byteOffset:s,buffer:a}){if(n<16)throw Error("Provided message too short to accommodate event stream message overhead");let c=new DataView(a,s,n),u=c.getUint32(0,!1);if(n!==u)throw Error("Reported message length does not match received message length");let g=c.getUint32(4,!1),P=c.getUint32(8,!1),E=c.getUint32(n-4,!1),z=new qs.s$().update(new Uint8Array(a,s,8));if(P!==z.digest())throw Error(`The prelude checksum specified in the message (${P}) does not match the calculated CRC32 checksum (${z.digest()})`);if(z.update(new Uint8Array(a,s+8,n-12)),E!==z.digest())throw Error(`The message checksum (${z.digest()}) did not match the expected value of ${E}`);return{headers:new DataView(a,s+8+4,g),body:new Uint8Array(a,s+8+4+g,u-g-16)}}(e);return{headers:this.headerMarshaller.parse(r),body:i}}formatHeaders(e){return this.headerMarshaller.format(e)}}class Mo{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream){let r=await this.options.deserializer(e);r!==void 0&&(yield r)}}}class No{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.decoder.decode(e)}}class so{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.messageStream)yield this.options.encoder.encode(e);this.options.includeEndFrame&&(yield new Uint8Array(0))}}class Oo{options;constructor(e){this.options=e}[Symbol.asyncIterator](){return this.asyncIterator()}async*asyncIterator(){for await(let e of this.options.inputStream)yield this.options.serializer(e)}}class Do{eventStreamCodec;utfEncoder;constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new no(e,r),this.utfEncoder=e}deserialize(e,r){var i;return new Mo({messageStream:new No({inputStream:function(n){let s=0,a=0,c=null,u=null,g=P=>{if(typeof P!="number")throw Error("Attempted to allocate an event message where size was not a number: "+P);s=P,a=4,new DataView((c=new Uint8Array(P)).buffer).setUint32(0,P,!1)};return{[Symbol.asyncIterator]:async function*(){let P=n[Symbol.asyncIterator]();for(;;){let{value:E,done:z}=await P.next();if(z){if(s)if(s===a)yield c;else throw Error("Truncated event message received.");return}let _=E.length,B=0;for(;B<_;){if(!c){let Pe=_-B;u||(u=new Uint8Array(4));let me=Math.min(4-a,Pe);if(u.set(E.slice(B,B+me),a),a+=me,B+=me,a<4)break;g(new DataView(u.buffer).getUint32(0,!1)),u=null}let ne=Math.min(s-a,_-B);c.set(E.slice(B,B+ne),a),a+=ne,B+=ne,s&&s===a&&(yield c,c=null,s=0,a=0)}}}}}(e),decoder:this.eventStreamCodec}),deserializer:(i=this.utfEncoder,async function(n){let{value:s}=n.headers[":message-type"];if(s==="error"){let a=Error(n.headers[":error-message"].value||"UnknownError");throw a.name=n.headers[":error-code"].value,a}if(s==="exception"){let a=n.headers[":exception-type"].value,c=await r({[a]:n});if(c.$unknown){let u=Error(i(n.body));throw u.name=a,u}throw c[a]}if(s==="event"){let a={[n.headers[":event-type"].value]:n},c=await r(a);return c.$unknown?void 0:c}throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)})})}serialize(e,r){return new so({messageStream:new Oo({inputStream:e,serializer:r}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}let Uo=t=>({[Symbol.asyncIterator]:async function*(){let e=t.getReader();try{for(;;){let{done:r,value:i}=await e.read();if(r)return;yield i}}finally{e.releaseLock()}}}),$o=t=>{let e=t[Symbol.asyncIterator]();return new ReadableStream({async pull(r){let{done:i,value:n}=await e.next();if(i)return r.close();r.enqueue(n)}})};class _o{universalMarshaller;constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new Do({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){let i=Lo(e)?Uo(e):e;return this.universalMarshaller.deserialize(i,r)}serialize(e,r){let i=this.universalMarshaller.serialize(e,r);return typeof ReadableStream=="function"?$o(i):i}}let Lo=t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,zo=t=>new _o(t);var Tr=y(913);function Ks(t,e){return new Request(t,e)}let Sn={supported:void 0};class Ws{config;configProvider;static create(e){return typeof e?.handle=="function"?e:new Ws(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),Sn.supported===void 0&&(Sn.supported=typeof Request<"u"&&"keepalive"in Ks("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r,requestTimeout:i}={}){this.config||(this.config=await this.configProvider);let n=i??this.config.requestTimeout,s=this.config.keepAlive===!0,a=this.config.credentials;if(r?.aborted){let me=Error("Request aborted");return me.name="AbortError",Promise.reject(me)}let c=e.path,u=(0,Tr.G)(e.query||{});u&&(c+=`?${u}`),e.fragment&&(c+=`#${e.fragment}`);let g="";if(e.username!=null||e.password!=null){let me=e.username??"",ot=e.password??"";g=`${me}:${ot}@`}let{port:P,method:E}=e,z=`${e.protocol}//${g}${e.hostname}${P?`:${P}`:""}${c}`,_=E==="GET"||E==="HEAD"?void 0:e.body,B={body:_,headers:new Headers(e.headers),method:E,credentials:a};this.config?.cache&&(B.cache=this.config.cache),_&&(B.duplex="half"),typeof AbortController<"u"&&(B.signal=r),Sn.supported&&(B.keepalive=s),typeof this.config.requestInit=="function"&&Object.assign(B,this.config.requestInit(e));let ne=()=>{},Pe=[fetch(Ks(z,B)).then(me=>{let ot=me.headers,Ke={};for(let gt of ot.entries())Ke[gt[0]]=gt[1];return me.body!=null?{response:new pr.c({headers:Ke,reason:me.statusText,statusCode:me.status,body:me.body})}:me.blob().then(gt=>({response:new pr.c({headers:Ke,reason:me.statusText,statusCode:me.status,body:gt})}))}),function(me=0){return new Promise((ot,Ke)=>{me&&setTimeout(()=>{let gt=Error(`Request did not complete within ${me} ms`);gt.name="TimeoutError",Ke(gt)},me)})}(n)];return r&&Pe.push(new Promise((me,ot)=>{let Ke=()=>{let gt=Error("Request aborted");gt.name="AbortError",ot(gt)};typeof r.addEventListener=="function"?(r.addEventListener("abort",Ke,{once:!0}),ne=()=>r.removeEventListener("abort",Ke)):r.onabort=Ke})),Promise.race(Pe).finally(ne)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(i=>(i[e]=r,i))}httpHandlerConfigs(){return this.config??{}}}var dr=y(4957);let Pr=t=>{let e=t.length/4*3;t.slice(-2)==="=="?e-=2:t.slice(-1)==="="&&e--;let r=new ArrayBuffer(e),i=new DataView(r);for(let n=0;n<t.length;n+=4){let s=0,a=0;for(let g=n,P=n+3;g<=P;g++)if(t[g]!=="="){if(!(t[g]in dr.mh))throw TypeError(`Invalid character ${t[g]} in base64 string.`);s|=dr.mh[t[g]]<<(P-g)*dr._w,a+=dr._w}else s>>=dr._w;let c=n/4*3;s>>=a%dr.kQ;let u=Math.floor(a/dr.kQ);for(let g=0;g<u;g++){let P=(u-g-1)*dr.kQ;i.setUint8(c+g,(s&255<<P)>>P)}}return new Uint8Array(r)},Gs=async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):ao(t):oo(t);async function ao(t){return new Uint8Array(Pr(await new Promise((e,r)=>{let i=new FileReader;i.onloadend=()=>{if(i.readyState!==2)return r(Error("Reader aborted too early"));let n=i.result??"",s=n.indexOf(","),a=s>-1?s+1:n.length;e(n.substring(a))},i.onabort=()=>r(Error("Read aborted")),i.onerror=()=>r(i.error),i.readAsDataURL(t)})))}async function oo(t){let e=[],r=t.getReader(),i=!1,n=0;for(;!i;){let{done:c,value:u}=await r.read();u&&(e.push(u),n+=u.length),i=c}let s=new Uint8Array(n),a=0;for(let c of e)s.set(c,a),a+=c.length;return s}async function co(t,e,r=1048576){let i=t.size,n=0;for(;n<i;){let s=t.slice(n,Math.min(i,n+r));e(new Uint8Array(await s.arrayBuffer())),n+=s.size}}let lo=async function(t,e){let r=new t;return await co(e,i=>{r.update(i)}),r.digest()},nc=t=>()=>Promise.reject(t);var Ae=y(681);let sc=[1732584193,4023233417,2562383102,271733878];class ac{state;buffer;bufferLength;bytesHashed;finished;constructor(){this.reset()}update(e){if(typeof e=="string"?e.length===0:e.byteLength===0)return;if(this.finished)throw Error("Attempted to update an already finished hash.");let r=typeof e=="string"?(0,Ae.a)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),i=0,{byteLength:n}=r;for(this.bytesHashed+=n;n>0;)this.buffer.setUint8(this.bufferLength++,r[i++]),n--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)}async digest(){if(!this.finished){let{buffer:r,bufferLength:i,bytesHashed:n}=this,s=8*n;if(r.setUint8(this.bufferLength++,128),i%64>=56){for(let a=this.bufferLength;a<64;a++)r.setUint8(a,0);this.hashBuffer(),this.bufferLength=0}for(let a=this.bufferLength;a<56;a++)r.setUint8(a,0);r.setUint32(56,s>>>0,!0),r.setUint32(60,Math.floor(s/4294967296),!0),this.hashBuffer(),this.finished=!0}let e=new DataView(new ArrayBuffer(16));for(let r=0;r<4;r++)e.setUint32(4*r,this.state[r],!0);return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}hashBuffer(){let{buffer:e,state:r}=this,i=r[0],n=r[1],s=r[2],a=r[3];i=Mt(i,n,s,a,e.getUint32(0,!0),7,3614090360),a=Mt(a,i,n,s,e.getUint32(4,!0),12,3905402710),s=Mt(s,a,i,n,e.getUint32(8,!0),17,606105819),n=Mt(n,s,a,i,e.getUint32(12,!0),22,3250441966),i=Mt(i,n,s,a,e.getUint32(16,!0),7,4118548399),a=Mt(a,i,n,s,e.getUint32(20,!0),12,1200080426),s=Mt(s,a,i,n,e.getUint32(24,!0),17,2821735955),n=Mt(n,s,a,i,e.getUint32(28,!0),22,4249261313),i=Mt(i,n,s,a,e.getUint32(32,!0),7,1770035416),a=Mt(a,i,n,s,e.getUint32(36,!0),12,2336552879),s=Mt(s,a,i,n,e.getUint32(40,!0),17,4294925233),n=Mt(n,s,a,i,e.getUint32(44,!0),22,2304563134),i=Mt(i,n,s,a,e.getUint32(48,!0),7,1804603682),a=Mt(a,i,n,s,e.getUint32(52,!0),12,4254626195),s=Mt(s,a,i,n,e.getUint32(56,!0),17,2792965006),n=Mt(n,s,a,i,e.getUint32(60,!0),22,1236535329),i=Nt(i,n,s,a,e.getUint32(4,!0),5,4129170786),a=Nt(a,i,n,s,e.getUint32(24,!0),9,3225465664),s=Nt(s,a,i,n,e.getUint32(44,!0),14,643717713),n=Nt(n,s,a,i,e.getUint32(0,!0),20,3921069994),i=Nt(i,n,s,a,e.getUint32(20,!0),5,3593408605),a=Nt(a,i,n,s,e.getUint32(40,!0),9,38016083),s=Nt(s,a,i,n,e.getUint32(60,!0),14,3634488961),n=Nt(n,s,a,i,e.getUint32(16,!0),20,3889429448),i=Nt(i,n,s,a,e.getUint32(36,!0),5,568446438),a=Nt(a,i,n,s,e.getUint32(56,!0),9,3275163606),s=Nt(s,a,i,n,e.getUint32(12,!0),14,4107603335),n=Nt(n,s,a,i,e.getUint32(32,!0),20,1163531501),i=Nt(i,n,s,a,e.getUint32(52,!0),5,2850285829),a=Nt(a,i,n,s,e.getUint32(8,!0),9,4243563512),s=Nt(s,a,i,n,e.getUint32(28,!0),14,1735328473),n=Nt(n,s,a,i,e.getUint32(48,!0),20,2368359562),i=Ot(i,n,s,a,e.getUint32(20,!0),4,4294588738),a=Ot(a,i,n,s,e.getUint32(32,!0),11,2272392833),s=Ot(s,a,i,n,e.getUint32(44,!0),16,1839030562),n=Ot(n,s,a,i,e.getUint32(56,!0),23,4259657740),i=Ot(i,n,s,a,e.getUint32(4,!0),4,2763975236),a=Ot(a,i,n,s,e.getUint32(16,!0),11,1272893353),s=Ot(s,a,i,n,e.getUint32(28,!0),16,4139469664),n=Ot(n,s,a,i,e.getUint32(40,!0),23,3200236656),i=Ot(i,n,s,a,e.getUint32(52,!0),4,681279174),a=Ot(a,i,n,s,e.getUint32(0,!0),11,3936430074),s=Ot(s,a,i,n,e.getUint32(12,!0),16,3572445317),n=Ot(n,s,a,i,e.getUint32(24,!0),23,76029189),i=Ot(i,n,s,a,e.getUint32(36,!0),4,3654602809),a=Ot(a,i,n,s,e.getUint32(48,!0),11,3873151461),s=Ot(s,a,i,n,e.getUint32(60,!0),16,530742520),n=Ot(n,s,a,i,e.getUint32(8,!0),23,3299628645),i=Dt(i,n,s,a,e.getUint32(0,!0),6,4096336452),a=Dt(a,i,n,s,e.getUint32(28,!0),10,1126891415),s=Dt(s,a,i,n,e.getUint32(56,!0),15,2878612391),n=Dt(n,s,a,i,e.getUint32(20,!0),21,4237533241),i=Dt(i,n,s,a,e.getUint32(48,!0),6,1700485571),a=Dt(a,i,n,s,e.getUint32(12,!0),10,2399980690),s=Dt(s,a,i,n,e.getUint32(40,!0),15,4293915773),n=Dt(n,s,a,i,e.getUint32(4,!0),21,2240044497),i=Dt(i,n,s,a,e.getUint32(32,!0),6,1873313359),a=Dt(a,i,n,s,e.getUint32(60,!0),10,4264355552),s=Dt(s,a,i,n,e.getUint32(24,!0),15,2734768916),n=Dt(n,s,a,i,e.getUint32(52,!0),21,1309151649),i=Dt(i,n,s,a,e.getUint32(16,!0),6,4149444226),a=Dt(a,i,n,s,e.getUint32(44,!0),10,3174756917),s=Dt(s,a,i,n,e.getUint32(8,!0),15,718787259),n=Dt(n,s,a,i,e.getUint32(36,!0),21,3951481745),r[0]=i+r[0]&4294967295,r[1]=n+r[1]&4294967295,r[2]=s+r[2]&4294967295,r[3]=a+r[3]&4294967295}reset(){this.state=Uint32Array.from(sc),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Js(t,e,r,i,n,s){return((e=(e+t&4294967295)+(i+s&4294967295)&4294967295)<<n|e>>>32-n)+r&4294967295}function Mt(t,e,r,i,n,s,a){return Js(e&r|~e&i,t,e,n,s,a)}function Nt(t,e,r,i,n,s,a){return Js(e&i|r&~i,t,e,n,s,a)}function Ot(t,e,r,i,n,s,a){return Js(e^r^i,t,e,n,s,a)}function Dt(t,e,r,i,n,s,a){return Js(r^(e|~i),t,e,n,s,a)}let oc=t=>{switch(t){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Ho=typeof TextEncoder=="function"?new TextEncoder:null,cc=t=>{if(typeof t=="string"){if(Ho)return Ho.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){let i=t.charCodeAt(r);i>127&&i<=2047?e++:i>2047&&i<=65535&&(e+=2),i>=56320&&i<=57343&&r--}return e}if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;throw Error(`Body Length computation failed for ${t}`)},lc=(t,e,r)=>{let i,n,s,a=!1,c=async()=>{n||(n=t());try{i=await n,s=!0,a=!1}finally{n=void 0}return i};return e===void 0?async u=>((!s||u?.forceRefresh)&&(i=await c()),i):async u=>((!s||u?.forceRefresh)&&(i=await c()),a||(r&&!r(i)?a=!0:e(i)&&await c()),i)},uc=["in-region","cross-region","mobile","standard","legacy"],dc=({defaultsMode:t}={})=>lc(async()=>{let e=typeof t=="function"?await t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(fc()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw Error(`Invalid parameter for "defaultsMode", expect ${uc.join(", ")}, got ${e}`)}}),fc=()=>{let t=window?.navigator;if(t?.connection){let{effectiveType:e,rtt:r,downlink:i}=t?.connection;if(typeof e=="string"&&e!=="4g"||Number(r)>100||10>Number(i))return!0}return t?.userAgentData?.mobile||typeof t?.maxTouchPoints=="number"&&t?.maxTouchPoints>1},uo=t=>new Date(Date.now()+t),Bo=t=>pr.c.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,hc=(t,e)=>Math.abs(uo(e).getTime()-t)>=3e5,jo=(t,e)=>{let r=Date.parse(t);return hc(r,e)?r-Date.now():e},wn=(t,e)=>{if(!e)throw Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},qo=async t=>{let e=wn("context",t.context),r=wn("config",t.config),i=e.endpointV2?.properties?.authSchemes?.[0],n=wn("signer",r.signer),s=await n(i);return{config:r,signer:s,signingRegion:t?.signingRegion,signingRegionSet:t?.signingRegionSet,signingName:t?.signingName}};class Fo{async sign(e,r,i){if(!l.K.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let n=await qo(i),{config:s,signer:a}=n,{signingRegion:c,signingName:u}=n,g=i.context;if(g?.authSchemes?.length){let[P,E]=g.authSchemes;P?.name==="sigv4a"&&E?.name==="sigv4"&&(c=E?.signingRegion??c,u=E?.signingName??u)}return await a.sign(e,{signingDate:uo(s.systemClockOffset),signingRegion:c,signingService:u})}errorHandler(e){return r=>{let i=r.ServerTime??Bo(r.$response);if(i){let n=wn("config",e.config),s=n.systemClockOffset;n.systemClockOffset=jo(i,n.systemClockOffset),n.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let i=Bo(e);if(i){let n=wn("config",r.config);n.systemClockOffset=jo(i,n.systemClockOffset)}}}class pc extends Fo{async sign(e,r,i){if(!l.K.isInstance(e))throw Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:n,signer:s,signingRegion:a,signingRegionSet:c,signingName:u}=await qo(i),g=(await n.sigv4aSigningRegionSet?.()??c??[a]).join(",");return await s.sign(e,{signingDate:uo(n.systemClockOffset),signingRegion:g,signingService:u})}}var Ut=y(3330),Vo=y(6549);let Ko=t=>{let e,r=t.length,i=[],n=!1,s=0;for(let a=0;a<r;++a){let c=t[a];switch(c){case'"':e!=="\\"&&(n=!n);break;case",":n||(i.push(t.slice(s,a)),s=a+1)}e=c}return i.push(t.slice(s)),i.map(a=>{let c=(a=a.trim()).length;return c<2?a:(a[0]==='"'&&a[c-1]==='"'&&(a=a.slice(1,c-1)),a.replace(/\\"/g,'"'))})};var yi=y(2852),bi=y(6244),Wo=y(2859);let Go="The stream has already been transformed.",Jo=t=>{if(!Zo(t)&&!(0,Wo.H)(t)){let n=t?.__proto__?.constructor?.name||t;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${n}`)}let e=!1,r=async()=>{if(e)throw Error(Go);return e=!0,await Gs(t)},i=n=>{if(typeof n.stream!="function")throw Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return n.stream()};return Object.assign(t,{transformToByteArray:r,transformToString:async n=>{let s=await r();if(n==="base64")return(0,yi.n)(s);if(n==="hex")return(0,Ht.n)(s);if(n===void 0||n==="utf8"||n==="utf-8")return(0,bi.P)(s);if(typeof TextDecoder=="function")return new TextDecoder(n).decode(s);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(e)throw Error(Go);if(e=!0,Zo(t))return i(t);if((0,Wo.H)(t))return t;throw Error(`Cannot transform payload to web stream, got ${t}`)}})},Zo=t=>typeof Blob=="function"&&t instanceof Blob;class jr extends Uint8Array{static fromString(e,r="utf-8"){if(typeof e=="string")return r==="base64"?jr.mutate(Pr(e)):jr.mutate((0,Ae.a)(e));throw Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,jr.prototype),e}transformToString(e="utf-8"){return e==="base64"?(0,yi.n)(this):(0,bi.P)(this)}}let Zs=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return jr.mutate(t);if(!t)return jr.mutate(new Uint8Array);let r=e.streamCollector(t);return jr.mutate(await r)};function Qo(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}class Qs{serdeContext;setSerdeContext(e){this.serdeContext=e}}class gc extends Qs{options;constructor(e){super(),this.options=e}getRequestType(){return l.K}getResponseType(){return pr.c}setSerdeContext(e){this.serdeContext=e,this.serializer.setSerdeContext(e),this.deserializer.setSerdeContext(e),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(e)}updateServiceEndpoint(e,r){if(!("url"in r))return e.protocol=r.protocol,e.hostname=r.hostname,e.port=r.port?Number(r.port):void 0,e.path=r.path,e.query={...r.query},e;for(let[i,n]of(e.protocol=r.url.protocol,e.hostname=r.url.hostname,e.port=r.url.port?Number(r.url.port):void 0,e.path=r.url.pathname,e.fragment=r.url.hash||void 0,e.username=r.url.username||void 0,e.password=r.url.password||void 0,e.query||(e.query={}),r.url.searchParams.entries()))e.query[i]=n;return e}setHostPrefix(e,r,i){if(this.serdeContext?.disableHostPrefix)return;let n=Ut.l.of(r.input),s=(0,Vo.c)(r.traits??{});if(s.endpoint){let a=s.endpoint?.[0];if(typeof a=="string"){for(let[c]of[...n.structIterator()].filter(([,u])=>u.getMergedTraits().hostLabel)){let u=i[c];if(typeof u!="string")throw Error(`@smithy/core/schema - ${c} in input must be a string as hostLabel.`);a=a.replace(`{${c}}`,u)}e.hostname=a+e.hostname}}}deserializeMetadata(e){return{httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:e,requestSchema:r,initialRequest:i}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:e,requestSchema:r,initialRequest:i})}async deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:i}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:e,responseSchema:r,initialResponseContainer:i})}async loadEventStreamCapability(){let{EventStreamSerde:e}=await Promise.resolve().then(y.bind(y,496));return new e({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(e,r,i,n,s){return[]}getEventStreamMarshaller(){let e=this.serdeContext;if(!e.eventStreamMarshaller)throw Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return e.eventStreamMarshaller}}class mc extends gc{async serializeRequest(e,r,i){let n,s={...r??{}},a=this.serializer,c={},u={},g=await i.endpoint(),P=Ut.l.of(e?.input),E=P.getSchema(),z=!1,_=new l.K({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:c,headers:u,body:void 0});if(g){this.updateServiceEndpoint(_,g),this.setHostPrefix(_,e,s);let B=(0,Vo.c)(e.traits);if(B.http){_.method=B.http[0];let[ne,Pe]=B.http[1].split("?");_.path=="/"?_.path=ne:_.path+=ne,Object.assign(c,Object.fromEntries(new URLSearchParams(Pe??"")))}}for(let[B,ne]of P.structIterator()){let Pe=ne.getMergedTraits()??{},me=s[B];if(me==null&&!ne.isIdempotencyToken()){if(Pe.httpLabel&&(_.path.includes(`{${B}+}`)||_.path.includes(`{${B}}`)))throw Error(`No value provided for input HTTP label: ${B}.`);continue}if(Pe.httpPayload)ne.isStreaming()?ne.isStructSchema()?s[B]&&(n=await this.serializeEventStream({eventStream:s[B],requestSchema:P})):n=me:(a.write(ne,me),n=a.flush()),delete s[B];else if(Pe.httpLabel){a.write(ne,me);let ot=a.flush();_.path.includes(`{${B}+}`)?_.path=_.path.replace(`{${B}+}`,ot.split("/").map(Qo).join("/")):_.path.includes(`{${B}}`)&&(_.path=_.path.replace(`{${B}}`,Qo(ot))),delete s[B]}else if(Pe.httpHeader)a.write(ne,me),u[Pe.httpHeader.toLowerCase()]=String(a.flush()),delete s[B];else if(typeof Pe.httpPrefixHeaders=="string"){for(let[ot,Ke]of Object.entries(me)){let gt=Pe.httpPrefixHeaders+ot;a.write([ne.getValueSchema(),{httpHeader:gt}],Ke),u[gt.toLowerCase()]=a.flush()}delete s[B]}else Pe.httpQuery||Pe.httpQueryParams?(this.serializeQuery(ne,me,c),delete s[B]):z=!0}return z&&s&&(a.write(E,s),n=a.flush()),_.headers=u,_.query=c,_.body=n,_}serializeQuery(e,r,i){let n=this.serializer,s=e.getMergedTraits();if(s.httpQueryParams){for(let[a,c]of Object.entries(r))if(!(a in i)){let u=e.getValueSchema();Object.assign(u.getMergedTraits(),{...s,httpQuery:a,httpQueryParams:void 0}),this.serializeQuery(u,c,i)}return}if(e.isListSchema()){let a=!!e.getMergedTraits().sparse,c=[];for(let u of r){n.write([e.getValueSchema(),s],u);let g=n.flush();(a||g!==void 0)&&c.push(g)}i[s.httpQuery]=c}else n.write([e,s],r),i[s.httpQuery]=n.flush()}async deserializeResponse(e,r,i){let n=this.deserializer,s=Ut.l.of(e.output),a={};if(i.statusCode>=300){let u=await Zs(i.body,r);throw u.byteLength>0&&Object.assign(a,await n.read(15,u)),await this.handleError(e,r,i,a,this.deserializeMetadata(i)),Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let u in i.headers){let g=i.headers[u];delete i.headers[u],i.headers[u.toLowerCase()]=g}let c=await this.deserializeHttpMessage(s,r,i,a);if(c.length){let u=await Zs(i.body,r);if(u.byteLength>0){let g=await n.read(s,u);for(let P of c)a[P]=g[P]}}else c.discardResponseBody&&await Zs(i.body,r);return a.$metadata=this.deserializeMetadata(i),a}async deserializeHttpMessage(e,r,i,n,s){let a;a=n instanceof Set?s:n;let c=!0,u=this.deserializer,g=Ut.l.of(e),P=[];for(let[E,z]of g.structIterator()){let _=z.getMemberTraits();if(_.httpPayload){if(c=!1,z.isStreaming())z.isStructSchema()?a[E]=await this.deserializeEventStream({response:i,responseSchema:g}):a[E]=Jo(i.body);else if(i.body){let B=await Zs(i.body,r);B.byteLength>0&&(a[E]=await u.read(z,B))}}else if(_.httpHeader){let B=String(_.httpHeader).toLowerCase(),ne=i.headers[B];if(ne!=null)if(z.isListSchema()){let Pe=z.getValueSchema();Pe.getMergedTraits().httpHeader=B;let me=[];for(let ot of Pe.isTimestampSchema()&&Pe.getSchema()===4?function(Ke,gt,Ys){if(!Number.isInteger(2))throw Error("Invalid number of delimiters (2) for splitEvery.");let qr=Ke.split(",");if(Ys===1)return qr;let xr=[],Fr="";for(let vn=0;vn<qr.length;vn++)Fr===""?Fr=qr[vn]:Fr+=","+qr[vn],(vn+1)%Ys==0&&(xr.push(Fr),Fr="");return Fr!==""&&xr.push(Fr),xr}(ne,0,2):Ko(ne))me.push(await u.read(Pe,ot.trim()));a[E]=me}else a[E]=await u.read(z,ne)}else if(_.httpPrefixHeaders!==void 0){for(let[B,ne]of(a[E]={},Object.entries(i.headers)))if(B.startsWith(_.httpPrefixHeaders)){let Pe=z.getValueSchema();Pe.getMergedTraits().httpHeader=B,a[E][B.slice(_.httpPrefixHeaders.length)]=await u.read(Pe,ne)}}else _.httpResponseCode?a[E]=i.statusCode:P.push(E)}return P.discardResponseBody=c,P}}var fo=y(4679);let Ir=function(t){return Object.assign(new String(t),{deserializeJSON:()=>JSON.parse(String(t)),toString:()=>String(t),toJSON:()=>String(t)})};function ho(t,e){if(e.timestampFormat.useTrait&&t.isTimestampSchema()&&(t.getSchema()===5||t.getSchema()===6||t.getSchema()===7))return t.getSchema();let{httpLabel:r,httpPrefixHeaders:i,httpHeader:n,httpQuery:s}=t.getMergedTraits();return(e.httpBindings?typeof i=="string"||n?6:s||r?5:void 0:void 0)??e.timestampFormat.default}Ir.from=t=>t&&typeof t=="object"&&(t instanceof Ir||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?Ir(String(t)):Ir(JSON.stringify(t)),Ir.fromObject=Ir.from;class yc extends Qs{settings;stringBuffer="";constructor(e){super(),this.settings=e}write(e,r){let i=Ut.l.of(e);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(i.isTimestampSchema()){if(!(r instanceof Date))throw Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${i.getName(!0)}`);switch(ho(i,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=(0,fo.JV)(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(i.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??yi.n)(r);return}if(i.isListSchema()&&Array.isArray(r)){let c="";for(let u of r){var n;this.write([i.getValueSchema(),i.getMergedTraits()],u);let g=this.flush();c!==""&&(c+=", "),c+=i.getValueSchema().isTimestampSchema()?g:(((n=g).includes(",")||n.includes('"'))&&(n=`"${n.replace(/"/g,'\\"')}"`),n)}this.stringBuffer=c;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=i.getMergedTraits().mediaType,a=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(a=Ir.from(a)),i.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??yi.n)(a.toString());return}this.stringBuffer=r;break;default:i.isIdempotencyToken()?this.stringBuffer=ar():this.stringBuffer=String(r)}}flush(){let e=this.stringBuffer;return this.stringBuffer="",e}}class bc{codecSerializer;stringSerializer;buffer;constructor(e,r,i=new yc(r)){this.codecSerializer=e,this.stringSerializer=i}setSerdeContext(e){this.codecSerializer.setSerdeContext(e),this.stringSerializer.setSerdeContext(e)}write(e,r){let i=Ut.l.of(e),n=i.getMergedTraits();if(n.httpHeader||n.httpLabel||n.httpQuery){this.stringSerializer.write(i,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(i,r)}flush(){if(this.buffer!==void 0){let e=this.buffer;return this.buffer=void 0,e}return this.codecSerializer.flush()}}let po="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",go="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",mo="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Xo="(\\d?\\d)",Yo="(\\d{4})",xc=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),Sc=RegExp(`^${po}, ${Xo} ${go} ${Yo} ${mo} GMT$`),wc=RegExp(`^${po}, ${Xo}-${go}-(\\d\\d) ${mo} GMT$`),vc=RegExp(`^${po} ${go} ( [1-9]|\\d\\d) ${mo} ${Yo}$`),Ec=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Cc=t=>{if(t==null)return;let e=NaN;if(typeof t=="number")e=t;else if(typeof t=="string"){if(!/^-?\d*\.?\d+$/.test(t))throw TypeError("parseEpochTimestamp - numeric string invalid.");e=Number.parseFloat(t)}else typeof t=="object"&&t.tag===1&&(e=t.value);if(isNaN(e)||Math.abs(e)===1/0)throw TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(1e3*e))},Rc=t=>{if(t==null)return;if(typeof t!="string")throw TypeError("RFC3339 timestamps must be strings");let e=xc.exec(t);if(!e)throw TypeError(`Invalid RFC3339 timestamp format ${t}`);let[,r,i,n,s,a,c,,u,g]=e;br(i,1,12),br(n,1,31),br(s,0,23),br(a,0,59),br(c,0,60);let P=new Date(Date.UTC(Number(r),Number(i)-1,Number(n),Number(s),Number(a),Number(c),Number(u)?Math.round(1e3*parseFloat(`0.${u}`)):0));if(P.setUTCFullYear(Number(r)),g.toUpperCase()!="Z"){let[,E,z,_]=/([+-])(\d\d):(\d\d)/.exec(g)||[void 0,"+",0,0];P.setTime(P.getTime()+(E==="-"?1:-1)*(36e5*Number(z)+6e4*Number(_)))}return P},Ac=t=>{let e,r,i,n,s,a,c,u;if(t!=null){if(typeof t!="string")throw TypeError("RFC7231 timestamps must be strings.");if((u=Sc.exec(t))?[,e,r,i,n,s,a,c]=u:(u=wc.exec(t))?([,e,r,i,n,s,a,c]=u,i=(Number(i)+1900).toString()):(u=vc.exec(t))&&([,r,e,n,s,a,c,i]=u),i&&a){let g=Date.UTC(Number(i),Ec.indexOf(r),Number(e),Number(n),Number(s),Number(a),c?Math.round(1e3*parseFloat(`0.${c}`)):0);br(e,1,31),br(n,0,23),br(s,0,59),br(a,0,60);let P=new Date(g);return P.setUTCFullYear(Number(i)),P}throw TypeError(`Invalid RFC7231 date-time value ${t}.`)}};function br(t,e,r){let i=Number(t);if(i<e||i>r)throw Error(`Value ${i} out of range [${e}, ${r}]`)}let ec=/^-?\d*(\.\d+)?$/;class Xs{string;type;constructor(e,r){if(this.string=e,this.type=r,!ec.test(e))throw Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](e){return!!e&&typeof e=="object"&&(Xs.prototype.isPrototypeOf(e)||e.type==="bigDecimal"&&ec.test(e.string))}}class tc extends Qs{settings;constructor(e){super(),this.settings=e}read(e,r){let i=Ut.l.of(e);if(i.isListSchema())return Ko(r).map(n=>this.read(i.getValueSchema(),n));if(i.isBlobSchema())return(this.serdeContext?.base64Decoder??Pr)(r);if(i.isTimestampSchema())switch(ho(i,this.settings)){case 5:return Rc(r);case 6:return Ac(r);case 7:return Cc(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(i.isStringSchema()){let n=i.getMergedTraits().mediaType,s=r;if(n)return i.getMergedTraits().httpHeader&&(s=this.base64ToUtf8(s)),(n==="application/json"||n.endsWith("+json"))&&(s=Ir.from(s)),s}return i.isNumericSchema()?Number(r):i.isBigIntegerSchema()?BigInt(r):i.isBigDecimalSchema()?new Xs(r,"bigDecimal"):i.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(e){return(this.serdeContext?.utf8Encoder??bi.P)((this.serdeContext?.base64Decoder??Pr)(e))}}class kc extends Qs{codecDeserializer;stringDeserializer;constructor(e,r){super(),this.codecDeserializer=e,this.stringDeserializer=new tc(r)}setSerdeContext(e){this.stringDeserializer.setSerdeContext(e),this.codecDeserializer.setSerdeContext(e),this.serdeContext=e}read(e,r){let i=Ut.l.of(e),n=i.getMergedTraits(),s=this.serdeContext?.utf8Encoder??bi.P;if(n.httpHeader||n.httpResponseCode)return this.stringDeserializer.read(i,s(r));if(n.httpPayload){if(i.isBlobSchema()){let a=this.serdeContext?.utf8Decoder??Ae.a;return typeof r=="string"?a(r):r}if(i.isStringSchema())return"byteLength"in r?s(r):r}return this.codecDeserializer.read(i,r)}}var yo=y(2150),rc=y(772);class Tc{queryCompat;constructor(e=!1){this.queryCompat=e}resolveRestContentType(e,r){let i=r.getMemberSchemas(),n=Object.values(i).find(s=>!!s.getMergedTraits().httpPayload);if(n)return n.getMergedTraits().mediaType||(n.isStringSchema()?"text/plain":n.isBlobSchema()?"application/octet-stream":e);if(!r.isUnitSchema()&&Object.values(i).find(s=>{let{httpQuery:a,httpQueryParams:c,httpHeader:u,httpLabel:g,httpPrefixHeaders:P}=s.getMergedTraits();return!a&&!c&&!u&&!g&&P===void 0}))return e}async getErrorSchemaOrThrowBaseException(e,r,i,n,s,a){let c=r,u=e;e.includes("#")&&([c,u]=e.split("#"));let g={$metadata:s,$fault:i.statusCode<500?"client":"server"},P=yo.O.for(c);try{return{errorSchema:a?.(P,u)??P.getSchema(e),errorMetadata:g}}catch{n.message=n.message??n.Message??"UnknownError";let z=yo.O.for("smithy.ts.sdk.synthetic."+c),_=z.getBaseException();if(_){let B=z.getErrorCtor(_)??Error;throw this.decorateServiceException(Object.assign(new B({name:u}),g),n)}throw this.decorateServiceException(Object.assign(Error(u),g),n)}}decorateServiceException(e,r={}){if(this.queryCompat){let i=e.Message??r.Message,n=(0,rc.M)(e,r);i&&(n.message=i),n.Error={...n.Error,Type:n.Error.Type,Code:n.Error.Code,Message:n.Error.message??n.Error.Message??i};let s=n.$metadata.requestId;return s&&(n.RequestId=s),n}return(0,rc.M)(e,r)}setQueryCompatError(e,r){let i=r.headers?.["x-amzn-query-error"];if(e!==void 0&&i!=null){let[n,s]=i.split(";"),a=Object.entries(e),c={Code:n,Type:s};for(let[u,g]of(Object.assign(e,c),a))c[u==="message"?"Message":u]=g;delete c.__type,e.Error=c}}queryCompatOutput(e,r){e.Error&&(r.Error=e.Error),e.Type&&(r.Type=e.Type),e.Code&&(r.Code=e.Code)}findQueryCompatibleError(e,r){try{return e.getSchema(r)}catch{return e.find(n=>Ut.l.of(n).getMergedTraits().awsQueryError?.[0]===r)}}}let Pc=(t,e)=>e?.Error?.Code!==void 0?e.Error.Code:e?.Code!==void 0?e.Code:t.statusCode==404?"NotFound":void 0;class bo{serdeContext;setSerdeContext(e){this.serdeContext=e}}let ic=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=ic(t[r]));return t};class Ic{from;to;keys;constructor(e,r){this.from=e,this.to=r,this.keys=new Set(Object.keys(this.from).filter(i=>i!=="__type"))}mark(e){this.keys.delete(e)}hasUnknown(){return this.keys.size===1&&Object.keys(this.to).length===0}writeUnknown(){if(this.hasUnknown()){let e=this.keys.values().next().value,r=this.from[e];this.to.$unknown=[e,r]}}}class Mc extends bo{settings;stringDeserializer;constructor(e){super(),this.settings=e,this.stringDeserializer=new tc(e)}setSerdeContext(e){this.serdeContext=e,this.stringDeserializer.setSerdeContext(e)}read(e,r,i){let n=Ut.l.of(e),s=n.getMemberSchemas();if(n.isStructSchema()&&n.isMemberSchema()&&Object.values(s).find(u=>!!u.getMemberTraits().eventPayload)){let u={},g=Object.keys(s)[0];return s[g].isBlobSchema()?u[g]=r:u[g]=this.read(s[g],r),u}let a=(this.serdeContext?.utf8Encoder??bi.P)(r),c=this.parseXml(a);return this.readSchema(e,i?c[i]:c)}readSchema(e,r){let i=Ut.l.of(e);if(i.isUnitSchema())return;let n=i.getMergedTraits();if(i.isListSchema()&&!Array.isArray(r))return this.readSchema(i,[r]);if(r==null)return r;if(typeof r=="object"){let s=!!n.sparse,a=!!n.xmlFlattened;if(i.isListSchema()){let u=i.getValueSchema(),g=[],P=u.getMergedTraits().xmlName??"member",E=a?r:(r[0]??r)[P];for(let z of Array.isArray(E)?E:[E])(z!=null||s)&&g.push(this.readSchema(u,z));return g}let c={};if(i.isMapSchema()){let u,g=i.getKeySchema(),P=i.getValueSchema();u=a?Array.isArray(r)?r:[r]:Array.isArray(r.entry)?r.entry:[r.entry];let E=g.getMergedTraits().xmlName??"key",z=P.getMergedTraits().xmlName??"value";for(let _ of u){let B=_[E],ne=_[z];(ne!=null||s)&&(c[B]=this.readSchema(P,ne))}return c}if(i.isStructSchema()){let u,g=i.isUnionSchema();for(let[P,E]of(g&&(u=new Ic(r,c)),i.structIterator())){let z=E.getMergedTraits(),_=z.httpPayload?z.xmlName??E.getName():E.getMemberTraits().xmlName??P;g&&u.mark(_),r[_]!=null&&(c[P]=this.readSchema(E,r[_]))}return g&&u.writeUnknown(),c}if(i.isDocumentSchema())return r;throw Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${i.getName(!0)}`)}return i.isListSchema()?[]:i.isMapSchema()||i.isStructSchema()?{}:this.stringDeserializer.read(i,r)}parseXml(e){if(e.length){let r;try{r=function(a){v||(v=new DOMParser);let c=v.parseFromString(a,"application/xml");if(c.getElementsByTagName("parsererror").length>0)throw Error("DOMParser XML parsing error.");let u=g=>{if(g.nodeType===Node.TEXT_NODE&&g.textContent?.trim())return g.textContent;if(g.nodeType===Node.ELEMENT_NODE){if(g.attributes.length===0&&g.childNodes.length===0)return"";let P={},E=Array.from(g.attributes);for(let _ of E)P[`${_.name}`]=_.value;let z=Array.from(g.childNodes);for(let _ of z){let B=u(_);if(B!=null){let ne=_.nodeName;if(z.length===1&&E.length===0&&ne==="#text")return B;P[ne]?Array.isArray(P[ne])?P[ne].push(B):P[ne]=[P[ne],B]:P[ne]=B}else if(z.length===1&&E.length===0)return g.textContent}return P}return null};return{[c.documentElement.nodeName]:u(c.documentElement)}}(e)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:e}),a}let i="#text",n=Object.keys(r)[0],s=r[n];return s[i]&&(s[n]=s[i],delete s[i]),ic(s)}return{}}}class xo{value;constructor(e){this.value=e}toString(){return(""+this.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}}class Bt{name;children;attributes={};static of(e,r,i){let n=new Bt(e);return r!==void 0&&n.addChildNode(new xo(r)),i!==void 0&&n.withName(i),n}constructor(e,r=[]){this.name=e,this.children=r}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}n(e){return this.name=e,this}c(e){return this.children.push(e),this}a(e,r){return r!=null&&(this.attributes[e]=r),this}cc(e,r,i=r){if(e[r]!=null){let n=Bt.of(r,e[r]).withName(i);this.c(n)}}l(e,r,i,n){e[r]!=null&&n().map(s=>{s.withName(i),this.c(s)})}lc(e,r,i,n){if(e[r]!=null){let s=n(),a=new Bt(i);s.map(c=>{a.c(c)}),this.c(a)}}toString(){let e=!!this.children.length,r=`<${this.name}`,i=this.attributes;for(let n of Object.keys(i)){let s=i[n];s!=null&&(r+=` ${n}="${(""+s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}"`)}return r+(e?`>${this.children.map(n=>n.toString()).join("")}</${this.name}>`:"/>")}}class Nc extends bo{settings;stringBuffer;byteBuffer;buffer;constructor(e){super(),this.settings=e}write(e,r){let i=Ut.l.of(e);if(i.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(i.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??Pr)(r);else{this.buffer=this.writeStruct(i,r,void 0);let n=i.getMergedTraits();n.httpPayload&&!n.xmlName&&this.buffer.withName(i.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let e=this.buffer;return this.settings.xmlNamespace&&!e?.attributes?.xmlns&&e.addAttribute("xmlns",this.settings.xmlNamespace),delete this.buffer,e.toString()}writeStruct(e,r,i){let n=e.getMergedTraits(),s=e.isMemberSchema()&&!n.httpPayload?e.getMemberTraits().xmlName??e.getMemberName():n.xmlName??e.getName();if(!s||!e.isStructSchema())throw Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${e.getName(!0)}.`);let a=Bt.of(s),[c,u]=this.getXmlnsAttribute(e,i);for(let[P,E]of e.structIterator()){let z=r[P];if(z!=null||E.isIdempotencyToken()){if(E.getMergedTraits().xmlAttribute){a.addAttribute(E.getMergedTraits().xmlName??P,this.writeSimple(E,z));continue}if(E.isListSchema())this.writeList(E,z,a,u);else if(E.isMapSchema())this.writeMap(E,z,a,u);else if(E.isStructSchema())a.addChildNode(this.writeStruct(E,z,u));else{let _=Bt.of(E.getMergedTraits().xmlName??E.getMemberName());this.writeSimpleInto(E,z,_,u),a.addChildNode(_)}}}let{$unknown:g}=r;if(g&&e.isUnionSchema()&&Array.isArray(g)&&Object.keys(r).length===1){let[P,E]=g,z=Bt.of(P);if(typeof E!="string")if(r instanceof Bt||r instanceof xo)a.addChildNode(r);else throw Error("@aws-sdk - $unknown union member in XML requires value of type string, @aws-sdk/xml-builder::XmlNode or XmlText.");this.writeSimpleInto(0,E,z,u),a.addChildNode(z)}return u&&a.addAttribute(c,u),a}writeList(e,r,i,n){if(!e.isMemberSchema())throw Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${e.getName(!0)}`);let s=e.getMergedTraits(),a=e.getValueSchema(),c=a.getMergedTraits(),u=!!c.sparse,g=!!s.xmlFlattened,[P,E]=this.getXmlnsAttribute(e,n),z=(_,B)=>{if(a.isListSchema())this.writeList(a,Array.isArray(B)?B:[B],_,E);else if(a.isMapSchema())this.writeMap(a,B,_,E);else if(a.isStructSchema()){let ne=this.writeStruct(a,B,E);_.addChildNode(ne.withName(g?s.xmlName??e.getMemberName():c.xmlName??"member"))}else{let ne=Bt.of(g?s.xmlName??e.getMemberName():c.xmlName??"member");this.writeSimpleInto(a,B,ne,E),_.addChildNode(ne)}};if(g)for(let _ of r)(u||_!=null)&&z(i,_);else{let _=Bt.of(s.xmlName??e.getMemberName());for(let B of(E&&_.addAttribute(P,E),r))(u||B!=null)&&z(_,B);i.addChildNode(_)}}writeMap(e,r,i,n,s=!1){if(!e.isMemberSchema())throw Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${e.getName(!0)}`);let a=e.getMergedTraits(),c=e.getKeySchema(),u=c.getMergedTraits().xmlName??"key",g=e.getValueSchema(),P=g.getMergedTraits(),E=P.xmlName??"value",z=!!P.sparse,_=!!a.xmlFlattened,[B,ne]=this.getXmlnsAttribute(e,n),Pe=(me,ot,Ke)=>{let gt=Bt.of(u,ot),[Ys,qr]=this.getXmlnsAttribute(c,ne);qr&&gt.addAttribute(Ys,qr),me.addChildNode(gt);let xr=Bt.of(E);g.isListSchema()?this.writeList(g,Ke,xr,ne):g.isMapSchema()?this.writeMap(g,Ke,xr,ne,!0):g.isStructSchema()?xr=this.writeStruct(g,Ke,ne):this.writeSimpleInto(g,Ke,xr,ne),me.addChildNode(xr)};if(_){for(let[me,ot]of Object.entries(r))if(z||ot!=null){let Ke=Bt.of(a.xmlName??e.getMemberName());Pe(Ke,me,ot),i.addChildNode(Ke)}}else{let me;for(let[ot,Ke]of(s||(me=Bt.of(a.xmlName??e.getMemberName()),ne&&me.addAttribute(B,ne),i.addChildNode(me)),Object.entries(r)))if(z||Ke!=null){let gt=Bt.of("entry");Pe(gt,ot,Ke),(s?i:me).addChildNode(gt)}}}writeSimple(e,r){if(r===null)throw Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let i=Ut.l.of(e),n=null;if(r&&typeof r=="object")if(i.isBlobSchema())n=(this.serdeContext?.base64Encoder??yi.n)(r);else if(i.isTimestampSchema()&&r instanceof Date)switch(ho(i,this.settings)){case 5:n=r.toISOString().replace(".000Z","Z");break;case 6:n=(0,fo.JV)(r);break;case 7:n=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),n=(0,fo.JV)(r)}else{if(i.isBigDecimalSchema()&&r)return r instanceof Xs?r.string:String(r);throw i.isMapSchema()||i.isListSchema()?Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${i.getName(!0)}`)}if((i.isBooleanSchema()||i.isNumericSchema()||i.isBigIntegerSchema()||i.isBigDecimalSchema())&&(n=String(r)),i.isStringSchema()&&(n=r===void 0&&i.isIdempotencyToken()?ar():String(r)),n===null)throw Error(`Unhandled schema-value pair ${i.getName(!0)}=${r}`);return n}writeSimpleInto(e,r,i,n){let s=this.writeSimple(e,r),a=Ut.l.of(e),c=new xo(s),[u,g]=this.getXmlnsAttribute(a,n);g&&i.addAttribute(u,g),i.addChildNode(c)}getXmlnsAttribute(e,r){let[i,n]=e.getMergedTraits().xmlNamespace??[];return n&&n!==r?[i?`xmlns:${i}`:"xmlns",n]:[void 0,void 0]}}class Oc extends bo{settings;constructor(e){super(),this.settings=e}createSerializer(){let e=new Nc(this.settings);return e.setSerdeContext(this.serdeContext),e}createDeserializer(){let e=new Mc(this.settings);return e.setSerdeContext(this.serdeContext),e}}class Dc extends mc{codec;serializer;deserializer;mixin=new Tc;constructor(e){super(e);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:e.xmlNamespace,serviceNamespace:e.defaultNamespace};this.codec=new Oc(r),this.serializer=new bc(this.codec.createSerializer(),r),this.deserializer=new kc(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(e,r,i){let n=await super.serializeRequest(e,r,i),s=Ut.l.of(e.input);if(!n.headers["content-type"]){let a=this.mixin.resolveRestContentType(this.getDefaultContentType(),s);a&&(n.headers["content-type"]=a)}return typeof n.body!="string"||n.headers["content-type"]!==this.getDefaultContentType()||n.body.startsWith("<?xml ")||this.hasUnstructuredPayloadBinding(s)||(n.body='<?xml version="1.0" encoding="UTF-8"?>'+n.body),n}async deserializeResponse(e,r,i){return super.deserializeResponse(e,r,i)}async handleError(e,r,i,n,s){let a=Pc(i,n)??"Unknown",{errorSchema:c,errorMetadata:u}=await this.mixin.getErrorSchemaOrThrowBaseException(a,this.options.defaultNamespace,i,n,s),g=Ut.l.of(c),P=n.Error?.message??n.Error?.Message??n.message??n.Message??"Unknown",E=new(yo.O.for(c[1]).getErrorCtor(c)??Error)(P);await this.deserializeHttpMessage(c,r,i,n);let z={};for(let[_,B]of g.structIterator()){let ne=B.getMergedTraits().xmlName??_,Pe=n.Error?.[ne]??n[ne];z[_]=this.codec.createDeserializer().readSchema(B,Pe)}throw this.mixin.decorateServiceException(Object.assign(E,u,{$fault:g.getMergedTraits().error,message:P},z),n)}getDefaultContentType(){return"application/xml"}hasUnstructuredPayloadBinding(e){for(let[,r]of e.structIterator())if(r.getMergedTraits().httpPayload)return!(r.isStructSchema()||r.isMapSchema()||r.isListSchema());return!1}}var Uc=y(3242);let $c=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:i,checksumAlgorithmFn:n,checksumLocationName:s,streamHasher:a}=e,c=r!==void 0&&i!==void 0&&n!==void 0&&s!==void 0&&a!==void 0,u=c?a(n,t):void 0,g=t.getReader();return new ReadableStream({async pull(P){let{value:E,done:z}=await g.read();if(z){if(P.enqueue(`0\r
`),c){let _=r(await u);P.enqueue(`${s}:${_}\r
`),P.enqueue(`\r
`)}P.close()}else P.enqueue(`${(i(E)||0).toString(16)}\r
${E}\r
`)}})},_c=t=>({apiVersion:"2006-03-01",base64Decoder:t?.base64Decoder??Pr,base64Encoder:t?.base64Encoder??yi.n,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Ns,extensions:t?.extensions??[],getAwsChunkedEncodingStream:t?.getAwsChunkedEncodingStream??$c,httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Da,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Fo},{schemeId:"aws.auth#sigv4a",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4a"),signer:new pc}],logger:t?.logger??new Ai.N,protocol:t?.protocol??Dc,protocolSettings:t?.protocolSettings??{defaultNamespace:"com.amazonaws.s3",xmlNamespace:"http://s3.amazonaws.com/doc/2006-03-01/",version:"2006-03-01",serviceTarget:"AmazonS3"},sdkStreamMixin:t?.sdkStreamMixin??Jo,serviceId:t?.serviceId??"S3",signerConstructor:t?.signerConstructor??Pi.W,signingEscapePath:t?.signingEscapePath??!1,urlParser:t?.urlParser??Uc.D,useArnRegion:t?.useArnRegion??void 0,utf8Decoder:t?.utf8Decoder??Ae.a,utf8Encoder:t?.utf8Encoder??bi.P}),Lc=t=>{let e=dc(t),r=()=>e().then(oc),i=_c(t);return{...i,...t,runtime:"browser",defaultsMode:e,bodyLengthChecker:t?.bodyLengthChecker??cc,credentialDefaultProvider:t?.credentialDefaultProvider??(n=>()=>Promise.reject(Error("Credential is missing"))),defaultUserAgentProvider:t?.defaultUserAgentProvider??To({serviceId:i.serviceId,clientVersion:Ao.rE}),eventStreamSerdeProvider:t?.eventStreamSerdeProvider??zo,maxAttempts:t?.maxAttempts??3,md5:t?.md5??ac,region:t?.region??nc("Region is missing"),requestHandler:Ws.create(t?.requestHandler??r),retryMode:t?.retryMode??(async()=>(await r()).retryMode||vo),sha1:t?.sha1??ko,sha256:t?.sha256??Ja,streamCollector:t?.streamCollector??Gs,streamHasher:t?.streamHasher??lo,useDualstackEndpoint:t?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:t?.useFipsEndpoint??(()=>Promise.resolve(!1))}},zc=t=>({setRegion(e){t.region=e},region:()=>t.region}),Hc=t=>({region:t.region()}),Bc=t=>({setHttpHandler(e){t.httpHandler=e},httpHandler:()=>t.httpHandler,updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs:()=>t.httpHandler.httpHandlerConfigs()}),jc=t=>({httpHandler:t.httpHandler()});(function(t){t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256"})(b||(b={}));let qc=t=>{let e=[];for(let r in b){let i=b[r];t[i]!==void 0&&e.push({algorithmId:()=>i,checksumConstructor:()=>t[i]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms:()=>e}},Fc=t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},Vc=t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy:()=>t.retryStrategy}),Kc=t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},Wc=t=>Object.assign(qc(t),Vc(t)),Gc=t=>Object.assign(Fc(t),Kc(t)),Jc=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,i=t.credentials;return{setHttpAuthScheme(n){let s=e.findIndex(a=>a.schemeId===n.schemeId);s===-1?e.push(n):e.splice(s,1,n)},httpAuthSchemes:()=>e,setHttpAuthSchemeProvider(n){r=n},httpAuthSchemeProvider:()=>r,setCredentials(n){i=n},credentials:()=>i}},Zc=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),Qc=(t,e)=>{let r=Object.assign(zc(t),Wc(t),Bc(t),Jc(t));return e.forEach(i=>i.configure(r)),Object.assign(t,Hc(r),Gc(r),jc(r),Zc(r))};class Xc extends Jr{config;constructor(...[e]){let r=Lc(e||{});super(r),this.initConfig=r;let i=Qc(it(Co(ta(wo(hr(Un(R(function(n){let s=Ye(n.userAgentAppId??Je),{customUserAgent:a}=n;return Object.assign(n,{customUserAgent:typeof a=="string"?[[a]]:a,userAgentAppId:async()=>{let c=await s();if(!(c===void 0||typeof c=="string"&&c.length<=50)){let u=n.logger?.constructor?.name!=="NoOpLogger"&&n.logger?n.logger:console;typeof c!="string"?u?.warn("userAgentAppId must be a string or undefined."):c.length>50&&u?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return c}})}((0,bn.v)(r)))))))),{session:[()=>this,La]}),e?.extensions||[]);this.config=i,this.middlewareStack.use(function(n){return{applyToStack:s=>{s.add(vi(n),Cn),s.add(ea(n),Ei),n.protocol.setSerdeContext(n)}}}(this.config)),this.middlewareStack.use(Pt(this.config)),this.middlewareStack.use(ca(this.config)),this.middlewareStack.use(An(this.config)),this.middlewareStack.use(A(this.config)),this.middlewareStack.use(se(this.config)),this.middlewareStack.use(we(this.config)),this.middlewareStack.use(er(this.config,{httpAuthSchemeParametersProvider:Na,identityProviderConfigProvider:async n=>new En({"aws.auth#sigv4":n.credentials,"aws.auth#sigv4a":n.credentials})})),this.middlewareStack.use(ie(this.config)),this.middlewareStack.use(Yt(this.config)),this.middlewareStack.use(m(this.config)),this.middlewareStack.use(De(this.config)),this.middlewareStack.use(Et(this.config)),this.middlewareStack.use(Be(this.config))}destroy(){super.destroy()}}},pe.__chunk_6244=(ye,j,y)=>{y.d(j,{P:()=>v});let v=C=>{if(typeof C=="string")return C;if(typeof C!="object"||typeof C.byteOffset!="number"||typeof C.byteLength!="number")throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(C)}},pe.__chunk_7260=(ye,j,y)=>{y.d(j,{F:()=>C});var v=y(681);let C=f=>typeof f=="string"?(0,v.a)(f):ArrayBuffer.isView(f)?new Uint8Array(f.buffer,f.byteOffset,f.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(f)},pe.__chunk_681=(ye,j,y)=>{y.d(j,{a:()=>v});let v=C=>new TextEncoder().encode(C)},pe.__chunk_7539=(ye,j,y)=>{y.d(j,{o:()=>v});let v=f=>encodeURIComponent(f).replace(/[!'()*]/g,C),C=f=>`%${f.charCodeAt(0).toString(16).toUpperCase()}`},pe.__chunk_2859=(ye,j,y)=>{y.d(j,{H:()=>v});let v=C=>typeof ReadableStream=="function"&&(C?.constructor?.name===ReadableStream.name||C instanceof ReadableStream)},pe.__chunk_7691=(ye,j,y)=>{y.d(j,{t:()=>v});let v=C=>{if(typeof C=="function")return C;let f=Promise.resolve(C);return()=>f}},pe.__chunk_1208=(ye,j,y)=>{y.d(j,{u:()=>C});var v=y(9099);let C=f=>f[v.V]||(f[v.V]={})},pe.__chunk_9392=(ye,j,y)=>{y.d(j,{a:()=>f,n:()=>M});let v={},C={};for(let k=0;k<256;k++){let T=k.toString(16).toLowerCase();T.length===1&&(T=`0${T}`),v[k]=T,C[T]=k}function f(k){if(k.length%2!=0)throw Error("Hex encoded strings must have an even number length");let T=new Uint8Array(k.length/2);for(let x=0;x<k.length;x+=2){let b=k.slice(x,x+2).toLowerCase();if(b in C)T[x/2]=C[b];else throw Error(`Cannot decode unrecognized sequence ${b} as hexadecimal`)}return T}function M(k){let T="";for(let x=0;x<k.byteLength;x++)T+=v[k[x]];return T}},pe.__chunk_2762=(ye,j,y)=>{var v;y.d(j,{c:()=>v}),function(C){C.ENV="env",C.CONFIG="shared config entry"}(v||(v={}))},pe.__chunk_6722=(ye,j,y)=>{y.d(j,{Q:()=>v});let v=(C,f,M)=>{if(f in C){if(C[f]==="true")return!0;if(C[f]==="false")return!1;throw Error(`Cannot load ${M} "${f}". Expected "true" or "false", got ${C[f]}.`)}}},pe.__chunk_2852=(ye,j,y)=>{y.d(j,{n:()=>f});var v=y(681),C=y(4957);function f(M){let k,T=typeof(k=typeof M=="string"?(0,v.a)(M):M)=="object"&&typeof k.length=="number",x=typeof k=="object"&&typeof k.byteOffset=="number"&&typeof k.byteLength=="number";if(!T&&!x)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let b="";for(let l=0;l<k.length;l+=3){let h=0,m=0;for(let N=l,R=Math.min(l+3,k.length);N<R;N++)h|=k[N]<<(R-N-1)*C.kQ,m+=C.kQ;let S=Math.ceil(m/C._w);h<<=S*C._w-m;for(let N=1;N<=S;N++){let R=(S-N)*C._w;b+=C.Kc[(h&C.OF<<R)>>R]}b+="==".slice(0,4-S)}return b}},pe.__chunk_4957=(ye,j,y)=>{y.d(j,{Kc:()=>f,OF:()=>T,_w:()=>M,kQ:()=>k,mh:()=>C});let v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=Object.entries(v).reduce((x,[b,l])=>(x[l]=Number(b),x),{}),f=v.split(""),M=6,k=8,T=63},pe.__chunk_3242=(ye,j,y)=>{y.d(j,{D:()=>v});let v=C=>{let f;if(typeof C=="string")return v(new URL(C));let{hostname:M,pathname:k,port:T,protocol:x,search:b}=C;return b&&(f=function(l){let h={};if(l=l.replace(/^\?/,""))for(let m of l.split("&")){let[S,N=null]=m.split("=");S=decodeURIComponent(S),N&&(N=decodeURIComponent(N)),S in h?Array.isArray(h[S])?h[S].push(N):h[S]=[h[S],N]:h[S]=N}return h}(b)),{hostname:M,port:T?parseInt(T):void 0,protocol:x,path:k,query:f}}},pe.__chunk_9099=(ye,j,y)=>{y.d(j,{V:()=>v});let v="__smithy_context"},pe.__chunk_772=(ye,j,y)=>{y.d(j,{M:()=>C,T:()=>v});class v extends Error{$fault;$response;$retryable;$metadata;constructor(M){super(M.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=M.name,this.$fault=M.$fault,this.$metadata=M.$metadata}static isInstance(M){return!!M&&(v.prototype.isPrototypeOf(M)||!!M.$fault&&!!M.$metadata&&(M.$fault==="client"||M.$fault==="server"))}static[Symbol.hasInstance](M){return!!M&&(this===v?v.isInstance(M):!!v.isInstance(M)&&(M.name&&this.name?this.prototype.isPrototypeOf(M)||M.name===this.name:this.prototype.isPrototypeOf(M)))}}let C=(f,M={})=>{Object.entries(M).filter(([,T])=>T!==void 0).forEach(([T,x])=>{(f[T]==null||f[T]==="")&&(f[T]=x)});let k=f.message||f.Message||"UnknownError";return f.message=k,delete f.Message,f}},pe.__chunk_661=(ye,j,y)=>{y.d(j,{u:()=>T});var v=y(8727),C=y(9099),f=y(3330);let M="***SensitiveInformation***";function k(b,l){if(l==null)return l;let h=f.l.of(b);if(h.getMergedTraits().sensitive)return M;if(h.isListSchema()){if(h.getValueSchema().getMergedTraits().sensitive)return M}else if(h.isMapSchema()){if(h.getKeySchema().getMergedTraits().sensitive||h.getValueSchema().getMergedTraits().sensitive)return M}else if(h.isStructSchema()&&typeof l=="object"){let m={};for(let[S,N]of h.structIterator())l[S]!=null&&(m[S]=k(N,l[S]));return m}return l}class T{middlewareStack=(0,v.o)();schema;static classBuilder(){return new x}resolveMiddlewareWithContext(l,h,m,{middlewareFn:S,clientName:N,commandName:R,inputFilterSensitiveLog:K,outputFilterSensitiveLog:F,smithyContext:A,additionalContext:H,CommandCtor:G}){for(let Ee of S.bind(this)(G,l,h,m))this.middlewareStack.use(Ee);let se=l.concat(this.middlewareStack),{logger:ee}=h,ce={logger:ee,clientName:N,commandName:R,inputFilterSensitiveLog:K,outputFilterSensitiveLog:F,[C.V]:{commandInstance:this,...A},...H},{requestHandler:we}=h;return se.resolve(Ee=>we.handle(Ee.request,m||{}),ce)}}class x{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(l){this._init=l}ep(l){return this._ep=l,this}m(l){return this._middlewareFn=l,this}s(l,h,m={}){return this._smithyContext={service:l,operation:h,...m},this}c(l={}){return this._additionalContext=l,this}n(l,h){return this._clientName=l,this._commandName=h,this}f(l=m=>m,h=m=>m){return this._inputFilterSensitiveLog=l,this._outputFilterSensitiveLog=h,this}ser(l){return this._serializer=l,this}de(l){return this._deserializer=l,this}sc(l){return this._operationSchema=l,this._smithyContext.operationSchema=l,this}build(){let l,h=this;return l=class extends T{input;static getEndpointParameterInstructions(){return h._ep}constructor(...[m]){super(),this.input=m??{},h._init(this),this.schema=h._operationSchema}resolveMiddleware(m,S,N){let R=h._operationSchema,K=R?.[4]??R?.input,F=R?.[5]??R?.output;return this.resolveMiddlewareWithContext(m,S,N,{CommandCtor:l,middlewareFn:h._middlewareFn,clientName:h._clientName,commandName:h._commandName,inputFilterSensitiveLog:h._inputFilterSensitiveLog??(R?k.bind(null,K):A=>A),outputFilterSensitiveLog:h._outputFilterSensitiveLog??(R?k.bind(null,F):A=>A),smithyContext:h._smithyContext,additionalContext:h._additionalContext})}serialize=h._serializer;deserialize=h._deserializer}}}},pe.__chunk_5618=(ye,j,y)=>{y.d(j,{N:()=>v});class v{trace(){}debug(){}info(){}warn(){}error(){}}},pe.__chunk_4915=(ye,j,y)=>{y.d(j,{B:()=>Xe});var v,C=y(9392),f=y(7260);let M="X-Amz-Date",k="X-Amz-Signature",T="X-Amz-Security-Token",x="authorization",b=M.toLowerCase(),l=[x,b,"date"],h=k.toLowerCase(),m="x-amz-content-sha256",S=T.toLowerCase(),N={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},R=/^proxy-/,K=/^sec-/,F="AWS4-HMAC-SHA256",A="aws4_request",H={},G=[],se=(J,O,W)=>`${J}/${O}/${W}/${A}`,ee=async(J,O,W,te,ie)=>{let oe=await ce(J,O.secretAccessKey,O.accessKeyId),ve=`${W}:${te}:${ie}:${(0,C.n)(oe)}:${O.sessionToken}`;if(ve in H)return H[ve];for(G.push(ve);G.length>50;)delete H[G.shift()];let He=`AWS4${O.secretAccessKey}`;for(let qe of[W,te,ie,A])He=await ce(J,He,qe);return H[ve]=He},ce=(J,O,W)=>{let te=new J(O);return te.update((0,f.F)(W)),te.digest()},we=({headers:J},O,W)=>{let te={};for(let ie of Object.keys(J).sort()){if(J[ie]==null)continue;let oe=ie.toLowerCase();(!(oe in N||O?.has(oe)||R.test(oe)||K.test(oe))||W&&(!W||W.has(oe)))&&(te[oe]=J[ie].trim().replace(/\s+/g," "))}return te};var Ee=y(167);let ke=async({headers:J,body:O},W)=>{for(let te of Object.keys(J))if(te.toLowerCase()===m)return J[te];if(O==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof O=="string"||ArrayBuffer.isView(O)||(0,Ee.m)(O)){let te=new W;return te.update((0,f.F)(O)),(0,C.n)(await te.digest())}return"UNSIGNED-PAYLOAD"};var _e=y(681);class it{format(O){let W=[];for(let oe of Object.keys(O)){let ve=(0,_e.a)(oe);W.push(Uint8Array.from([ve.byteLength]),ve,this.formatHeaderValue(O[oe]))}let te=new Uint8Array(W.reduce((oe,ve)=>oe+ve.byteLength,0)),ie=0;for(let oe of W)te.set(oe,ie),ie+=oe.byteLength;return te}formatHeaderValue(O){switch(O.type){case"boolean":return Uint8Array.from([O.value?0:1]);case"byte":return Uint8Array.from([2,O.value]);case"short":let W=new DataView(new ArrayBuffer(3));return W.setUint8(0,3),W.setInt16(1,O.value,!1),new Uint8Array(W.buffer);case"integer":let te=new DataView(new ArrayBuffer(5));return te.setUint8(0,4),te.setInt32(1,O.value,!1),new Uint8Array(te.buffer);case"long":let ie=new Uint8Array(9);return ie[0]=5,ie.set(O.value.bytes,1),ie;case"binary":let oe=new DataView(new ArrayBuffer(3+O.value.byteLength));oe.setUint8(0,6),oe.setUint16(1,O.value.byteLength,!1);let ve=new Uint8Array(oe.buffer);return ve.set(O.value,3),ve;case"string":let He=(0,_e.a)(O.value),qe=new DataView(new ArrayBuffer(3+He.byteLength));qe.setUint8(0,7),qe.setUint16(1,He.byteLength,!1);let Be=new Uint8Array(qe.buffer);return Be.set(He,3),Be;case"timestamp":let Ye=new Uint8Array(9);return Ye[0]=8,Ye.set(Vt.fromNumber(O.value.valueOf()).bytes,1),Ye;case"uuid":if(!Tt.test(O.value))throw Error(`Invalid UUID received: ${O.value}`);let Je=new Uint8Array(17);return Je[0]=9,Je.set((0,C.a)(O.value.replace(/\-/g,"")),1),Je}}}(function(J){J[J.boolTrue=0]="boolTrue",J[J.boolFalse=1]="boolFalse",J[J.byte=2]="byte",J[J.short=3]="short",J[J.integer=4]="integer",J[J.long=5]="long",J[J.byteArray=6]="byteArray",J[J.string=7]="string",J[J.timestamp=8]="timestamp",J[J.uuid=9]="uuid"})(v||(v={}));let Tt=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Vt{bytes;constructor(O){if(this.bytes=O,O.byteLength!==8)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(O){if(O>9223372036854776e3||O<-9223372036854776e3)throw Error(`${O} is too large (or, if negative, too small) to represent as an Int64`);let W=new Uint8Array(8);for(let te=7,ie=Math.abs(Math.round(O));te>-1&&ie>0;te--,ie/=256)W[te]=ie;return O<0&&jt(W),new Vt(W)}valueOf(){let O=this.bytes.slice(0),W=128&O[0];return W&&jt(O),parseInt((0,C.n)(O),16)*(W?-1:1)}toString(){return String(this.valueOf())}}function jt(J){for(let O=0;O<8;O++)J[O]^=255;for(let O=7;O>-1&&(J[O]++,J[O]===0);O--);}let Yt=(J,O)=>{for(let W of(J=J.toLowerCase(),Object.keys(O)))if(J===W.toLowerCase())return!0;return!1};var qt=y(5168);let L=(J,O={})=>{let{headers:W,query:te={}}=qt.K.clone(J);for(let ie of Object.keys(W)){let oe=ie.toLowerCase();(oe.slice(0,6)==="x-amz-"&&!O.unhoistableHeaders?.has(oe)||O.hoistableHeaders?.has(oe))&&(te[ie]=W[ie],delete W[ie])}return{...J,headers:W,query:te}},ae=J=>{for(let O of Object.keys((J=qt.K.clone(J)).headers))l.indexOf(O.toLowerCase())>-1&&delete J.headers[O];return J};var De=y(7691),be=y(7539);let Ue=({query:J={}})=>{let O=[],W={};for(let te of Object.keys(J)){if(te.toLowerCase()===h)continue;let ie=(0,be.o)(te);O.push(ie);let oe=J[te];typeof oe=="string"?W[ie]=`${ie}=${(0,be.o)(oe)}`:Array.isArray(oe)&&(W[ie]=oe.slice(0).reduce((ve,He)=>ve.concat([`${ie}=${(0,be.o)(He)}`]),[]).sort().join("&"))}return O.sort().map(te=>W[te]).filter(te=>te).join("&")},nt=J=>mt(J).toISOString().replace(/\.\d{3}Z$/,"Z"),mt=J=>typeof J=="number"?new Date(1e3*J):typeof J=="string"?new Date(Number(J)?1e3*Number(J):J):J;class Et{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:O,credentials:W,region:te,service:ie,sha256:oe,uriEscapePath:ve=!0}){this.service=ie,this.sha256=oe,this.uriEscapePath=ve,this.applyChecksum=typeof O!="boolean"||O,this.regionProvider=(0,De.t)(te),this.credentialProvider=(0,De.t)(W)}createCanonicalRequest(O,W,te){let ie=Object.keys(W).sort();return`${O.method}
${this.getCanonicalPath(O)}
${Ue(O)}
${ie.map(oe=>`${oe}:${W[oe]}`).join(`
`)}

${ie.join(";")}
${te}`}async createStringToSign(O,W,te,ie){let oe=new this.sha256;oe.update((0,f.F)(te));let ve=await oe.digest();return`${ie}
${O}
${W}
${(0,C.n)(ve)}`}getCanonicalPath({path:O}){if(this.uriEscapePath){let W=[];for(let ie of O.split("/"))ie?.length!==0&&ie!=="."&&(ie===".."?W.pop():W.push(ie));let te=`${O?.startsWith("/")?"/":""}${W.join("/")}${W.length>0&&O?.endsWith("/")?"/":""}`;return(0,be.o)(te).replace(/%2F/g,"/")}return O}validateResolvedCredentials(O){if(typeof O!="object"||typeof O.accessKeyId!="string"||typeof O.secretAccessKey!="string")throw Error("Resolved credential object is not valid")}formatDate(O){let W=nt(O).replace(/[\-:]/g,"");return{longDate:W,shortDate:W.slice(0,8)}}getCanonicalHeaderList(O){return Object.keys(O).sort().join(";")}}class Xe extends Et{headerFormatter=new it;constructor({applyChecksum:O,credentials:W,region:te,service:ie,sha256:oe,uriEscapePath:ve=!0}){super({applyChecksum:O,credentials:W,region:te,service:ie,sha256:oe,uriEscapePath:ve})}async presign(O,W={}){let{signingDate:te=new Date,expiresIn:ie=3600,unsignableHeaders:oe,unhoistableHeaders:ve,signableHeaders:He,hoistableHeaders:qe,signingRegion:Be,signingService:Ye}=W,Je=await this.credentialProvider();this.validateResolvedCredentials(Je);let Ct=Be??await this.regionProvider(),{longDate:Ft,shortDate:V}=this.formatDate(te);if(ie>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let q=se(V,Ct,Ye??this.service),Z=L(ae(O),{unhoistableHeaders:ve,hoistableHeaders:qe});Je.sessionToken&&(Z.query[T]=Je.sessionToken),Z.query["X-Amz-Algorithm"]=F,Z.query["X-Amz-Credential"]=`${Je.accessKeyId}/${q}`,Z.query[M]=Ft,Z.query["X-Amz-Expires"]=ie.toString(10);let re=we(Z,oe,He);return Z.query["X-Amz-SignedHeaders"]=this.getCanonicalHeaderList(re),Z.query[k]=await this.getSignature(Ft,q,this.getSigningKey(Je,Ct,V,Ye),this.createCanonicalRequest(Z,re,await ke(O,this.sha256))),Z}async sign(O,W){return typeof O=="string"?this.signString(O,W):O.headers&&O.payload?this.signEvent(O,W):O.message?this.signMessage(O,W):this.signRequest(O,W)}async signEvent({headers:O,payload:W},{signingDate:te=new Date,priorSignature:ie,signingRegion:oe,signingService:ve}){let He=oe??await this.regionProvider(),{shortDate:qe,longDate:Be}=this.formatDate(te),Ye=se(qe,He,ve??this.service),Je=await ke({headers:{},body:W},this.sha256),Ct=new this.sha256;Ct.update(O);let Ft=["AWS4-HMAC-SHA256-PAYLOAD",Be,Ye,ie,(0,C.n)(await Ct.digest()),Je].join(`
`);return this.signString(Ft,{signingDate:te,signingRegion:He,signingService:ve})}async signMessage(O,{signingDate:W=new Date,signingRegion:te,signingService:ie}){return this.signEvent({headers:this.headerFormatter.format(O.message.headers),payload:O.message.body},{signingDate:W,signingRegion:te,signingService:ie,priorSignature:O.priorSignature}).then(oe=>({message:O.message,signature:oe}))}async signString(O,{signingDate:W=new Date,signingRegion:te,signingService:ie}={}){let oe=await this.credentialProvider();this.validateResolvedCredentials(oe);let ve=te??await this.regionProvider(),{shortDate:He}=this.formatDate(W),qe=new this.sha256(await this.getSigningKey(oe,ve,He,ie));return qe.update((0,f.F)(O)),(0,C.n)(await qe.digest())}async signRequest(O,{signingDate:W=new Date,signableHeaders:te,unsignableHeaders:ie,signingRegion:oe,signingService:ve}={}){let He=await this.credentialProvider();this.validateResolvedCredentials(He);let qe=oe??await this.regionProvider(),Be=ae(O),{longDate:Ye,shortDate:Je}=this.formatDate(W),Ct=se(Je,qe,ve??this.service);Be.headers[b]=Ye,He.sessionToken&&(Be.headers[S]=He.sessionToken);let Ft=await ke(Be,this.sha256);!Yt(m,Be.headers)&&this.applyChecksum&&(Be.headers[m]=Ft);let V=we(Be,ie,te),q=await this.getSignature(Ye,Ct,this.getSigningKey(He,qe,Je,ve),this.createCanonicalRequest(Be,V,Ft));return Be.headers[x]=`${F} Credential=${He.accessKeyId}/${Ct}, SignedHeaders=${this.getCanonicalHeaderList(V)}, Signature=${q}`,Be}async getSignature(O,W,te,ie){let oe=await this.createStringToSign(O,W,ie,F),ve=new this.sha256(await te);return ve.update((0,f.F)(oe)),(0,C.n)(await ve.digest())}getSigningKey(O,W,te,ie){return ee(this.sha256,O,te,W,ie||this.service)}}},pe.__chunk_913=(ye,j,y)=>{y.d(j,{G:()=>C});var v=y(7539);function C(f){let M=[];for(let k of Object.keys(f).sort()){let T=f[k];if(k=(0,v.o)(k),Array.isArray(T))for(let x=0,b=T.length;x<b;x++)M.push(`${k}=${(0,v.o)(T[x])}`);else{let x=k;(T||typeof T=="string")&&(x+=`=${(0,v.o)(T)}`),M.push(x)}}return M.join("&")}},pe.__chunk_9390=(ye,j,y)=>{y.d(j,{c:()=>v});class v{statusCode;reason;headers;body;constructor(f){this.statusCode=f.statusCode,this.reason=f.reason,this.headers=f.headers||{},this.body=f.body}static isInstance(f){return!!f&&typeof f.statusCode=="number"&&typeof f.headers=="object"}}},pe.__chunk_5168=(ye,j,y)=>{y.d(j,{K:()=>v});class v{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(f){this.method=f.method||"GET",this.hostname=f.hostname||"localhost",this.port=f.port,this.query=f.query||{},this.headers=f.headers||{},this.body=f.body,this.protocol=f.protocol?f.protocol.slice(-1)!==":"?`${f.protocol}:`:f.protocol:"https:",this.path=f.path?f.path.charAt(0)!=="/"?`/${f.path}`:f.path:"/",this.username=f.username,this.password=f.password,this.fragment=f.fragment}static clone(f){var M;let k=new v({...f,headers:{...f.headers}});return k.query&&(k.query=Object.keys(M=k.query).reduce((T,x)=>{let b=M[x];return{...T,[x]:Array.isArray(b)?[...b]:b}},{})),k}static isInstance(f){return!!f&&"method"in f&&"protocol"in f&&"hostname"in f&&"path"in f&&typeof f.query=="object"&&typeof f.headers=="object"}clone(){return v.clone(this)}}},pe.__chunk_8727=(ye,j,y)=>{y.d(j,{o:()=>f});let v=(T,x)=>{let b=[];if(T&&b.push(T),x)for(let l of x)b.push(l);return b},C=(T,x)=>`${T||"anonymous"}${x&&x.length>0?` (a.k.a. ${x.join(",")})`:""}`,f=()=>{let T=[],x=[],b=!1,l=new Set,h=A=>A.sort((H,G)=>M[G.step]-M[H.step]||k[G.priority||"normal"]-k[H.priority||"normal"]),m=A=>{let H=!1,G=se=>{let ee=v(se.name,se.aliases);if(ee.includes(A)){for(let ce of(H=!0,ee))l.delete(ce);return!1}return!0};return T=T.filter(G),x=x.filter(G),H},S=A=>{let H=!1,G=se=>{if(se.middleware===A){for(let ee of(H=!0,v(se.name,se.aliases)))l.delete(ee);return!1}return!0};return T=T.filter(G),x=x.filter(G),H},N=A=>(T.forEach(H=>{A.add(H.middleware,{...H})}),x.forEach(H=>{A.addRelativeTo(H.middleware,{...H})}),A.identifyOnResolve?.(F.identifyOnResolve()),A),R=A=>{let H=[];return A.before.forEach(G=>{G.before.length===0&&G.after.length===0?H.push(G):H.push(...R(G))}),H.push(A),A.after.reverse().forEach(G=>{G.before.length===0&&G.after.length===0?H.push(G):H.push(...R(G))}),H},K=(A=!1)=>{let H=[],G=[],se={};return T.forEach(ee=>{let ce={...ee,before:[],after:[]};for(let we of v(ce.name,ce.aliases))se[we]=ce;H.push(ce)}),x.forEach(ee=>{let ce={...ee,before:[],after:[]};for(let we of v(ce.name,ce.aliases))se[we]=ce;G.push(ce)}),G.forEach(ee=>{if(ee.toMiddleware){let ce=se[ee.toMiddleware];if(ce===void 0){if(A)return;throw Error(`${ee.toMiddleware} is not found when adding ${C(ee.name,ee.aliases)} middleware ${ee.relation} ${ee.toMiddleware}`)}ee.relation==="after"&&ce.after.push(ee),ee.relation==="before"&&ce.before.push(ee)}}),h(H).map(R).reduce((ee,ce)=>(ee.push(...ce),ee),[])},F={add:(A,H={})=>{let{name:G,override:se,aliases:ee}=H,ce={step:"initialize",priority:"normal",middleware:A,...H},we=v(G,ee);if(we.length>0){if(we.some(Ee=>l.has(Ee))){if(!se)throw Error(`Duplicate middleware name '${C(G,ee)}'`);for(let Ee of we){let ke=T.findIndex(it=>it.name===Ee||it.aliases?.some(Tt=>Tt===Ee));if(ke===-1)continue;let _e=T[ke];if(_e.step!==ce.step||ce.priority!==_e.priority)throw Error(`"${C(_e.name,_e.aliases)}" middleware with ${_e.priority} priority in ${_e.step} step cannot be overridden by "${C(G,ee)}" middleware with ${ce.priority} priority in ${ce.step} step.`);T.splice(ke,1)}}for(let Ee of we)l.add(Ee)}T.push(ce)},addRelativeTo:(A,H)=>{let{name:G,override:se,aliases:ee}=H,ce={middleware:A,...H},we=v(G,ee);if(we.length>0){if(we.some(Ee=>l.has(Ee))){if(!se)throw Error(`Duplicate middleware name '${C(G,ee)}'`);for(let Ee of we){let ke=x.findIndex(it=>it.name===Ee||it.aliases?.some(Tt=>Tt===Ee));if(ke===-1)continue;let _e=x[ke];if(_e.toMiddleware!==ce.toMiddleware||_e.relation!==ce.relation)throw Error(`"${C(_e.name,_e.aliases)}" middleware ${_e.relation} "${_e.toMiddleware}" middleware cannot be overridden by "${C(G,ee)}" middleware ${ce.relation} "${ce.toMiddleware}" middleware.`);x.splice(ke,1)}}for(let Ee of we)l.add(Ee)}x.push(ce)},clone:()=>N(f()),use:A=>{A.applyToStack(F)},remove:A=>typeof A=="string"?m(A):S(A),removeByTag:A=>{let H=!1,G=se=>{let{tags:ee,name:ce,aliases:we}=se;if(ee&&ee.includes(A)){for(let Ee of v(ce,we))l.delete(Ee);return H=!0,!1}return!0};return T=T.filter(G),x=x.filter(G),H},concat:A=>{let H=N(f());return H.use(A),H.identifyOnResolve(b||H.identifyOnResolve()||(A.identifyOnResolve?.()??!1)),H},applyToStack:N,identify:()=>K(!0).map(A=>{let H=A.step??A.relation+" "+A.toMiddleware;return C(A.name,A.aliases)+" - "+H}),identifyOnResolve:A=>(typeof A=="boolean"&&(b=A),b),resolve:(A,H)=>{for(let G of K().map(se=>se.middleware).reverse())A=G(A,H);return b&&console.log(F.identify()),A}};return F},M={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},k={high:3,normal:2,low:1}},pe.__chunk_3162=(ye,j,y)=>{y.d(j,{r:()=>k});var v=y(1208),C=y(1843);let f=({config:T,instructions:x})=>(b,l)=>async h=>{T.isCustomEndpoint&&function(N,R,K){N.__smithy_context?N.__smithy_context.features||(N.__smithy_context.features={}):N.__smithy_context={features:{}},N.__smithy_context.features[R]="N"}(l,"ENDPOINT_OVERRIDE",0);let m=await(0,C.r)(h.input,{getEndpointParameterInstructions:()=>x},{...T},l);l.endpointV2=m,l.authSchemes=m.properties?.authSchemes;let S=l.authSchemes?.[0];if(S){l.signing_region=S.signingRegion,l.signing_service=S.signingName;let N=(0,v.u)(l),R=N?.selectedHttpAuthScheme?.httpAuthOption;R&&(R.signingProperties=Object.assign(R.signingProperties||{},{signing_region:S.signingRegion,signingRegion:S.signingRegion,signing_service:S.signingName,signingName:S.signingName,signingRegionSet:S.signingRegionSet},S.properties))}return b({...h})},M={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:"serializerMiddleware"},k=(T,x)=>({applyToStack:b=>{b.addRelativeTo(f({config:T,instructions:x}),M)}})},pe.__chunk_2222=(ye,j,y)=>{y.d(j,{a:()=>C});var v=y(3242);let C=f=>typeof f=="object"?"url"in f?(0,v.D)(f.url):f:(0,v.D)(f)},pe.__chunk_1843=(ye,j,y)=>{y.d(j,{r:()=>h,x:()=>m});let v=async S=>{let N=S?.Bucket||"";if(typeof S.Bucket=="string"&&(S.Bucket=N.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),T(N)){if(S.ForcePathStyle===!0)throw Error("Path-style addressing cannot be used with ARN buckets")}else k(N)&&(N.indexOf(".")===-1||String(S.Endpoint).startsWith("http:"))&&N.toLowerCase()===N&&!(N.length<3)||(S.ForcePathStyle=!0);return S.DisableMultiRegionAccessPoints&&(S.disableMultiRegionAccessPoints=!0,S.DisableMRAP=!0),S},C=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,f=/(\d+\.){3}\d+/,M=/\.\./,k=S=>C.test(S)&&!f.test(S)&&!M.test(S),T=S=>{let[N,R,K,,,F]=S.split(":"),A=N==="arn"&&S.split(":").length>=6,H=!!(A&&R&&K&&F);if(A&&!H)throw Error(`Invalid ARN: ${S} was an invalid ARN.`);return H},x=(S,N,R,K=!1)=>{let F=async()=>{let A;return K?A=R.clientContextParams?.[S]??R[S]??R[N]:A=R[S]??R[N],typeof A=="function"?A():A};return S==="credentialScope"||N==="CredentialScope"?async()=>{let A=typeof R.credentials=="function"?await R.credentials():R.credentials;return A?.credentialScope??A?.CredentialScope}:S==="accountId"||N==="AccountId"?async()=>{let A=typeof R.credentials=="function"?await R.credentials():R.credentials;return A?.accountId??A?.AccountId}:S==="endpoint"||N==="endpoint"?async()=>{if(R.isCustomEndpoint===!1)return;let A=await F();if(A&&typeof A=="object"){if("url"in A)return A.url.href;if("hostname"in A){let{protocol:H,hostname:G,port:se,path:ee}=A;return`${H}//${G}${se?":"+se:""}${ee}`}}return A}:F};var b=y(8062),l=y(2222);let h=async(S,N,R,K)=>{if(!R.isCustomEndpoint){let A;(A=R.serviceConfiguredEndpoint?await R.serviceConfiguredEndpoint():await(0,b.k)(R.serviceId))&&(R.endpoint=()=>Promise.resolve((0,l.a)(A)),R.isCustomEndpoint=!0)}let F=await m(S,N,R);if(typeof R.endpointProvider!="function")throw Error("config.endpointProvider is not set.");return R.endpointProvider(F,K)},m=async(S,N,R)=>{let K={},F=N?.getEndpointParameterInstructions?.()||{};for(let[A,H]of Object.entries(F))switch(H.type){case"staticContextParams":K[A]=H.value;break;case"contextParams":K[A]=S[H.name];break;case"clientContextParams":case"builtInParams":K[A]=await x(H.name,A,R,H.type!=="builtInParams")();break;case"operationContextParams":K[A]=H.get(S);break;default:throw Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(H))}return Object.keys(F).length===0&&Object.assign(K,R),String(R.serviceId).toLowerCase()==="s3"&&await v(K),K}},pe.__chunk_8062=(ye,j,y)=>{y.d(j,{k:()=>v});let v=async C=>{}},pe.__chunk_167=(ye,j,y)=>{y.d(j,{m:()=>v});let v=C=>typeof ArrayBuffer=="function"&&C instanceof ArrayBuffer||Object.prototype.toString.call(C)==="[object ArrayBuffer]"},pe.__chunk_4679=(ye,j,y)=>{y.d(j,{JV:()=>H,xE:()=>ce});let v=L=>{if(L!=null){if(typeof L=="string"){let ae=parseFloat(L);if(!Number.isNaN(ae))return String(ae)!==String(L)&&K.warn(R(`Expected number but observed string: ${L}`)),ae}if(typeof L=="number")return L;throw TypeError(`Expected number, got ${typeof L}: ${L}`)}},C=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),f=L=>{let ae=v(L);if(ae!==void 0&&!Number.isNaN(ae)&&ae!==1/0&&ae!==-1/0&&Math.abs(ae)>C)throw TypeError(`Expected 32-bit float, got ${L}`);return ae},M=L=>{if(L!=null){if(Number.isInteger(L)&&!Number.isNaN(L))return L;throw TypeError(`Expected integer, got ${typeof L}: ${L}`)}},k=L=>x(L,16),T=L=>x(L,8),x=(L,ae)=>{let De=M(L);if(De!==void 0&&b(De,ae)!==De)throw TypeError(`Expected ${ae}-bit integer, got ${L}`);return De},b=(L,ae)=>{switch(ae){case 32:return Int32Array.of(L)[0];case 16:return Int16Array.of(L)[0];case 8:return Int8Array.of(L)[0]}},l=L=>f(typeof L=="string"?m(L):L),h=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,m=L=>{let ae=L.match(h);if(ae===null||ae[0].length!==L.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(L)},S=L=>k(typeof L=="string"?m(L):L),N=L=>T(typeof L=="string"?m(L):L),R=L=>String(TypeError(L).stack||L).split(`
`).slice(0,5).filter(ae=>!ae.includes("stackTraceWarning")).join(`
`),K={warn:console.warn},F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function H(L){let ae=L.getUTCFullYear(),De=L.getUTCMonth(),be=L.getUTCDay(),Ue=L.getUTCDate(),nt=L.getUTCHours(),mt=L.getUTCMinutes(),Et=L.getUTCSeconds(),Xe=Ue<10?`0${Ue}`:`${Ue}`,J=nt<10?`0${nt}`:`${nt}`,O=mt<10?`0${mt}`:`${mt}`,W=Et<10?`0${Et}`:`${Et}`;return`${F[be]}, ${Xe} ${A[De]} ${ae} ${J}:${O}:${W} GMT`}let G=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),se=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),ee=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),ce=L=>{if(L==null)return;if(typeof L!="string")throw TypeError("RFC-7231 date-times must be expressed as strings");let ae=G.exec(L);if(ae){let[De,be,Ue,nt,mt,Et,Xe,J]=ae;return we(S(qt(nt)),_e(Ue),jt(be,"day",1,31),{hours:mt,minutes:Et,seconds:Xe,fractionalMilliseconds:J})}if(ae=se.exec(L)){let[De,be,Ue,nt,mt,Et,Xe,J]=ae;return ke(we(Ee(nt),_e(Ue),jt(be,"day",1,31),{hours:mt,minutes:Et,seconds:Xe,fractionalMilliseconds:J}))}if(ae=ee.exec(L)){let[De,be,Ue,nt,mt,Et,Xe,J]=ae;return we(S(qt(J)),_e(be),jt(Ue.trimLeft(),"day",1,31),{hours:nt,minutes:mt,seconds:Et,fractionalMilliseconds:Xe})}throw TypeError("Invalid RFC-7231 date-time value")},we=(L,ae,De,be)=>{let Ue=ae-1;return Tt(L,Ue,De),new Date(Date.UTC(L,Ue,De,jt(be.hours,"hour",0,23),jt(be.minutes,"minute",0,59),jt(be.seconds,"seconds",0,60),Yt(be.fractionalMilliseconds)))},Ee=L=>{let ae=new Date().getUTCFullYear(),De=100*Math.floor(ae/100)+S(qt(L));return De<ae?De+100:De},ke=L=>L.getTime()-new Date().getTime()>15768e8?new Date(Date.UTC(L.getUTCFullYear()-100,L.getUTCMonth(),L.getUTCDate(),L.getUTCHours(),L.getUTCMinutes(),L.getUTCSeconds(),L.getUTCMilliseconds())):L,_e=L=>{let ae=A.indexOf(L);if(ae<0)throw TypeError(`Invalid month: ${L}`);return ae+1},it=[31,28,31,30,31,30,31,31,30,31,30,31],Tt=(L,ae,De)=>{let be=it[ae];if(ae===1&&Vt(L)&&(be=29),De>be)throw TypeError(`Invalid day for ${A[ae]} in ${L}: ${De}`)},Vt=L=>L%4==0&&(L%100!=0||L%400==0),jt=(L,ae,De,be)=>{let Ue=N(qt(L));if(Ue<De||Ue>be)throw TypeError(`${ae} must be between ${De} and ${be}, inclusive`);return Ue},Yt=L=>L==null?0:1e3*l("0."+L),qt=L=>{let ae=0;for(;ae<L.length-1&&L.charAt(ae)==="0";)ae++;return ae===0?L:L.slice(ae)}},pe.__chunk_6549=(ye,j,y)=>{y.d(j,{c:()=>v});function v(C){if(typeof C=="object")return C;C|=0;let f={},M=0;for(let k of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(C>>M++&1)==1&&(f[k]=1);return f}},pe.__chunk_3330=(ye,j,y)=>{y.d(j,{l:()=>M});let v=b=>typeof b=="function"?b():b;var C=y(6549);let f={it:Symbol.for("@smithy/nor-struct-it")};class M{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=M.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(l,h){this.ref=l,this.memberName=h;let m=[],S=l,N=l;for(this._isMemberSchema=!1;T(S);)m.push(S[1]),N=v(S=S[0]),this._isMemberSchema=!0;if(m.length>0){this.memberTraits={};for(let R=m.length-1;R>=0;--R){let K=m[R];Object.assign(this.memberTraits,(0,C.c)(K))}}else this.memberTraits=0;if(N instanceof M){let R=this.memberTraits;Object.assign(this,N),this.memberTraits=Object.assign({},R,N.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=h??N.memberName;return}if(this.schema=v(N),x(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(N),this.traits=0),this._isMemberSchema&&!h)throw Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](l){let h=this.prototype.isPrototypeOf(l);return h||typeof l!="object"||l===null?h:l.symbol===this.symbol}static of(l){let h=v(l);if(h instanceof M)return h;if(T(h)){let[m,S]=h;if(m instanceof M)return Object.assign(m.getMergedTraits(),(0,C.c)(S)),m;throw Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(l,null,2)}.`)}return new M(h)}getSchema(){let l=this.schema;return Array.isArray(l)&&l[0]===0?l[4]:l}getName(l=!1){let{name:h}=this;return!l&&h&&h.includes("#")?h.split("#")[1]:h||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let l=this.getSchema();return typeof l=="number"?l>=64&&l<128:l[0]===1}isMapSchema(){let l=this.getSchema();return typeof l=="number"?l>=128&&l<=255:l[0]===2}isStructSchema(){let l=this.getSchema();if(typeof l!="object")return!1;let h=l[0];return h===3||h===-3||h===4}isUnionSchema(){let l=this.getSchema();return typeof l=="object"&&l[0]===4}isBlobSchema(){let l=this.getSchema();return l===21||l===42}isTimestampSchema(){let l=this.getSchema();return typeof l=="number"&&l>=4&&l<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:l}=this.getMergedTraits();return!!l||this.getSchema()===42}isIdempotencyToken(){return!!this.getMergedTraits().idempotencyToken}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return(0,C.c)(this.memberTraits)}getOwnTraits(){return(0,C.c)(this.traits)}getKeySchema(){let[l,h]=[this.isDocumentSchema(),this.isMapSchema()];if(!l&&!h)throw Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let m=this.getSchema();return k([l?15:m[4]??0,0],"key")}getValueSchema(){let l=this.getSchema(),[h,m,S]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],N=typeof l=="number"?63&l:l&&typeof l=="object"&&(m||S)?l[3+l[0]]:h?15:void 0;if(N!=null)return k([N,0],m?"value":"member");throw Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(l){let h=this.getSchema();if(this.isStructSchema()&&h[4].includes(l)){let m=h[4].indexOf(l),S=h[5][m];return k(T(S)?S:[S,0],l)}if(this.isDocumentSchema())return k([15,0],l);throw Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${l}.`)}getMemberSchemas(){let l={};try{for(let[h,m]of this.structIterator())l[h]=m}catch{}return l}getEventStreamMember(){if(this.isStructSchema()){for(let[l,h]of this.structIterator())if(h.isStreaming()&&h.isStructSchema())return l}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw Error("@smithy/core/schema - cannot iterate non-struct schema.");let l=this.getSchema(),h=l[4].length,m=l[f.it];if(m&&h===m.length){yield*m;return}m=Array(h);for(let S=0;S<h;++S){let N=l[4][S],R=k([l[5][S],0],N);yield m[S]=[N,R]}l[f.it]=m}}function k(b,l){return b instanceof M?Object.assign(b,{memberName:l,_isMemberSchema:!0}):new M(b,l)}let T=b=>Array.isArray(b)&&b.length===2,x=b=>Array.isArray(b)&&b.length>=5},pe.__chunk_2150=(ye,j,y)=>{y.d(j,{O:()=>v});class v{namespace;schemas;exceptions;static registries=new Map;constructor(f,M=new Map,k=new Map){this.namespace=f,this.schemas=M,this.exceptions=k}static for(f){return v.registries.has(f)||v.registries.set(f,new v(f)),v.registries.get(f)}register(f,M){let k=this.normalizeShapeId(f);v.for(k.split("#")[0]).schemas.set(k,M)}getSchema(f){let M=this.normalizeShapeId(f);if(!this.schemas.has(M))throw Error(`@smithy/core/schema - schema not found for ${M}`);return this.schemas.get(M)}registerError(f,M){let k=v.for(f[1]);k.schemas.set(f[1]+"#"+f[2],f),k.exceptions.set(f,M)}getErrorCtor(f){return v.for(f[1]).exceptions.get(f)}getBaseException(){for(let f of this.exceptions.keys())if(Array.isArray(f)){let[,M,k]=f,T=M+"#"+k;if(T.startsWith("smithy.ts.sdk.synthetic.")&&T.endsWith("ServiceException"))return f}}find(f){return[...this.schemas.values()].find(f)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(f){return f.includes("#")?f:this.namespace+"#"+f}}},pe.__chunk_496=(ye,j,y)=>{y.d(j,{EventStreamSerde:()=>f});var v=y(6244),C=y(681);class f{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:k,serializer:T,deserializer:x,serdeContext:b,defaultContentType:l}){this.marshaller=k,this.serializer=T,this.deserializer=x,this.serdeContext=b,this.defaultContentType=l}async serializeEventStream({eventStream:k,requestSchema:T,initialRequest:x}){let b=this.marshaller,l=T.getEventStreamMember(),h=T.getMemberSchema(l),m=this.serializer,S=this.defaultContentType,N=Symbol("initialRequestMarker"),R={async*[Symbol.asyncIterator](){if(x){m.write(T,x);let K=m.flush();yield{[N]:!0,headers:{":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:S}},body:K}}for await(let K of k)yield K}};return b.serialize(R,K=>{if(K[N])return{headers:K.headers,body:K.body};let F=Object.keys(K).find(ee=>ee!=="__type")??"",{additionalHeaders:A,body:H,eventType:G,explicitPayloadContentType:se}=this.writeEventBody(F,h,K);return{headers:{":event-type":{type:"string",value:G},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:se??S},...A},body:H}})}async deserializeEventStream({response:k,responseSchema:T,initialResponseContainer:x}){let b=this.marshaller,l=T.getEventStreamMember(),h=T.getMemberSchema(l).getMemberSchemas(),m=Symbol("initialResponseMarker"),S=b.deserialize(k.body,async K=>{let F=Object.keys(K).find(H=>H!=="__type")??"",A=K[F].body;if(F==="initial-response"){let H=await this.deserializer.read(T,A);return delete H[l],{[m]:!0,...H}}if(!(F in h))return{$unknown:K};{let H=h[F];if(H.isStructSchema()){let G={},se=!1;for(let[ee,ce]of H.structIterator()){let{eventHeader:we,eventPayload:Ee}=ce.getMergedTraits();if(se=se||!!(we||Ee),Ee)ce.isBlobSchema()?G[ee]=A:ce.isStringSchema()?G[ee]=(this.serdeContext?.utf8Encoder??v.P)(A):ce.isStructSchema()&&(G[ee]=await this.deserializer.read(ce,A));else if(we){let ke=K[F].headers[ee]?.value;ke!=null&&(ce.isNumericSchema()?ke&&typeof ke=="object"&&"bytes"in ke?G[ee]=BigInt(ke.toString()):G[ee]=Number(ke):G[ee]=ke)}}if(se)return{[F]:G};if(A.byteLength===0)return{[F]:{}}}return{[F]:await this.deserializer.read(H,A)}}}),N=S[Symbol.asyncIterator](),R=await N.next();if(R.done)return S;if(R.value?.[m]){if(!T)throw Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[K,F]of Object.entries(R.value))x[K]=F}return{async*[Symbol.asyncIterator](){for(R?.value?.[m]||(yield R.value);;){let{done:K,value:F}=await N.next();if(K)break;yield F}}}}writeEventBody(k,T,x){let b,l=this.serializer,h=k,m=null,S=T.getSchema()[4].includes(k),N={};if(S){let K=T.getMemberSchema(k);if(K.isStructSchema()){for(let[F,A]of K.structIterator()){let{eventHeader:H,eventPayload:G}=A.getMergedTraits();if(G)m=F;else if(H){let se=x[k][F],ee="binary";A.isNumericSchema()?ee=-2147483648<=se&&se<=2147483647?"integer":"long":A.isTimestampSchema()?ee="timestamp":A.isStringSchema()?ee="string":A.isBooleanSchema()&&(ee="boolean"),se!=null&&(N[F]={type:ee,value:se},delete x[k][F])}}if(m!==null){let F=K.getMemberSchema(m);F.isBlobSchema()?b="application/octet-stream":F.isStringSchema()&&(b="text/plain"),l.write(F,x[k][m])}else l.write(K,x[k])}else throw Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[K,F]=x[k];h=K,l.write(15,F)}let R=l.flush();return{body:typeof R=="string"?(this.serdeContext?.utf8Decoder??C.a)(R):R,eventType:h,explicitPayloadContentType:b,additionalHeaders:N}}}},pe.__chunk_2228=(ye,j,y)=>{y.d(j,{W:()=>b});var v=y(4915),C=y(3231);class f extends v.B{async signWithCredentials(h,m,S){let N=M(m);return h.headers[C.Zl]=m.sessionToken,k(this,N),this.signRequest(h,S??{})}async presignWithCredentials(h,m,S){let N=M(m);return delete h.headers[C.Zl],h.headers[C.Ki]=m.sessionToken,h.query=h.query??{},h.query[C.Ki]=m.sessionToken,k(this,N),this.presign(h,S)}}function M(l){return{accessKeyId:l.accessKeyId,secretAccessKey:l.secretAccessKey,expiration:l.expiration}}function k(l,h){let m=setTimeout(()=>{throw Error("SignatureV4S3Express credential override was created but not called.")},10),S=l.credentialProvider;l.credentialProvider=()=>(clearTimeout(m),l.credentialProvider=S,Promise.resolve(h))}let T={SignatureV4a:null},x={CrtSignerV4:null};class b{sigv4aSigner;sigv4Signer;signerOptions;static sigv4aDependency(){return typeof x.CrtSignerV4=="function"?"crt":typeof T.SignatureV4a=="function"?"js":"none"}constructor(h){this.sigv4Signer=new f(h),this.signerOptions=h}async sign(h,m={}){return m.signingRegion==="*"?this.getSigv4aSigner().sign(h,m):this.sigv4Signer.sign(h,m)}async signWithCredentials(h,m,S={}){if(S.signingRegion==="*"){let N=this.getSigv4aSigner(),R=x.CrtSignerV4;if(R&&N instanceof R)return N.signWithCredentials(h,m,S);throw Error(`signWithCredentials with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.signWithCredentials(h,m,S)}async presign(h,m={}){if(m.signingRegion==="*"){let S=this.getSigv4aSigner(),N=x.CrtSignerV4;if(N&&S instanceof N)return S.presign(h,m);throw Error(`presign with signingRegion '*' is only supported when using the CRT dependency @aws-sdk/signature-v4-crt. Please check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. You must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`)}return this.sigv4Signer.presign(h,m)}async presignWithCredentials(h,m,S={}){if(S.signingRegion==="*")throw Error("Method presignWithCredentials is not supported for [signingRegion=*].");return this.sigv4Signer.presignWithCredentials(h,m,S)}getSigv4aSigner(){if(!this.sigv4aSigner){let h=x.CrtSignerV4,m=T.SignatureV4a;if(this.signerOptions.runtime==="node"){if(!h&&!m)throw Error("Neither CRT nor JS SigV4a implementation is available. Please load either @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a. For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt");if(h&&typeof h=="function")this.sigv4aSigner=new h({...this.signerOptions,signingAlgorithm:1});else if(m&&typeof m=="function")this.sigv4aSigner=new m({...this.signerOptions});else throw Error("Available SigV4a implementation is not a valid constructor. Please ensure you've properly imported @aws-sdk/signature-v4-crt or @aws-sdk/signature-v4a.For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt")}else{if(!m||typeof m!="function")throw Error("JS SigV4a implementation is not available or not a valid constructor. Please check whether you have installed the @aws-sdk/signature-v4a package explicitly. The CRT implementation is not available for browsers. You must also register the package by calling [require('@aws-sdk/signature-v4a');] or an ESM equivalent such as [import '@aws-sdk/signature-v4a';]. For more information please go to https://github.com/aws/aws-sdk-js-v3#using-javascript-non-crt-implementation-of-sigv4a");this.sigv4aSigner=new m({...this.signerOptions})}}return this.sigv4aSigner}}},pe.__chunk_3526=(ye,j,y)=>{y.d(j,{A:()=>T});var v=y(913),C=y(1843),f=y(5168),M=y(2228);class k{signer;constructor(b){let l={service:b.signingName||b.service||"s3",uriEscapePath:b.uriEscapePath||!1,applyChecksum:b.applyChecksum||!1,...b};this.signer=new M.W(l)}presign(b,{unsignableHeaders:l=new Set,hoistableHeaders:h=new Set,unhoistableHeaders:m=new Set,...S}={}){return this.prepareRequest(b,{unsignableHeaders:l,unhoistableHeaders:m,hoistableHeaders:h}),this.signer.presign(b,{expiresIn:900,unsignableHeaders:l,unhoistableHeaders:m,...S})}presignWithCredentials(b,l,{unsignableHeaders:h=new Set,hoistableHeaders:m=new Set,unhoistableHeaders:S=new Set,...N}={}){return this.prepareRequest(b,{unsignableHeaders:h,unhoistableHeaders:S,hoistableHeaders:m}),this.signer.presignWithCredentials(b,l,{expiresIn:900,unsignableHeaders:h,unhoistableHeaders:S,...N})}prepareRequest(b,{unsignableHeaders:l=new Set,unhoistableHeaders:h=new Set,hoistableHeaders:m=new Set}={}){l.add("content-type"),Object.keys(b.headers).map(K=>K.toLowerCase()).filter(K=>K.startsWith("x-amz-server-side-encryption")).forEach(K=>{m.has(K)||h.add(K)}),b.headers["X-Amz-Content-Sha256"]="UNSIGNED-PAYLOAD";let S=b.headers.host,N=b.port,R=`${b.hostname}${b.port!=null?":"+N:""}`;S&&(S!==b.hostname||b.port==null)||(b.headers.host=R)}}let T=async(x,b,l={})=>{let h,m;if(typeof x.config.endpointProvider=="function"){let F=await(0,C.r)(b.input,b.constructor,x.config),A=F.properties?.authSchemes?.[0];m=A?.name==="sigv4a"?A?.signingRegionSet?.join(","):A?.signingRegion,h=new k({...x.config,signingName:A?.signingName,region:async()=>m})}else h=new k(x.config);let S=x.middlewareStack.clone();S.addRelativeTo((F,A)=>async H=>{let{request:G}=H;if(!f.K.isInstance(G))throw Error("Request to be presigned is not an valid HTTP request.");delete G.headers["amz-sdk-invocation-id"],delete G.headers["amz-sdk-request"],delete G.headers["x-amz-user-agent"];let se={...l,signingRegion:l.signingRegion??A.signing_region??m,signingService:l.signingService??A.signing_service};return{response:{},output:{$metadata:{httpStatusCode:200},presigned:A.s3ExpressIdentity?await h.presignWithCredentials(G,A.s3ExpressIdentity,se):await h.presign(G,se)}}},{name:"presignInterceptMiddleware",relation:"before",toMiddleware:"awsAuthMiddleware",override:!0});let N=b.resolveMiddleware(S,x.config,{}),{output:R}=await N({input:b.input}),{presigned:K}=R;return function(F){let{port:A,query:H}=F,{protocol:G,path:se,hostname:ee}=F;G&&G.slice(-1)!==":"&&(G+=":"),A&&(ee+=`:${A}`),se&&se.charAt(0)!=="/"&&(se=`/${se}`);let ce=H?(0,v.G)(H):"";ce&&ce[0]!=="?"&&(ce=`?${ce}`);let we="";if(F.username!=null||F.password!=null){let ke=F.username??"",_e=F.password??"";we=`${ke}:${_e}@`}let Ee="";return F.fragment&&(Ee=`#${F.fragment}`),`${G}//${we}${ee}${se}${ce}${Ee}`}(K)}},pe.__chunk_2235=(ye,j,y)=>{y.d(j,{M6:()=>C});let v={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},C=f=>({applyToStack:M=>{M.add(function(k){return T=>async x=>{let b={...x.input};for(let l of[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}]){let h=b[l.target];if(h){let m;typeof h=="string"?function(N,R){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(N))return!1;try{return R.base64Decoder(N).length===32}catch{return!1}}(h,k)?m=k.base64Decoder(h):(m=k.utf8Decoder(h),b[l.target]=k.base64Encoder(m)):(m=ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h),b[l.target]=k.base64Encoder(m));let S=new k.md5;S.update(m),b[l.hash]=k.base64Encoder(await S.digest())}}return T({...x,input:b})}}(f),v)}})},pe.__chunk_4904=(ye,j,y)=>{y.d(j,{Cg:()=>b});var v=y(9390);async function C(l){return typeof l.stream=="function"&&(l=l.stream()),l.tee()}async function f(l,h){let m=0,S=[],N=l.getReader(),R=!1;for(;!R;){let{done:A,value:H}=await N.read();if(H&&(S.push(H),m+=H?.byteLength??0),m>=h)break;R=A}N.releaseLock();let K=new Uint8Array(Math.min(h,m)),F=0;for(let A of S){if(A.byteLength>K.byteLength-F){K.set(A.subarray(0,K.byteLength-F),F);break}K.set(A,F),F+=A.length}return K}let M={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},k=l=>(h,m)=>async S=>{let N=await h(S),{response:R}=N;if(!v.c.isInstance(R))return N;let{statusCode:K,body:F}=R;if(K<200||K>=300||!(typeof F?.stream=="function"||typeof F?.pipe=="function"||typeof F?.tee=="function"))return N;let A=F,H=F;!F||typeof F!="object"||F instanceof Uint8Array||([A,H]=await C(F)),R.body=H;let G=await T(A,{streamCollector:async ee=>f(ee,3e3)});typeof A?.destroy=="function"&&A.destroy();let se=l.utf8Encoder(G.subarray(G.length-16));if(G.length===0&&M[m.commandName]){let ee=Error("S3 aborted request");throw ee.name="InternalError",ee}return se&&se.endsWith("</Error>")&&(R.statusCode=400),N},T=(l=new Uint8Array,h)=>l instanceof Uint8Array?Promise.resolve(l):h.streamCollector(l)||Promise.resolve(new Uint8Array),x={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},b=l=>({applyToStack:h=>{h.addRelativeTo(k(l),x)}})},pe.__chunk_3231=(ye,j,y)=>{y.d(j,{Ki:()=>M,Lm:()=>f,TS:()=>C,WC:()=>v,Zl:()=>k}),y(6722),y(2762);let v="Directory",C="S3Express",f="sigv4-s3express",M="X-Amz-S3session-Token",k=M.toLowerCase()},pe.__chunk_6377=(ye,j,y)=>{let v,C,f,M,k,T,x,b,l;y.d(j,{R:()=>Ft});var h=y(7319),m=y(8826);let S={name:"flexibleChecksumsInputMiddleware",toMiddleware:"serializerMiddleware",relation:"before",tags:["BODY_CHECKSUM"],override:!0},N=(V,q)=>(Z,re)=>async le=>{let xe=le.input,{requestValidationModeMember:Ie}=q,Ce=await V.requestChecksumCalculation(),Oe=await V.responseChecksumValidation();switch(Ce){case m.UQ.WHEN_REQUIRED:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_WHEN_REQUIRED","a");break;case m.UQ.WHEN_SUPPORTED:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_WHEN_SUPPORTED","Z")}switch(Oe){case m.G7.WHEN_REQUIRED:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_RES_WHEN_REQUIRED","c");break;case m.G7.WHEN_SUPPORTED:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_RES_WHEN_SUPPORTED","b")}return Ie&&!xe[Ie]&&Oe===m.G7.WHEN_SUPPORTED&&(xe[Ie]="ENABLED"),Z(le)};var R=y(5168);class K{allocByteArray;byteLength=0;byteArrays=[];constructor(q){this.allocByteArray=q}push(q){this.byteArrays.push(q),this.byteLength+=q.byteLength}flush(){if(this.byteArrays.length===1){let re=this.byteArrays[0];return this.reset(),re}let q=this.allocByteArray(this.byteLength),Z=0;for(let re=0;re<this.byteArrays.length;++re){let le=this.byteArrays[re];q.set(le,Z),Z+=le.byteLength}return this.reset(),q}reset(){this.byteArrays=[],this.byteLength=0}}var F=y(5356).Buffer;let A=function(V,q,Z){let re=V.getReader(),le=!1,xe=0,Ie=["",new K(Me=>new Uint8Array(Me))],Ce=-1,Oe=async Me=>{let{value:We,done:ct}=await re.read();if(ct){if(Ce!==-1){let lt=H(Ie,Ce);G(lt)>0&&Me.enqueue(lt)}Me.close()}else{let lt=function(Gt,Pt=!0){return Pt&&F!==void 0&&Gt instanceof F?2:Gt instanceof Uint8Array?1:typeof Gt=="string"?0:-1}(We,!1);if(Ce!==lt&&(Ce>=0&&Me.enqueue(H(Ie,Ce)),Ce=lt),Ce===-1){Me.enqueue(We);return}let yt=G(We);xe+=yt;let Rt=G(Ie[Ce]);if(yt>=q&&Rt===0)Me.enqueue(We);else{let Gt=function(Pt,Jt,Kt){switch(Jt){case 0:return Pt[0]+=Kt,G(Pt[0]);case 1:case 2:return Pt[Jt].push(Kt),G(Pt[Jt])}}(Ie,Ce,We);!le&&xe>2*q&&(le=!0,Z?.warn(`@smithy/util-stream - stream chunk size ${yt} is below threshold of ${q}, automatically buffering.`)),Gt>=q?Me.enqueue(H(Ie,Ce)):await Oe(Me)}}};return new ReadableStream({pull:Oe})};function H(V,q){switch(q){case 0:let Z=V[0];return V[0]="",Z;case 1:case 2:return V[q].flush()}throw Error(`@smithy/util-stream - invalid index ${q} given to flush()`)}function G(V){return V?.byteLength??V?.length??0}let se=[m.VD.CRC32,m.VD.CRC32C,m.VD.CRC64NVME,m.VD.SHA1,m.VD.SHA256],ee=[m.VD.SHA256,m.VD.SHA1,m.VD.CRC32,m.VD.CRC32C,m.VD.CRC64NVME],ce=(V,{requestChecksumRequired:q,requestAlgorithmMember:Z,requestChecksumCalculation:re})=>{if(!Z)return re===m.UQ.WHEN_SUPPORTED||q?m.Ic:void 0;if(!V[Z])return;let le=V[Z];if(!se.includes(le))throw Error(`The checksum algorithm "${le}" is not supported by the client. Select one of ${se}.`);return le},we=V=>V===m.VD.MD5?"content-md5":`x-amz-checksum-${V.toLowerCase()}`,Ee=(V,q)=>{let Z=V.toLowerCase();for(let re of Object.keys(q))if(Z===re.toLowerCase())return!0;return!1},ke=(V,q)=>{let Z=V.toLowerCase();for(let re of Object.keys(q))if(re.toLowerCase().startsWith(Z))return!0;return!1};var _e=y(167);let it=V=>V!==void 0&&typeof V!="string"&&!ArrayBuffer.isView(V)&&!(0,_e.m)(V);var Tt=y(9036),Vt=y(6288),jt=function(){function V(){this.crc32c=new Yt}return V.prototype.update=function(q){(0,Vt.Kz)(q)||this.crc32c.update((0,Vt.pP)(q))},V.prototype.digest=function(){return(0,Tt.sH)(this,void 0,void 0,function(){return(0,Tt.YH)(this,function(q){return[2,(0,Vt.yl)(this.crc32c.digest())]})})},V.prototype.reset=function(){this.crc32c=new Yt},V}(),Yt=function(){function V(){this.checksum=4294967295}return V.prototype.update=function(q){var Z,re;try{for(var le=(0,Tt.Ju)(q),xe=le.next();!xe.done;xe=le.next()){var Ie=xe.value;this.checksum=this.checksum>>>8^qt[(this.checksum^Ie)&255]}}catch(Ce){Z={error:Ce}}finally{try{xe&&!xe.done&&(re=le.return)&&re.call(le)}finally{if(Z)throw Z.error}}return this},V.prototype.digest=function(){return(4294967295^this.checksum)>>>0},V}(),qt=(0,Vt.zB)([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]);let L=()=>{let V=Array(8);for(let q=0;q<8;q++){let Z=Array(512);for(let re=0;re<256;re++){let le=BigInt(re);for(let xe=0;xe<8*(q+1);xe++)1n&le?le=le>>1n^0x9a6c9329ac4bc9b5n:le>>=1n;Z[2*re]=Number(le>>32n&4294967295n),Z[2*re+1]=Number(4294967295n&le)}V[q]=new Uint32Array(Z)}return V},ae=()=>{v||(v=L(),[C,f,M,k,T,x,b,l]=v)};class De{c1=0;c2=0;constructor(){ae(),this.reset()}update(q){let Z=q.length,re=0,le=this.c1,xe=this.c2;for(;re+8<=Z;){let Ie=((xe^q[re++])&255)<<1,Ce=((xe>>>8^q[re++])&255)<<1,Oe=((xe>>>16^q[re++])&255)<<1,Me=((xe>>>24^q[re++])&255)<<1,We=((le^q[re++])&255)<<1,ct=((le>>>8^q[re++])&255)<<1,lt=((le>>>16^q[re++])&255)<<1,yt=((le>>>24^q[re++])&255)<<1;le=l[Ie]^b[Ce]^x[Oe]^T[Me]^k[We]^M[ct]^f[lt]^C[yt],xe=l[Ie+1]^b[Ce+1]^x[Oe+1]^T[Me+1]^k[We+1]^M[ct+1]^f[lt+1]^C[yt+1]}for(;re<Z;){let Ie=((xe^q[re])&255)<<1;xe=(xe>>>8|(255&le)<<24)>>>0,le=le>>>8^C[Ie],xe^=C[Ie+1],re++}this.c1=le,this.c2=xe}async digest(){let q=4294967295^this.c1,Z=4294967295^this.c2;return new Uint8Array([q>>>24,q>>>16&255,q>>>8&255,255&q,Z>>>24,Z>>>16&255,Z>>>8&255,255&Z])}reset(){this.c1=4294967295,this.c2=4294967295}}let be={CrtCrc64Nvme:null};var Ue=y(5068);let nt=()=>Ue.Hz,mt=(V,q)=>{switch(V){case m.VD.MD5:return q.md5;case m.VD.CRC32:return nt();case m.VD.CRC32C:return jt;case m.VD.CRC64NVME:return typeof be.CrtCrc64Nvme!="function"?De:be.CrtCrc64Nvme;case m.VD.SHA1:return q.sha1;case m.VD.SHA256:return q.sha256;default:throw Error(`Unsupported checksum algorithm: ${V}`)}};var Et=y(7260);let Xe=(V,q)=>{let Z=new V;return Z.update((0,Et.F)(q||"")),Z.digest()},J={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},O=(V,q)=>(Z,re)=>async le=>{if(!R.K.isInstance(le.request)||ke("x-amz-checksum-",le.request.headers))return Z(le);let{request:xe,input:Ie}=le,{body:Ce,headers:Oe}=xe,{base64Encoder:Me,streamHasher:We}=V,{requestChecksumRequired:ct,requestAlgorithmMember:lt}=q,yt=await V.requestChecksumCalculation(),Rt=lt?.name,Gt=lt?.httpHeader;Rt&&!Ie[Rt]&&(yt===m.UQ.WHEN_SUPPORTED||ct)&&(Ie[Rt]=m.Ic,Gt&&(Oe[Gt]=m.Ic));let Pt=ce(Ie,{requestChecksumRequired:ct,requestAlgorithmMember:lt?.name,requestChecksumCalculation:yt}),Jt=Ce,Kt=Oe;if(Pt){switch(Pt){case m.VD.CRC32:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_CRC32","U");break;case m.VD.CRC32C:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_CRC32C","V");break;case m.VD.CRC64NVME:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_CRC64","W");break;case m.VD.SHA1:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_SHA1","X");break;case m.VD.SHA256:(0,h.J)(re,"FLEXIBLE_CHECKSUMS_REQ_SHA256","Y")}let Ze=we(Pt),fr=mt(Pt,V);if(it(Ce)){let{getAwsChunkedEncodingStream:hr,bodyLengthChecker:Mr}=V;Jt=hr(typeof V.requestStreamBufferSize=="number"&&V.requestStreamBufferSize>=8192?A(Ce,V.requestStreamBufferSize,re.logger):Ce,{base64Encoder:Me,bodyLengthChecker:Mr,checksumLocationName:Ze,checksumAlgorithmFn:fr,streamHasher:We}),Kt={...Oe,"content-encoding":Oe["content-encoding"]?`${Oe["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":Oe["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":Ze},delete Kt["content-length"]}else if(!Ee(Ze,Oe)){let hr=await Xe(fr,Ce);Kt={...Oe,[Ze]:Me(hr)}}}try{return await Z({...le,request:{...xe,headers:Kt,body:Jt}})}catch(Ze){if(Ze instanceof Error&&Ze.name==="InvalidChunkSizeError")try{Ze.message.endsWith(".")||(Ze.message+="."),Ze.message+=" Set [requestStreamBufferSize=number e.g. 65_536] in client constructor to instruct AWS SDK to buffer your input stream."}catch{}throw Ze}},W=(V=[])=>{let q=[];for(let Z of ee)V.includes(Z)&&se.includes(Z)&&q.push(Z);return q},te=V=>{let q=V.lastIndexOf("-");if(q!==-1){let Z=V.slice(q+1);if(!Z.startsWith("0")){let re=parseInt(Z,10);if(!isNaN(re)&&re>=1&&re<=1e4)return!0}}return!1};var ie=y(2852),oe=y(2859);let ve=typeof ReadableStream=="function"?ReadableStream:function(){};class He extends ve{}let qe=({expectedChecksum:V,checksum:q,source:Z,checksumSourceLocation:re,base64Encoder:le})=>{if(!(0,oe.H)(Z))throw Error(`@smithy/util-stream: unsupported source type ${Z?.constructor?.name??Z} in ChecksumStream.`);let xe=le??ie.n;if(typeof TransformStream!="function")throw Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let Ie=new TransformStream({start(){},async transform(Oe,Me){q.update(Oe),Me.enqueue(Oe)},async flush(Oe){let Me=xe(await q.digest());if(V!==Me){let We=Error(`Checksum mismatch: expected "${V}" but received "${Me}" in response header "${re}".`);Oe.error(We)}else Oe.terminate()}});Z.pipeThrough(Ie);let Ce=Ie.readable;return Object.setPrototypeOf(Ce,He.prototype),Ce},Be=async(V,{checksumAlgorithmFn:q,base64Encoder:Z})=>Z(await Xe(q,V)),Ye=async(V,{config:q,responseAlgorithms:Z,logger:re})=>{let le=W(Z),{body:xe,headers:Ie}=V;for(let Ce of le){let Oe=we(Ce),Me=Ie[Oe];if(Me){let We;try{We=mt(Ce,q)}catch(yt){if(Ce===m.VD.CRC64NVME){re?.warn(`Skipping ${m.VD.CRC64NVME} checksum validation: ${yt.message}`);continue}throw yt}let{base64Encoder:ct}=q;if(it(xe)){V.body=qe({expectedChecksum:Me,checksumSourceLocation:Oe,checksum:new We,source:xe,base64Encoder:ct});return}let lt=await Be(xe,{checksumAlgorithmFn:We,base64Encoder:ct});if(lt===Me)break;throw Error(`Checksum mismatch: expected "${lt}" but received "${Me}" in response header "${Oe}".`)}}},Je={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},Ct=(V,q)=>(Z,re)=>async le=>{if(!R.K.isInstance(le.request))return Z(le);let xe=le.input,Ie=await Z(le),Ce=Ie.response,{requestValidationModeMember:Oe,responseAlgorithms:Me}=q;if(Oe&&xe[Oe]==="ENABLED"){let{clientName:We,commandName:ct}=re;if(We==="S3Client"&&ct==="GetObjectCommand"&&W(Me).every(lt=>{let yt=we(lt),Rt=Ce.headers[yt];return!Rt||te(Rt)}))return Ie;await Ye(Ce,{config:V,responseAlgorithms:Me,logger:re.logger})}return Ie},Ft=(V,q)=>({applyToStack:Z=>{Z.add(O(V,q),J),Z.addRelativeTo(N(V,q),S),Z.addRelativeTo(Ct(V,q),Je)}})},pe.__chunk_8826=(ye,j,y)=>{var v,C;y.d(j,{G7:()=>k,Ic:()=>x,In:()=>T,UQ:()=>f,VD:()=>v,WK:()=>M});let f={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},M=f.WHEN_SUPPORTED,k={WHEN_SUPPORTED:"WHEN_SUPPORTED",WHEN_REQUIRED:"WHEN_REQUIRED"},T=f.WHEN_SUPPORTED;(function(b){b.MD5="MD5",b.CRC32="CRC32",b.CRC32C="CRC32C",b.CRC64NVME="CRC64NVME",b.SHA1="SHA1",b.SHA256="SHA256"})(v||(v={})),function(b){b.HEADER="header",b.TRAILER="trailer"}(C||(C={}));let x=v.CRC32},pe.__chunk_7319=(ye,j,y)=>{y.d(j,{J:()=>v});function v(C,f,M){C.__aws_sdk_context?C.__aws_sdk_context.features||(C.__aws_sdk_context.features={}):C.__aws_sdk_context={features:{}},C.__aws_sdk_context.features[f]=M}},pe.__chunk_6288=(ye,j,y)=>{y.d(j,{pP:()=>f,Kz:()=>M,yl:()=>k,zB:()=>T});var v=y(5356).Buffer,C=v!==void 0&&v.from?function(x){return v.from(x,"utf8")}:x=>new TextEncoder().encode(x);function f(x){return x instanceof Uint8Array?x:typeof x=="string"?C(x):ArrayBuffer.isView(x)?new Uint8Array(x.buffer,x.byteOffset,x.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(x)}function M(x){return typeof x=="string"?x.length===0:x.byteLength===0}function k(x){return new Uint8Array([(4278190080&x)>>24,(16711680&x)>>16,(65280&x)>>8,255&x])}function T(x){if(!Uint32Array.from){for(var b=new Uint32Array(x.length),l=0;l<x.length;)b[l]=x[l],l+=1;return b}return Uint32Array.from(x)}},pe.__chunk_5068=(ye,j,y)=>{y.d(j,{Hz:()=>f,s$:()=>M});var v=y(9036),C=y(6288),f=function(){function T(){this.crc32=new M}return T.prototype.update=function(x){(0,C.Kz)(x)||this.crc32.update((0,C.pP)(x))},T.prototype.digest=function(){return(0,v.sH)(this,void 0,void 0,function(){return(0,v.YH)(this,function(x){return[2,(0,C.yl)(this.crc32.digest())]})})},T.prototype.reset=function(){this.crc32=new M},T}(),M=function(){function T(){this.checksum=4294967295}return T.prototype.update=function(x){var b,l;try{for(var h=(0,v.Ju)(x),m=h.next();!m.done;m=h.next()){var S=m.value;this.checksum=this.checksum>>>8^k[(this.checksum^S)&255]}}catch(N){b={error:N}}finally{try{m&&!m.done&&(l=h.return)&&l.call(h)}finally{if(b)throw b.error}}return this},T.prototype.digest=function(){return(4294967295^this.checksum)>>>0},T}(),k=(0,C.zB)([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117])},pe);export{tl as __getNamedExports};
